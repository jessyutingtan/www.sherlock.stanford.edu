function wg(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var wh={exports:{}},Us={},bh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),bg=Symbol.for("react.portal"),_g=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),kg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Sg=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),Ng=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),qc=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=qc&&e[qc]||e["@@iterator"],typeof e=="function"?e:null)}var _h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xh=Object.assign,kh={};function zn(e,t,r){this.props=e,this.context=t,this.refs=kh,this.updater=r||_h}zn.prototype.isReactComponent={};zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eh(){}Eh.prototype=zn.prototype;function xu(e,t,r){this.props=e,this.context=t,this.refs=kh,this.updater=r||_h}var ku=xu.prototype=new Eh;ku.constructor=xu;xh(ku,zn.prototype);ku.isPureReactComponent=!0;var Bc=Array.isArray,Sh=Object.prototype.hasOwnProperty,Eu={current:null},Oh={key:!0,ref:!0,__self:!0,__source:!0};function jh(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Sh.call(t,n)&&!Oh.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:io,type:e,key:o,ref:s,props:i,_owner:Eu.current}}function Ag(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Su(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function Cg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Uc=/\/+/g;function va(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cg(""+e.key):t.toString(36)}function Ho(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case io:case bg:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+va(s,0):n,Bc(i)?(r="",e!=null&&(r=e.replace(Uc,"$&/")+"/"),Ho(i,t,r,"",function(u){return u})):i!=null&&(Su(i)&&(i=Ag(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Uc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Bc(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+va(o,a);s+=Ho(o,t,r,l,i)}else if(l=Pg(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+va(o,a++),s+=Ho(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function vo(e,t,r){if(e==null)return e;var n=[],i=0;return Ho(e,n,"","",function(o){return t.call(r,o,i++)}),n}function Rg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var et={current:null},Vo={transition:null},Lg={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:Vo,ReactCurrentOwner:Eu};function Nh(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:vo,forEach:function(e,t,r){vo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vo(e,function(){t++}),t},toArray:function(e){return vo(e,function(t){return t})||[]},only:function(e){if(!Su(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=zn;de.Fragment=_g;de.Profiler=kg;de.PureComponent=xu;de.StrictMode=xg;de.Suspense=jg;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg;de.act=Nh;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xh({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Eu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Sh.call(t,l)&&!Oh.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:io,type:e.type,key:i,ref:o,props:n,_owner:s}};de.createContext=function(e){return e={$$typeof:Sg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Eg,_context:e},e.Consumer=e};de.createElement=jh;de.createFactory=function(e){var t=jh.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Og,render:e}};de.isValidElement=Su;de.lazy=function(e){return{$$typeof:Tg,_payload:{_status:-1,_result:e},_init:Rg}};de.memo=function(e,t){return{$$typeof:Ng,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Vo.transition;Vo.transition={};try{e()}finally{Vo.transition=t}};de.unstable_act=Nh;de.useCallback=function(e,t){return et.current.useCallback(e,t)};de.useContext=function(e){return et.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return et.current.useDeferredValue(e)};de.useEffect=function(e,t){return et.current.useEffect(e,t)};de.useId=function(){return et.current.useId()};de.useImperativeHandle=function(e,t,r){return et.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return et.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return et.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return et.current.useMemo(e,t)};de.useReducer=function(e,t,r){return et.current.useReducer(e,t,r)};de.useRef=function(e){return et.current.useRef(e)};de.useState=function(e){return et.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return et.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return et.current.useTransition()};de.version="18.3.1";bh.exports=de;var H=bh.exports;const Ou=_u(H),Ig=wg({__proto__:null,default:Ou},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=H,$g=Symbol.for("react.element"),Mg=Symbol.for("react.fragment"),qg=Object.prototype.hasOwnProperty,Bg=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ug={key:!0,ref:!0,__self:!0,__source:!0};function Th(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)qg.call(t,n)&&!Ug.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:$g,type:e,key:o,ref:s,props:i,_owner:Bg.current}}Us.Fragment=Mg;Us.jsx=Th;Us.jsxs=Th;wh.exports=Us;var _=wh.exports,nl={},Ph={exports:{}},wt={},Ah={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,M){var L=W.length;W.push(M);e:for(;0<L;){var T=L-1>>>1,I=W[T];if(0<i(I,M))W[T]=M,W[L]=I,L=T;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var M=W[0],L=W.pop();if(L!==M){W[0]=L;e:for(var T=0,I=W.length,$=I>>>1;T<$;){var z=2*(T+1)-1,F=W[z],D=z+1,B=W[D];if(0>i(F,L))D<I&&0>i(B,F)?(W[T]=B,W[D]=L,T=D):(W[T]=F,W[z]=L,T=z);else if(D<I&&0>i(B,L))W[T]=B,W[D]=L,T=D;else break e}}return M}function i(W,M){var L=W.sortIndex-M.sortIndex;return L!==0?L:W.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],p=1,f=null,c=3,d=!1,g=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=W)n(u),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(u)}}function y(W){if(v=!1,w(W),!g)if(r(l)!==null)g=!0,q(x);else{var M=r(u);M!==null&&U(y,M.startTime-W)}}function x(W,M){g=!1,v&&(v=!1,m(E),E=-1),d=!0;var L=c;try{for(w(M),f=r(l);f!==null&&(!(f.expirationTime>M)||W&&!S());){var T=f.callback;if(typeof T=="function"){f.callback=null,c=f.priorityLevel;var I=T(f.expirationTime<=M);M=e.unstable_now(),typeof I=="function"?f.callback=I:f===r(l)&&n(l),w(M)}else n(l);f=r(l)}if(f!==null)var $=!0;else{var z=r(u);z!==null&&U(y,z.startTime-M),$=!1}return $}finally{f=null,c=L,d=!1}}var O=!1,k=null,E=-1,P=5,j=-1;function S(){return!(e.unstable_now()-j<P)}function N(){if(k!==null){var W=e.unstable_now();j=W;var M=!0;try{M=k(!0,W)}finally{M?A():(O=!1,k=null)}}else O=!1}var A;if(typeof h=="function")A=function(){h(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,R=C.port2;C.port1.onmessage=N,A=function(){R.postMessage(null)}}else A=function(){b(N,0)};function q(W){k=W,O||(O=!0,A())}function U(W,M){E=b(function(){W(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,q(x))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(W){switch(c){case 1:case 2:case 3:var M=3;break;default:M=c}var L=c;c=M;try{return W()}finally{c=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,M){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var L=c;c=W;try{return M()}finally{c=L}},e.unstable_scheduleCallback=function(W,M,L){var T=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?T+L:T):L=T,W){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=L+I,W={id:p++,callback:M,priorityLevel:W,startTime:L,expirationTime:I,sortIndex:-1},L>T?(W.sortIndex=L,t(u,W),r(l)===null&&W===r(u)&&(v?(m(E),E=-1):v=!0,U(y,L-T))):(W.sortIndex=I,t(l,W),g||d||(g=!0,q(x))),W},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(W){var M=c;return function(){var L=c;c=M;try{return W.apply(this,arguments)}finally{c=L}}}})(Ch);Ah.exports=Ch;var Fg=Ah.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg=H,yt=Fg;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rh=new Set,Li={};function tn(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(Li[e]=t,e=0;e<t.length;e++)Rh.add(t[e])}var Jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fc={},zc={};function Hg(e){return il.call(zc,e)?!0:il.call(Fc,e)?!1:Wg.test(e)?zc[e]=!0:(Fc[e]=!0,!1)}function Vg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Kg(e,t,r,n){if(t===null||typeof t>"u"||Vg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function tt(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ju=/[\-:]([a-z])/g;function Nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ju,Nu);Ve[t]=new tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ju,Nu);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ju,Nu);Ve[t]=new tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tu(e,t,r,n){var i=Ve.hasOwnProperty(t)?Ve[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Kg(t,r,i,n)&&(r=null),n||i===null?Hg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var tr=zg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,go=Symbol.for("react.element"),pn=Symbol.for("react.portal"),mn=Symbol.for("react.fragment"),Pu=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),Lh=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),Au=Symbol.for("react.forward_ref"),sl=Symbol.for("react.suspense"),al=Symbol.for("react.suspense_list"),Cu=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Dh=Symbol.for("react.offscreen"),Wc=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=Wc&&e[Wc]||e["@@iterator"],typeof e=="function"?e:null)}var Ae=Object.assign,ga;function gi(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var ya=!1;function wa(e,t){if(!e||ya)return"";ya=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{ya=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gi(e):""}function Gg(e){switch(e.tag){case 5:return gi(e.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 2:case 15:return e=wa(e.type,!1),e;case 11:return e=wa(e.type.render,!1),e;case 1:return e=wa(e.type,!0),e;default:return""}}function ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case mn:return"Fragment";case pn:return"Portal";case ol:return"Profiler";case Pu:return"StrictMode";case sl:return"Suspense";case al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ih:return(e.displayName||"Context")+".Consumer";case Lh:return(e._context.displayName||"Context")+".Provider";case Au:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cu:return t=e.displayName||null,t!==null?t:ll(e.type)||"Memo";case ur:t=e._payload,e=e._init;try{return ll(e(t))}catch{}}return null}function Yg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(t);case 8:return t===Pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Or(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qg(e){var t=$h(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yo(e){e._valueTracker||(e._valueTracker=Qg(e))}function Mh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$h(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ul(e,t){var r=t.checked;return Ae({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Hc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Or(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qh(e,t){t=t.checked,t!=null&&Tu(e,"checked",t,!1)}function cl(e,t){qh(e,t);var r=Or(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fl(e,t.type,r):t.hasOwnProperty("defaultValue")&&fl(e,t.type,Or(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function fl(e,t,r){(t!=="number"||is(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yi=Array.isArray;function On(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Or(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function dl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return Ae({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if(yi(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Or(r)}}function Bh(e,t){var r=Or(t.value),n=Or(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wo,Fh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wo=wo||document.createElement("div"),wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ii(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jg=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){Jg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function zh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function Wh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=zh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Xg=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pl(e,t){if(t){if(Xg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function Ru(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gl=null,jn=null,Nn=null;function Yc(e){if(e=ao(e)){if(typeof gl!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Vs(t),gl(e.stateNode,e.type,t))}}function Hh(e){jn?Nn?Nn.push(e):Nn=[e]:jn=e}function Vh(){if(jn){var e=jn,t=Nn;if(Nn=jn=null,Yc(e),t)for(e=0;e<t.length;e++)Yc(t[e])}}function Kh(e,t){return e(t)}function Gh(){}var ba=!1;function Yh(e,t,r){if(ba)return e(t,r);ba=!0;try{return Kh(e,t,r)}finally{ba=!1,(jn!==null||Nn!==null)&&(Gh(),Vh())}}function Di(e,t){var r=e.stateNode;if(r===null)return null;var n=Vs(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var yl=!1;if(Jt)try{var si={};Object.defineProperty(si,"passive",{get:function(){yl=!0}}),window.addEventListener("test",si,si),window.removeEventListener("test",si,si)}catch{yl=!1}function Zg(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var ki=!1,os=null,ss=!1,wl=null,ey={onError:function(e){ki=!0,os=e}};function ty(e,t,r,n,i,o,s,a,l){ki=!1,os=null,Zg.apply(ey,arguments)}function ry(e,t,r,n,i,o,s,a,l){if(ty.apply(this,arguments),ki){if(ki){var u=os;ki=!1,os=null}else throw Error(X(198));ss||(ss=!0,wl=u)}}function rn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Qh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qc(e){if(rn(e)!==e)throw Error(X(188))}function ny(e){var t=e.alternate;if(!t){if(t=rn(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Qc(i),e;if(o===n)return Qc(i),t;o=o.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function Jh(e){return e=ny(e),e!==null?Xh(e):null}function Xh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xh(e);if(t!==null)return t;e=e.sibling}return null}var Zh=yt.unstable_scheduleCallback,Jc=yt.unstable_cancelCallback,iy=yt.unstable_shouldYield,oy=yt.unstable_requestPaint,Re=yt.unstable_now,sy=yt.unstable_getCurrentPriorityLevel,Lu=yt.unstable_ImmediatePriority,ep=yt.unstable_UserBlockingPriority,as=yt.unstable_NormalPriority,ay=yt.unstable_LowPriority,tp=yt.unstable_IdlePriority,Fs=null,Ft=null;function ly(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Fs,e,void 0,(e.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:fy,uy=Math.log,cy=Math.LN2;function fy(e){return e>>>=0,e===0?32:31-(uy(e)/cy|0)|0}var bo=64,_o=4194304;function wi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ls(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=wi(a):(o&=s,o!==0&&(n=wi(o)))}else s=r&~i,s!==0?n=wi(s):o!==0&&(n=wi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-It(t),i=1<<r,n|=e[r],t&=~i;return n}function dy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hy(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-It(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=dy(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rp(){var e=bo;return bo<<=1,!(bo&4194240)&&(bo=64),e}function _a(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-It(t),e[t]=r}function py(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-It(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function Iu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-It(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ye=0;function np(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ip,Du,op,sp,ap,_l=!1,xo=[],gr=null,yr=null,wr=null,$i=new Map,Mi=new Map,fr=[],my="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xc(e,t){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":$i.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(t.pointerId)}}function ai(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ao(t),t!==null&&Du(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vy(e,t,r,n,i){switch(t){case"focusin":return gr=ai(gr,e,t,r,n,i),!0;case"dragenter":return yr=ai(yr,e,t,r,n,i),!0;case"mouseover":return wr=ai(wr,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return $i.set(o,ai($i.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Mi.set(o,ai(Mi.get(o)||null,e,t,r,n,i)),!0}return!1}function lp(e){var t=zr(e.target);if(t!==null){var r=rn(t);if(r!==null){if(t=r.tag,t===13){if(t=Qh(r),t!==null){e.blockedOn=t,ap(e.priority,function(){op(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ko(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=xl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);vl=n,r.target.dispatchEvent(n),vl=null}else return t=ao(r),t!==null&&Du(t),e.blockedOn=r,!1;t.shift()}return!0}function Zc(e,t,r){Ko(e)&&r.delete(t)}function gy(){_l=!1,gr!==null&&Ko(gr)&&(gr=null),yr!==null&&Ko(yr)&&(yr=null),wr!==null&&Ko(wr)&&(wr=null),$i.forEach(Zc),Mi.forEach(Zc)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,_l||(_l=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,gy)))}function qi(e){function t(i){return li(i,e)}if(0<xo.length){li(xo[0],e);for(var r=1;r<xo.length;r++){var n=xo[r];n.blockedOn===e&&(n.blockedOn=null)}}for(gr!==null&&li(gr,e),yr!==null&&li(yr,e),wr!==null&&li(wr,e),$i.forEach(t),Mi.forEach(t),r=0;r<fr.length;r++)n=fr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fr.length&&(r=fr[0],r.blockedOn===null);)lp(r),r.blockedOn===null&&fr.shift()}var Tn=tr.ReactCurrentBatchConfig,us=!0;function yy(e,t,r,n){var i=ye,o=Tn.transition;Tn.transition=null;try{ye=1,$u(e,t,r,n)}finally{ye=i,Tn.transition=o}}function wy(e,t,r,n){var i=ye,o=Tn.transition;Tn.transition=null;try{ye=4,$u(e,t,r,n)}finally{ye=i,Tn.transition=o}}function $u(e,t,r,n){if(us){var i=xl(e,t,r,n);if(i===null)Aa(e,t,n,cs,r),Xc(e,n);else if(vy(i,e,t,r,n))n.stopPropagation();else if(Xc(e,n),t&4&&-1<my.indexOf(e)){for(;i!==null;){var o=ao(i);if(o!==null&&ip(o),o=xl(e,t,r,n),o===null&&Aa(e,t,n,cs,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Aa(e,t,n,null,r)}}var cs=null;function xl(e,t,r,n){if(cs=null,e=Ru(n),e=zr(e),e!==null)if(t=rn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Qh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cs=e,null}function up(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sy()){case Lu:return 1;case ep:return 4;case as:case ay:return 16;case tp:return 536870912;default:return 16}default:return 16}}var pr=null,Mu=null,Go=null;function cp(){if(Go)return Go;var e,t=Mu,r=t.length,n,i="value"in pr?pr.value:pr.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return Go=i.slice(e,1<n?1-n:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ko(){return!0}function ef(){return!1}function bt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ko:ef,this.isPropagationStopped=ef,this}return Ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=bt(Wn),so=Ae({},Wn,{view:0,detail:0}),by=bt(so),xa,ka,ui,zs=Ae({},so,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(xa=e.screenX-ui.screenX,ka=e.screenY-ui.screenY):ka=xa=0,ui=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:ka}}),tf=bt(zs),_y=Ae({},zs,{dataTransfer:0}),xy=bt(_y),ky=Ae({},so,{relatedTarget:0}),Ea=bt(ky),Ey=Ae({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sy=bt(Ey),Oy=Ae({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jy=bt(Oy),Ny=Ae({},Wn,{data:0}),rf=bt(Ny),Ty={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ay[e])?!!t[e]:!1}function Bu(){return Cy}var Ry=Ae({},so,{key:function(e){if(e.key){var t=Ty[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bu,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ly=bt(Ry),Iy=Ae({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=bt(Iy),Dy=Ae({},so,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bu}),$y=bt(Dy),My=Ae({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qy=bt(My),By=Ae({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=bt(By),Fy=[9,13,27,32],Uu=Jt&&"CompositionEvent"in window,Ei=null;Jt&&"documentMode"in document&&(Ei=document.documentMode);var zy=Jt&&"TextEvent"in window&&!Ei,fp=Jt&&(!Uu||Ei&&8<Ei&&11>=Ei),of=" ",sf=!1;function dp(e,t){switch(e){case"keyup":return Fy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vn=!1;function Wy(e,t){switch(e){case"compositionend":return hp(t);case"keypress":return t.which!==32?null:(sf=!0,of);case"textInput":return e=t.data,e===of&&sf?null:e;default:return null}}function Hy(e,t){if(vn)return e==="compositionend"||!Uu&&dp(e,t)?(e=cp(),Go=Mu=pr=null,vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fp&&t.locale!=="ko"?null:t.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vy[e.type]:t==="textarea"}function pp(e,t,r,n){Hh(n),t=fs(t,"onChange"),0<t.length&&(r=new qu("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Si=null,Bi=null;function Ky(e){Sp(e,0)}function Ws(e){var t=wn(e);if(Mh(t))return e}function Gy(e,t){if(e==="change")return t}var mp=!1;if(Jt){var Sa;if(Jt){var Oa="oninput"in document;if(!Oa){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Oa=typeof lf.oninput=="function"}Sa=Oa}else Sa=!1;mp=Sa&&(!document.documentMode||9<document.documentMode)}function uf(){Si&&(Si.detachEvent("onpropertychange",vp),Bi=Si=null)}function vp(e){if(e.propertyName==="value"&&Ws(Bi)){var t=[];pp(t,Bi,e,Ru(e)),Yh(Ky,t)}}function Yy(e,t,r){e==="focusin"?(uf(),Si=t,Bi=r,Si.attachEvent("onpropertychange",vp)):e==="focusout"&&uf()}function Qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Bi)}function Jy(e,t){if(e==="click")return Ws(t)}function Xy(e,t){if(e==="input"||e==="change")return Ws(t)}function Zy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:Zy;function Ui(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!il.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ff(e,t){var r=cf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cf(r)}}function gp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yp(){for(var e=window,t=is();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=is(e.document)}return t}function Fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function e0(e){var t=yp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gp(r.ownerDocument.documentElement,r)){if(n!==null&&Fu(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=ff(r,o);var s=ff(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var t0=Jt&&"documentMode"in document&&11>=document.documentMode,gn=null,kl=null,Oi=null,El=!1;function df(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;El||gn==null||gn!==is(n)||(n=gn,"selectionStart"in n&&Fu(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oi&&Ui(Oi,n)||(Oi=n,n=fs(kl,"onSelect"),0<n.length&&(t=new qu("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function Eo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var yn={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},ja={},wp={};Jt&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function Hs(e){if(ja[e])return ja[e];if(!yn[e])return e;var t=yn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in wp)return ja[e]=t[r];return e}var bp=Hs("animationend"),_p=Hs("animationiteration"),xp=Hs("animationstart"),kp=Hs("transitionend"),Ep=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Ep.set(e,t),tn(t,[e])}for(var Na=0;Na<hf.length;Na++){var Ta=hf[Na],r0=Ta.toLowerCase(),n0=Ta[0].toUpperCase()+Ta.slice(1);Tr(r0,"on"+n0)}Tr(bp,"onAnimationEnd");Tr(_p,"onAnimationIteration");Tr(xp,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(kp,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tn("onBeforeInput",["compositionend","keypress","textInput","paste"]);tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i0=new Set("cancel close invalid load scroll toggle".split(" ").concat(bi));function pf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ry(n,t,void 0,e),e.currentTarget=null}function Sp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;pf(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;pf(i,a,u),o=l}}}if(ss)throw e=wl,ss=!1,wl=null,e}function xe(e,t){var r=t[Tl];r===void 0&&(r=t[Tl]=new Set);var n=e+"__bubble";r.has(n)||(Op(t,e,2,!1),r.add(n))}function Pa(e,t,r){var n=0;t&&(n|=4),Op(r,e,n,t)}var So="_reactListening"+Math.random().toString(36).slice(2);function Fi(e){if(!e[So]){e[So]=!0,Rh.forEach(function(r){r!=="selectionchange"&&(i0.has(r)||Pa(r,!1,e),Pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[So]||(t[So]=!0,Pa("selectionchange",!1,t))}}function Op(e,t,r,n){switch(up(t)){case 1:var i=yy;break;case 4:i=wy;break;default:i=$u}r=i.bind(null,t,r,e),i=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Aa(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zr(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}Yh(function(){var u=o,p=Ru(r),f=[];e:{var c=Ep.get(e);if(c!==void 0){var d=qu,g=e;switch(e){case"keypress":if(Yo(r)===0)break e;case"keydown":case"keyup":d=Ly;break;case"focusin":g="focus",d=Ea;break;case"focusout":g="blur",d=Ea;break;case"beforeblur":case"afterblur":d=Ea;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=$y;break;case bp:case _p:case xp:d=Sy;break;case kp:d=qy;break;case"scroll":d=by;break;case"wheel":d=Uy;break;case"copy":case"cut":case"paste":d=jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=nf}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?c!==null?c+"Capture":null:c;v=[];for(var h=u,w;h!==null;){w=h;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,m!==null&&(y=Di(h,m),y!=null&&v.push(zi(h,y,w)))),b)break;h=h.return}0<v.length&&(c=new d(c,g,null,r,p),f.push({event:c,listeners:v}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",c&&r!==vl&&(g=r.relatedTarget||r.fromElement)&&(zr(g)||g[Xt]))break e;if((d||c)&&(c=p.window===p?p:(c=p.ownerDocument)?c.defaultView||c.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=u,g=g?zr(g):null,g!==null&&(b=rn(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=u),d!==g)){if(v=tf,y="onMouseLeave",m="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=nf,y="onPointerLeave",m="onPointerEnter",h="pointer"),b=d==null?c:wn(d),w=g==null?c:wn(g),c=new v(y,h+"leave",d,r,p),c.target=b,c.relatedTarget=w,y=null,zr(p)===u&&(v=new v(m,h+"enter",g,r,p),v.target=w,v.relatedTarget=b,y=v),b=y,d&&g)t:{for(v=d,m=g,h=0,w=v;w;w=on(w))h++;for(w=0,y=m;y;y=on(y))w++;for(;0<h-w;)v=on(v),h--;for(;0<w-h;)m=on(m),w--;for(;h--;){if(v===m||m!==null&&v===m.alternate)break t;v=on(v),m=on(m)}v=null}else v=null;d!==null&&mf(f,c,d,v,!1),g!==null&&b!==null&&mf(f,b,g,v,!0)}}e:{if(c=u?wn(u):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var x=Gy;else if(af(c))if(mp)x=Xy;else{x=Qy;var O=Yy}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(x=Jy);if(x&&(x=x(e,u))){pp(f,x,r,p);break e}O&&O(e,c,u),e==="focusout"&&(O=c._wrapperState)&&O.controlled&&c.type==="number"&&fl(c,"number",c.value)}switch(O=u?wn(u):window,e){case"focusin":(af(O)||O.contentEditable==="true")&&(gn=O,kl=u,Oi=null);break;case"focusout":Oi=kl=gn=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,df(f,r,p);break;case"selectionchange":if(t0)break;case"keydown":case"keyup":df(f,r,p)}var k;if(Uu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else vn?dp(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(fp&&r.locale!=="ko"&&(vn||E!=="onCompositionStart"?E==="onCompositionEnd"&&vn&&(k=cp()):(pr=p,Mu="value"in pr?pr.value:pr.textContent,vn=!0)),O=fs(u,E),0<O.length&&(E=new rf(E,e,null,r,p),f.push({event:E,listeners:O}),k?E.data=k:(k=hp(r),k!==null&&(E.data=k)))),(k=zy?Wy(e,r):Hy(e,r))&&(u=fs(u,"onBeforeInput"),0<u.length&&(p=new rf("onBeforeInput","beforeinput",null,r,p),f.push({event:p,listeners:u}),p.data=k))}Sp(f,t)})}function zi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fs(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Di(e,r),o!=null&&n.unshift(zi(e,o,i)),o=Di(e,t),o!=null&&n.push(zi(e,o,i))),e=e.return}return n}function on(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mf(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Di(r,o),l!=null&&s.unshift(zi(r,l,a))):i||(l=Di(r,o),l!=null&&s.push(zi(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var o0=/\r\n?/g,s0=/\u0000|\uFFFD/g;function vf(e){return(typeof e=="string"?e:""+e).replace(o0,`
`).replace(s0,"")}function Oo(e,t,r){if(t=vf(t),vf(e)!==t&&r)throw Error(X(425))}function ds(){}var Sl=null,Ol=null;function jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,a0=typeof clearTimeout=="function"?clearTimeout:void 0,gf=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof gf<"u"?function(e){return gf.resolve(null).then(e).catch(u0)}:Nl;function u0(e){setTimeout(function(){throw e})}function Ca(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),qi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);qi(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Hn,Wi="__reactProps$"+Hn,Xt="__reactContainer$"+Hn,Tl="__reactEvents$"+Hn,c0="__reactListeners$"+Hn,f0="__reactHandles$"+Hn;function zr(e){var t=e[Ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xt]||r[Ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yf(e);e!==null;){if(r=e[Ut])return r;e=yf(e)}return t}e=r,r=e.parentNode}return null}function ao(e){return e=e[Ut]||e[Xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Vs(e){return e[Wi]||null}var Pl=[],bn=-1;function Pr(e){return{current:e}}function Ee(e){0>bn||(e.current=Pl[bn],Pl[bn]=null,bn--)}function _e(e,t){bn++,Pl[bn]=e.current,e.current=t}var jr={},Qe=Pr(jr),lt=Pr(!1),Yr=jr;function Ln(e,t){var r=e.type.contextTypes;if(!r)return jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ut(e){return e=e.childContextTypes,e!=null}function hs(){Ee(lt),Ee(Qe)}function wf(e,t,r){if(Qe.current!==jr)throw Error(X(168));_e(Qe,t),_e(lt,r)}function jp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(X(108,Yg(e)||"Unknown",i));return Ae({},r,n)}function ps(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Yr=Qe.current,_e(Qe,e),_e(lt,lt.current),!0}function bf(e,t,r){var n=e.stateNode;if(!n)throw Error(X(169));r?(e=jp(e,t,Yr),n.__reactInternalMemoizedMergedChildContext=e,Ee(lt),Ee(Qe),_e(Qe,e)):Ee(lt),_e(lt,r)}var Kt=null,Ks=!1,Ra=!1;function Np(e){Kt===null?Kt=[e]:Kt.push(e)}function d0(e){Ks=!0,Np(e)}function Ar(){if(!Ra&&Kt!==null){Ra=!0;var e=0,t=ye;try{var r=Kt;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Kt=null,Ks=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(e+1)),Zh(Lu,Ar),i}finally{ye=t,Ra=!1}}return null}var _n=[],xn=0,ms=null,vs=0,xt=[],kt=0,Qr=null,Gt=1,Yt="";function Dr(e,t){_n[xn++]=vs,_n[xn++]=ms,ms=e,vs=t}function Tp(e,t,r){xt[kt++]=Gt,xt[kt++]=Yt,xt[kt++]=Qr,Qr=e;var n=Gt;e=Yt;var i=32-It(n)-1;n&=~(1<<i),r+=1;var o=32-It(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Gt=1<<32-It(t)+i|r<<i|n,Yt=o+e}else Gt=1<<o|r<<i|n,Yt=e}function zu(e){e.return!==null&&(Dr(e,1),Tp(e,1,0))}function Wu(e){for(;e===ms;)ms=_n[--xn],_n[xn]=null,vs=_n[--xn],_n[xn]=null;for(;e===Qr;)Qr=xt[--kt],xt[kt]=null,Yt=xt[--kt],xt[kt]=null,Gt=xt[--kt],xt[kt]=null}var gt=null,vt=null,Se=!1,Lt=null;function Pp(e,t){var r=Et(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _f(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,vt=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qr!==null?{id:Gt,overflow:Yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Et(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,vt=null,!0):!1;default:return!1}}function Al(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cl(e){if(Se){var t=vt;if(t){var r=t;if(!_f(e,t)){if(Al(e))throw Error(X(418));t=br(r.nextSibling);var n=gt;t&&_f(e,t)?Pp(n,r):(e.flags=e.flags&-4097|2,Se=!1,gt=e)}}else{if(Al(e))throw Error(X(418));e.flags=e.flags&-4097|2,Se=!1,gt=e}}}function xf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function jo(e){if(e!==gt)return!1;if(!Se)return xf(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!jl(e.type,e.memoizedProps)),t&&(t=vt)){if(Al(e))throw Ap(),Error(X(418));for(;t;)Pp(e,t),t=br(t.nextSibling)}if(xf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=gt?br(e.stateNode.nextSibling):null;return!0}function Ap(){for(var e=vt;e;)e=br(e.nextSibling)}function In(){vt=gt=null,Se=!1}function Hu(e){Lt===null?Lt=[e]:Lt.push(e)}var h0=tr.ReactCurrentBatchConfig;function ci(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function No(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kf(e){var t=e._init;return t(e._payload)}function Cp(e){function t(m,h){if(e){var w=m.deletions;w===null?(m.deletions=[h],m.flags|=16):w.push(h)}}function r(m,h){if(!e)return null;for(;h!==null;)t(m,h),h=h.sibling;return null}function n(m,h){for(m=new Map;h!==null;)h.key!==null?m.set(h.key,h):m.set(h.index,h),h=h.sibling;return m}function i(m,h){return m=Er(m,h),m.index=0,m.sibling=null,m}function o(m,h,w){return m.index=w,e?(w=m.alternate,w!==null?(w=w.index,w<h?(m.flags|=2,h):w):(m.flags|=2,h)):(m.flags|=1048576,h)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,h,w,y){return h===null||h.tag!==6?(h=Ba(w,m.mode,y),h.return=m,h):(h=i(h,w),h.return=m,h)}function l(m,h,w,y){var x=w.type;return x===mn?p(m,h,w.props.children,y,w.key):h!==null&&(h.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ur&&kf(x)===h.type)?(y=i(h,w.props),y.ref=ci(m,h,w),y.return=m,y):(y=rs(w.type,w.key,w.props,null,m.mode,y),y.ref=ci(m,h,w),y.return=m,y)}function u(m,h,w,y){return h===null||h.tag!==4||h.stateNode.containerInfo!==w.containerInfo||h.stateNode.implementation!==w.implementation?(h=Ua(w,m.mode,y),h.return=m,h):(h=i(h,w.children||[]),h.return=m,h)}function p(m,h,w,y,x){return h===null||h.tag!==7?(h=Gr(w,m.mode,y,x),h.return=m,h):(h=i(h,w),h.return=m,h)}function f(m,h,w){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ba(""+h,m.mode,w),h.return=m,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case go:return w=rs(h.type,h.key,h.props,null,m.mode,w),w.ref=ci(m,null,h),w.return=m,w;case pn:return h=Ua(h,m.mode,w),h.return=m,h;case ur:var y=h._init;return f(m,y(h._payload),w)}if(yi(h)||oi(h))return h=Gr(h,m.mode,w,null),h.return=m,h;No(m,h)}return null}function c(m,h,w,y){var x=h!==null?h.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return x!==null?null:a(m,h,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case go:return w.key===x?l(m,h,w,y):null;case pn:return w.key===x?u(m,h,w,y):null;case ur:return x=w._init,c(m,h,x(w._payload),y)}if(yi(w)||oi(w))return x!==null?null:p(m,h,w,y,null);No(m,w)}return null}function d(m,h,w,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(w)||null,a(h,m,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case go:return m=m.get(y.key===null?w:y.key)||null,l(h,m,y,x);case pn:return m=m.get(y.key===null?w:y.key)||null,u(h,m,y,x);case ur:var O=y._init;return d(m,h,w,O(y._payload),x)}if(yi(y)||oi(y))return m=m.get(w)||null,p(h,m,y,x,null);No(h,y)}return null}function g(m,h,w,y){for(var x=null,O=null,k=h,E=h=0,P=null;k!==null&&E<w.length;E++){k.index>E?(P=k,k=null):P=k.sibling;var j=c(m,k,w[E],y);if(j===null){k===null&&(k=P);break}e&&k&&j.alternate===null&&t(m,k),h=o(j,h,E),O===null?x=j:O.sibling=j,O=j,k=P}if(E===w.length)return r(m,k),Se&&Dr(m,E),x;if(k===null){for(;E<w.length;E++)k=f(m,w[E],y),k!==null&&(h=o(k,h,E),O===null?x=k:O.sibling=k,O=k);return Se&&Dr(m,E),x}for(k=n(m,k);E<w.length;E++)P=d(k,m,E,w[E],y),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?E:P.key),h=o(P,h,E),O===null?x=P:O.sibling=P,O=P);return e&&k.forEach(function(S){return t(m,S)}),Se&&Dr(m,E),x}function v(m,h,w,y){var x=oi(w);if(typeof x!="function")throw Error(X(150));if(w=x.call(w),w==null)throw Error(X(151));for(var O=x=null,k=h,E=h=0,P=null,j=w.next();k!==null&&!j.done;E++,j=w.next()){k.index>E?(P=k,k=null):P=k.sibling;var S=c(m,k,j.value,y);if(S===null){k===null&&(k=P);break}e&&k&&S.alternate===null&&t(m,k),h=o(S,h,E),O===null?x=S:O.sibling=S,O=S,k=P}if(j.done)return r(m,k),Se&&Dr(m,E),x;if(k===null){for(;!j.done;E++,j=w.next())j=f(m,j.value,y),j!==null&&(h=o(j,h,E),O===null?x=j:O.sibling=j,O=j);return Se&&Dr(m,E),x}for(k=n(m,k);!j.done;E++,j=w.next())j=d(k,m,E,j.value,y),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?E:j.key),h=o(j,h,E),O===null?x=j:O.sibling=j,O=j);return e&&k.forEach(function(N){return t(m,N)}),Se&&Dr(m,E),x}function b(m,h,w,y){if(typeof w=="object"&&w!==null&&w.type===mn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case go:e:{for(var x=w.key,O=h;O!==null;){if(O.key===x){if(x=w.type,x===mn){if(O.tag===7){r(m,O.sibling),h=i(O,w.props.children),h.return=m,m=h;break e}}else if(O.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ur&&kf(x)===O.type){r(m,O.sibling),h=i(O,w.props),h.ref=ci(m,O,w),h.return=m,m=h;break e}r(m,O);break}else t(m,O);O=O.sibling}w.type===mn?(h=Gr(w.props.children,m.mode,y,w.key),h.return=m,m=h):(y=rs(w.type,w.key,w.props,null,m.mode,y),y.ref=ci(m,h,w),y.return=m,m=y)}return s(m);case pn:e:{for(O=w.key;h!==null;){if(h.key===O)if(h.tag===4&&h.stateNode.containerInfo===w.containerInfo&&h.stateNode.implementation===w.implementation){r(m,h.sibling),h=i(h,w.children||[]),h.return=m,m=h;break e}else{r(m,h);break}else t(m,h);h=h.sibling}h=Ua(w,m.mode,y),h.return=m,m=h}return s(m);case ur:return O=w._init,b(m,h,O(w._payload),y)}if(yi(w))return g(m,h,w,y);if(oi(w))return v(m,h,w,y);No(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,h!==null&&h.tag===6?(r(m,h.sibling),h=i(h,w),h.return=m,m=h):(r(m,h),h=Ba(w,m.mode,y),h.return=m,m=h),s(m)):r(m,h)}return b}var Dn=Cp(!0),Rp=Cp(!1),gs=Pr(null),ys=null,kn=null,Vu=null;function Ku(){Vu=kn=ys=null}function Gu(e){var t=gs.current;Ee(gs),e._currentValue=t}function Rl(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Pn(e,t){ys=e,Vu=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(ys===null)throw Error(X(308));kn=e,ys.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Wr=null;function Yu(e){Wr===null?Wr=[e]:Wr.push(e)}function Lp(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Yu(t)):(r.next=i.next,i.next=r),t.interleaved=r,Zt(e,n)}function Zt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cr=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Zt(e,r)}return i=n.interleaved,i===null?(t.next=t,Yu(n)):(t.next=i.next,i.next=t),n.interleaved=t,Zt(e,r)}function Qo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Iu(e,r)}}function Ef(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ws(e,t,r,n){var i=e.updateQueue;cr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==s&&(a===null?p.firstBaseUpdate=u:a.next=u,p.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,p=u=l=null,a=o;do{var c=a.lane,d=a.eventTime;if((n&c)===c){p!==null&&(p=p.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(c=t,d=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(d,f,c);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,c=typeof g=="function"?g.call(d,f,c):g,c==null)break e;f=Ae({},f,c);break e;case 2:cr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else d={eventTime:d,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(u=p=d,l=f):p=p.next=d,s|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(p===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=p,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Xr|=s,e.lanes=s,e.memoizedState=f}}function Sf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var lo={},zt=Pr(lo),Hi=Pr(lo),Vi=Pr(lo);function Hr(e){if(e===lo)throw Error(X(174));return e}function Ju(e,t){switch(_e(Vi,t),_e(Hi,e),_e(zt,lo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hl(t,e)}Ee(zt),_e(zt,t)}function $n(){Ee(zt),Ee(Hi),Ee(Vi)}function Dp(e){Hr(Vi.current);var t=Hr(zt.current),r=hl(t,e.type);t!==r&&(_e(Hi,e),_e(zt,r))}function Xu(e){Hi.current===e&&(Ee(zt),Ee(Hi))}var Ne=Pr(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var La=[];function Zu(){for(var e=0;e<La.length;e++)La[e]._workInProgressVersionPrimary=null;La.length=0}var Jo=tr.ReactCurrentDispatcher,Ia=tr.ReactCurrentBatchConfig,Jr=0,Pe=null,Be=null,Fe=null,_s=!1,ji=!1,Ki=0,p0=0;function Ke(){throw Error(X(321))}function ec(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function tc(e,t,r,n,i,o){if(Jr=o,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jo.current=e===null||e.memoizedState===null?y0:w0,e=r(n,i),ji){o=0;do{if(ji=!1,Ki=0,25<=o)throw Error(X(301));o+=1,Fe=Be=null,t.updateQueue=null,Jo.current=b0,e=r(n,i)}while(ji)}if(Jo.current=xs,t=Be!==null&&Be.next!==null,Jr=0,Fe=Be=Pe=null,_s=!1,t)throw Error(X(300));return e}function rc(){var e=Ki!==0;return Ki=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Pe.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function jt(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Fe===null?Pe.memoizedState:Fe.next;if(t!==null)Fe=t,Be=e;else{if(e===null)throw Error(X(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Fe===null?Pe.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Gi(e,t){return typeof t=="function"?t(e):t}function Da(e){var t=jt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=Be,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var p=u.lane;if((Jr&p)===p)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=n):l=l.next=f,Pe.lanes|=p,Xr|=p}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,$t(n,t.memoizedState)||(at=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Pe.lanes|=o,Xr|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $a(e){var t=jt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$t(o,t.memoizedState)||(at=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function $p(){}function Mp(e,t){var r=Pe,n=jt(),i=t(),o=!$t(n.memoizedState,i);if(o&&(n.memoizedState=i,at=!0),n=n.queue,nc(Up.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(r.flags|=2048,Yi(9,Bp.bind(null,r,n,i,t),void 0,null),ze===null)throw Error(X(349));Jr&30||qp(r,t,i)}return i}function qp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Bp(e,t,r,n){t.value=r,t.getSnapshot=n,Fp(t)&&zp(e)}function Up(e,t,r){return r(function(){Fp(t)&&zp(e)})}function Fp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function zp(e){var t=Zt(e,1);t!==null&&Dt(t,e,1,-1)}function Of(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t.queue=e,e=e.dispatch=g0.bind(null,Pe,e),[t.memoizedState,e]}function Yi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Wp(){return jt().memoizedState}function Xo(e,t,r,n){var i=Bt();Pe.flags|=e,i.memoizedState=Yi(1|t,r,void 0,n===void 0?null:n)}function Gs(e,t,r,n){var i=jt();n=n===void 0?null:n;var o=void 0;if(Be!==null){var s=Be.memoizedState;if(o=s.destroy,n!==null&&ec(n,s.deps)){i.memoizedState=Yi(t,r,o,n);return}}Pe.flags|=e,i.memoizedState=Yi(1|t,r,o,n)}function jf(e,t){return Xo(8390656,8,e,t)}function nc(e,t){return Gs(2048,8,e,t)}function Hp(e,t){return Gs(4,2,e,t)}function Vp(e,t){return Gs(4,4,e,t)}function Kp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gp(e,t,r){return r=r!=null?r.concat([e]):null,Gs(4,4,Kp.bind(null,t,e),r)}function ic(){}function Yp(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ec(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qp(e,t){var r=jt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ec(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Jp(e,t,r){return Jr&21?($t(r,t)||(r=rp(),Pe.lanes|=r,Xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=r)}function m0(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=Ia.transition;Ia.transition={};try{e(!1),t()}finally{ye=r,Ia.transition=n}}function Xp(){return jt().memoizedState}function v0(e,t,r){var n=kr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zp(e))em(t,r);else if(r=Lp(e,t,r,n),r!==null){var i=Ze();Dt(r,e,n,i),tm(r,t,n)}}function g0(e,t,r){var n=kr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zp(e))em(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,$t(a,s)){var l=t.interleaved;l===null?(i.next=i,Yu(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Lp(e,t,i,n),r!==null&&(i=Ze(),Dt(r,e,n,i),tm(r,t,n))}}function Zp(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function em(e,t){ji=_s=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Iu(e,r)}}var xs={readContext:Ot,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},y0={readContext:Ot,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:jf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xo(4194308,4,Kp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xo(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=v0.bind(null,Pe,e),[n.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:Of,useDebugValue:ic,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=Of(!1),t=e[0];return e=m0.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Pe,i=Bt();if(Se){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),ze===null)throw Error(X(349));Jr&30||qp(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,jf(Up.bind(null,n,o,e),[e]),n.flags|=2048,Yi(9,Bp.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Bt(),t=ze.identifierPrefix;if(Se){var r=Yt,n=Gt;r=(n&~(1<<32-It(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ki++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=p0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},w0={readContext:Ot,useCallback:Yp,useContext:Ot,useEffect:nc,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Qp,useReducer:Da,useRef:Wp,useState:function(){return Da(Gi)},useDebugValue:ic,useDeferredValue:function(e){var t=jt();return Jp(t,Be.memoizedState,e)},useTransition:function(){var e=Da(Gi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Mp,useId:Xp,unstable_isNewReconciler:!1},b0={readContext:Ot,useCallback:Yp,useContext:Ot,useEffect:nc,useImperativeHandle:Gp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Qp,useReducer:$a,useRef:Wp,useState:function(){return $a(Gi)},useDebugValue:ic,useDeferredValue:function(e){var t=jt();return Be===null?t.memoizedState=e:Jp(t,Be.memoizedState,e)},useTransition:function(){var e=$a(Gi)[0],t=jt().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Mp,useId:Xp,unstable_isNewReconciler:!1};function Pt(e,t){if(e&&e.defaultProps){t=Ae({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ll(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ae({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ys={isMounted:function(e){return(e=e._reactInternals)?rn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ze(),i=kr(e),o=Qt(n,i);o.payload=t,r!=null&&(o.callback=r),t=_r(e,o,i),t!==null&&(Dt(t,e,i,n),Qo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ze(),i=kr(e),o=Qt(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=_r(e,o,i),t!==null&&(Dt(t,e,i,n),Qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ze(),n=kr(e),i=Qt(r,n);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,n),t!==null&&(Dt(t,e,n,r),Qo(t,e,n))}};function Nf(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ui(r,n)||!Ui(i,o):!0}function rm(e,t,r){var n=!1,i=jr,o=t.contextType;return typeof o=="object"&&o!==null?o=Ot(o):(i=ut(t)?Yr:Qe.current,n=t.contextTypes,o=(n=n!=null)?Ln(e,i):jr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ys,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Tf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ys.enqueueReplaceState(t,t.state,null)}function Il(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Qu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ot(o):(o=ut(t)?Yr:Qe.current,i.context=Ln(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ll(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ys.enqueueReplaceState(i,i.state,null),ws(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,t){try{var r="",n=t;do r+=Gg(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ma(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Dl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _0=typeof WeakMap=="function"?WeakMap:Map;function nm(e,t,r){r=Qt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Es||(Es=!0,Vl=n),Dl(e,t)},r}function im(e,t,r){r=Qt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Dl(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Dl(e,t),typeof n!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Pf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _0;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=I0.bind(null,e,t,r),t.then(e,e))}function Af(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Qt(-1,1),t.tag=2,_r(r,t,1))),r.lanes|=1),e)}var x0=tr.ReactCurrentOwner,at=!1;function Xe(e,t,r,n){t.child=e===null?Rp(t,null,r,n):Dn(t,e.child,r,n)}function Rf(e,t,r,n,i){r=r.render;var o=t.ref;return Pn(t,i),n=tc(e,t,r,n,o,i),r=rc(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Se&&r&&zu(t),t.flags|=1,Xe(e,t,n,i),t.child)}function Lf(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!dc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,om(e,t,o,n,i)):(e=rs(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ui,r(s,n)&&e.ref===t.ref)return er(e,t,i)}return t.flags|=1,e=Er(o,n),e.ref=t.ref,e.return=t,t.child=e}function om(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Ui(o,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,er(e,t,i)}return $l(e,t,r,n,i)}function sm(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Sn,dt),dt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Sn,dt),dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,_e(Sn,dt),dt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,_e(Sn,dt),dt|=n;return Xe(e,t,i,r),t.child}function am(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,r,n,i){var o=ut(r)?Yr:Qe.current;return o=Ln(t,o),Pn(t,i),r=tc(e,t,r,n,o,i),n=rc(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,er(e,t,i)):(Se&&n&&zu(t),t.flags|=1,Xe(e,t,r,i),t.child)}function If(e,t,r,n,i){if(ut(r)){var o=!0;ps(t)}else o=!1;if(Pn(t,i),t.stateNode===null)Zo(e,t),rm(t,r,n),Il(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=ut(r)?Yr:Qe.current,u=Ln(t,u));var p=r.getDerivedStateFromProps,f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Tf(t,s,n,u),cr=!1;var c=t.memoizedState;s.state=c,ws(t,n,s,i),l=t.memoizedState,a!==n||c!==l||lt.current||cr?(typeof p=="function"&&(Ll(t,r,p,n),l=t.memoizedState),(a=cr||Nf(t,r,a,n,c,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ip(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Pt(t.type,a),s.props=u,f=t.pendingProps,c=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ot(l):(l=ut(r)?Yr:Qe.current,l=Ln(t,l));var d=r.getDerivedStateFromProps;(p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||c!==l)&&Tf(t,s,n,l),cr=!1,c=t.memoizedState,s.state=c,ws(t,n,s,i);var g=t.memoizedState;a!==f||c!==g||lt.current||cr?(typeof d=="function"&&(Ll(t,r,d,n),g=t.memoizedState),(u=cr||Nf(t,r,u,n,c,g,l)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),n=!1)}return Ml(e,t,r,n,o,i)}function Ml(e,t,r,n,i,o){am(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&bf(t,r,!1),er(e,t,o);n=t.stateNode,x0.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Dn(t,e.child,null,o),t.child=Dn(t,null,a,o)):Xe(e,t,a,o),t.memoizedState=n.state,i&&bf(t,r,!0),t.child}function lm(e){var t=e.stateNode;t.pendingContext?wf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wf(e,t.context,!1),Ju(e,t.containerInfo)}function Df(e,t,r,n,i){return In(),Hu(i),t.flags|=256,Xe(e,t,r,n),t.child}var ql={dehydrated:null,treeContext:null,retryLane:0};function Bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function um(e,t,r){var n=t.pendingProps,i=Ne.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Ne,i&1),e===null)return Cl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xs(s,n,0,null),e=Gr(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bl(r),t.memoizedState=ql,e):oc(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return k0(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Er(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Er(a,o):(o=Gr(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?Bl(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=ql,n}return o=e.child,e=o.sibling,n=Er(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function oc(e,t){return t=Xs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function To(e,t,r,n){return n!==null&&Hu(n),Dn(t,e.child,null,r),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function k0(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=Ma(Error(X(422))),To(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=Xs({mode:"visible",children:n.children},i,0,null),o=Gr(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Dn(t,e.child,null,s),t.child.memoizedState=Bl(s),t.memoizedState=ql,o);if(!(t.mode&1))return To(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(X(419)),n=Ma(o,n,void 0),To(e,t,s,n)}if(a=(s&e.childLanes)!==0,at||a){if(n=ze,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zt(e,i),Dt(n,e,i,-1))}return fc(),n=Ma(Error(X(421))),To(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=D0.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,vt=br(i.nextSibling),gt=t,Se=!0,Lt=null,e!==null&&(xt[kt++]=Gt,xt[kt++]=Yt,xt[kt++]=Qr,Gt=e.id,Yt=e.overflow,Qr=t),t=oc(t,n.children),t.flags|=4096,t)}function $f(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Rl(e.return,t,r)}function qa(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function cm(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Xe(e,t,n.children,r),n=Ne.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,r,t);else if(e.tag===19)$f(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_e(Ne,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bs(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qa(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bs(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qa(t,!0,r,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function er(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=Er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function E0(e,t,r){switch(t.tag){case 3:lm(t),In();break;case 5:Dp(t);break;case 1:ut(t.type)&&ps(t);break;case 4:Ju(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;_e(gs,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_e(Ne,Ne.current&1),t.flags|=128,null):r&t.child.childLanes?um(e,t,r):(_e(Ne,Ne.current&1),e=er(e,t,r),e!==null?e.sibling:null);_e(Ne,Ne.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cm(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ne,Ne.current),n)break;return null;case 22:case 23:return t.lanes=0,sm(e,t,r)}return er(e,t,r)}var fm,Ul,dm,hm;fm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ul=function(){};dm=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Hr(zt.current);var o=null;switch(r){case"input":i=ul(e,i),n=ul(e,n),o=[];break;case"select":i=Ae({},i,{value:void 0}),n=Ae({},n,{value:void 0}),o=[];break;case"textarea":i=dl(e,i),n=dl(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ds)}pl(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};hm=function(e,t,r,n){r!==n&&(t.flags|=4)};function fi(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function S0(e,t,r){var n=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return ut(t.type)&&hs(),Ge(t),null;case 3:return n=t.stateNode,$n(),Ee(lt),Ee(Qe),Zu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(jo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Yl(Lt),Lt=null))),Ul(e,t),Ge(t),null;case 5:Xu(t);var i=Hr(Vi.current);if(r=t.type,e!==null&&t.stateNode!=null)dm(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(X(166));return Ge(t),null}if(e=Hr(zt.current),jo(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ut]=t,n[Wi]=o,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(i=0;i<bi.length;i++)xe(bi[i],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":Hc(n,o),xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},xe("invalid",n);break;case"textarea":Kc(n,o),xe("invalid",n)}pl(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Oo(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Oo(n.textContent,a,e),i=["children",""+a]):Li.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&xe("scroll",n)}switch(r){case"input":yo(n),Vc(n,o,!0);break;case"textarea":yo(n),Gc(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=ds)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ut]=t,e[Wi]=n,fm(e,t,!1,!1),t.stateNode=e;e:{switch(s=ml(r,n),r){case"dialog":xe("cancel",e),xe("close",e),i=n;break;case"iframe":case"object":case"embed":xe("load",e),i=n;break;case"video":case"audio":for(i=0;i<bi.length;i++)xe(bi[i],e);i=n;break;case"source":xe("error",e),i=n;break;case"img":case"image":case"link":xe("error",e),xe("load",e),i=n;break;case"details":xe("toggle",e),i=n;break;case"input":Hc(e,n),i=ul(e,n),xe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ae({},n,{value:void 0}),xe("invalid",e);break;case"textarea":Kc(e,n),i=dl(e,n),xe("invalid",e);break;default:i=n}pl(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Wh(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fh(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ii(e,l):typeof l=="number"&&Ii(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Li.hasOwnProperty(o)?l!=null&&o==="onScroll"&&xe("scroll",e):l!=null&&Tu(e,o,l,s))}switch(r){case"input":yo(e),Vc(e,n,!1);break;case"textarea":yo(e),Gc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Or(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?On(e,!!n.multiple,o,!1):n.defaultValue!=null&&On(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ds)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)hm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(X(166));if(r=Hr(Vi.current),Hr(zt.current),jo(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ut]=t,(o=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:Oo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oo(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ut]=t,t.stateNode=n}return Ge(t),null;case 13:if(Ee(Ne),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&vt!==null&&t.mode&1&&!(t.flags&128))Ap(),In(),t.flags|=98560,o=!1;else if(o=jo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Ut]=t}else In(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),o=!1}else Lt!==null&&(Yl(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ne.current&1?Ue===0&&(Ue=3):fc())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return $n(),Ul(e,t),e===null&&Fi(t.stateNode.containerInfo),Ge(t),null;case 10:return Gu(t.type._context),Ge(t),null;case 17:return ut(t.type)&&hs(),Ge(t),null;case 19:if(Ee(Ne),o=t.memoizedState,o===null)return Ge(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)fi(o,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bs(e),s!==null){for(t.flags|=128,fi(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _e(Ne,Ne.current&1|2),t.child}e=e.sibling}o.tail!==null&&Re()>qn&&(t.flags|=128,n=!0,fi(o,!1),t.lanes=4194304)}else{if(!n)if(e=bs(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Se)return Ge(t),null}else 2*Re()-o.renderingStartTime>qn&&r!==1073741824&&(t.flags|=128,n=!0,fi(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Re(),t.sibling=null,r=Ne.current,_e(Ne,n?r&1|2:r&1),t):(Ge(t),null);case 22:case 23:return cc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?dt&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function O0(e,t){switch(Wu(t),t.tag){case 1:return ut(t.type)&&hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $n(),Ee(lt),Ee(Qe),Zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xu(t),null;case 13:if(Ee(Ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));In()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(Ne),null;case 4:return $n(),null;case 10:return Gu(t.type._context),null;case 22:case 23:return cc(),null;case 24:return null;default:return null}}var Po=!1,Ye=!1,j0=typeof WeakSet=="function"?WeakSet:Set,te=null;function En(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function Fl(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var Mf=!1;function N0(e,t){if(Sl=us,e=yp(),Fu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,p=0,f=e,c=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(a=s+i),f!==o||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)c=f,f=d;for(;;){if(f===e)break t;if(c===r&&++u===i&&(a=s),c===o&&++p===n&&(l=s),(d=f.nextSibling)!==null)break;f=c,c=f.parentNode}f=d}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ol={focusedElem:e,selectionRange:r},us=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,b=g.memoizedState,m=t.stateNode,h=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Pt(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(y){Ce(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return g=Mf,Mf=!1,g}function Ni(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fl(t,r,o)}i=i.next}while(i!==n)}}function Qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pm(e){var t=e.alternate;t!==null&&(e.alternate=null,pm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[Wi],delete t[Tl],delete t[c0],delete t[f0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mm(e){return e.tag===5||e.tag===3||e.tag===4}function qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ds));else if(n!==4&&(e=e.child,e!==null))for(Wl(e,t,r),e=e.sibling;e!==null;)Wl(e,t,r),e=e.sibling}function Hl(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hl(e,t,r),e=e.sibling;e!==null;)Hl(e,t,r),e=e.sibling}var We=null,Ct=!1;function or(e,t,r){for(r=r.child;r!==null;)vm(e,t,r),r=r.sibling}function vm(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Fs,r)}catch{}switch(r.tag){case 5:Ye||En(r,t);case 6:var n=We,i=Ct;We=null,or(e,t,r),We=n,Ct=i,We!==null&&(Ct?(e=We,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):We.removeChild(r.stateNode));break;case 18:We!==null&&(Ct?(e=We,r=r.stateNode,e.nodeType===8?Ca(e.parentNode,r):e.nodeType===1&&Ca(e,r),qi(e)):Ca(We,r.stateNode));break;case 4:n=We,i=Ct,We=r.stateNode.containerInfo,Ct=!0,or(e,t,r),We=n,Ct=i;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Fl(r,t,s),i=i.next}while(i!==n)}or(e,t,r);break;case 1:if(!Ye&&(En(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ce(r,t,a)}or(e,t,r);break;case 21:or(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,or(e,t,r),Ye=n):or(e,t,r);break;default:or(e,t,r)}}function Bf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new j0),t.forEach(function(n){var i=$0.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Nt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:We=a.stateNode,Ct=!1;break e;case 3:We=a.stateNode.containerInfo,Ct=!0;break e;case 4:We=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(We===null)throw Error(X(160));vm(o,s,i),We=null,Ct=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gm(t,e),t=t.sibling}function gm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nt(t,e),Mt(e),n&4){try{Ni(3,e,e.return),Qs(3,e)}catch(v){Ce(e,e.return,v)}try{Ni(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Nt(t,e),Mt(e),n&512&&r!==null&&En(r,r.return);break;case 5:if(Nt(t,e),Mt(e),n&512&&r!==null&&En(r,r.return),e.flags&32){var i=e.stateNode;try{Ii(i,"")}catch(v){Ce(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&qh(i,o),ml(a,s);var u=ml(a,o);for(s=0;s<l.length;s+=2){var p=l[s],f=l[s+1];p==="style"?Wh(i,f):p==="dangerouslySetInnerHTML"?Fh(i,f):p==="children"?Ii(i,f):Tu(i,p,f,u)}switch(a){case"input":cl(i,o);break;case"textarea":Bh(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?On(i,!!o.multiple,d,!1):c!==!!o.multiple&&(o.defaultValue!=null?On(i,!!o.multiple,o.defaultValue,!0):On(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wi]=o}catch(v){Ce(e,e.return,v)}}break;case 6:if(Nt(t,e),Mt(e),n&4){if(e.stateNode===null)throw Error(X(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Ce(e,e.return,v)}}break;case 3:if(Nt(t,e),Mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qi(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Nt(t,e),Mt(e);break;case 13:Nt(t,e),Mt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(lc=Re())),n&4&&Bf(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||p,Nt(t,e),Ye=u):Nt(t,e),Mt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(te=e,p=e.child;p!==null;){for(f=te=p;te!==null;){switch(c=te,d=c.child,c.tag){case 0:case 11:case 14:case 15:Ni(4,c,c.return);break;case 1:En(c,c.return);var g=c.stateNode;if(typeof g.componentWillUnmount=="function"){n=c,r=c.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){Ce(n,r,v)}}break;case 5:En(c,c.return);break;case 22:if(c.memoizedState!==null){Ff(f);continue}}d!==null?(d.return=c,te=d):Ff(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zh("display",s))}catch(v){Ce(e,e.return,v)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nt(t,e),Mt(e),n&4&&Bf(e);break;case 21:break;default:Nt(t,e),Mt(e)}}function Mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mm(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ii(i,""),n.flags&=-33);var o=qf(e);Hl(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=qf(e);Wl(e,a,s);break;default:throw Error(X(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function T0(e,t,r){te=e,ym(e)}function ym(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var i=te,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Po;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ye;a=Po;var u=Ye;if(Po=s,(Ye=l)&&!u)for(te=i;te!==null;)s=te,l=s.child,s.tag===22&&s.memoizedState!==null?zf(i):l!==null?(l.return=s,te=l):zf(i);for(;o!==null;)te=o,ym(o),o=o.sibling;te=i,Po=a,Ye=u}Uf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,te=o):Uf(e)}}function Uf(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||Qs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Pt(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Sf(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sf(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&qi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Ye||t.flags&512&&zl(t)}catch(c){Ce(t,t.return,c)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Ff(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function zf(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qs(4,t)}catch(l){Ce(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Ce(t,i,l)}}var o=t.return;try{zl(t)}catch(l){Ce(t,o,l)}break;case 5:var s=t.return;try{zl(t)}catch(l){Ce(t,s,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){te=null;break}var a=t.sibling;if(a!==null){a.return=t.return,te=a;break}te=t.return}}var P0=Math.ceil,ks=tr.ReactCurrentDispatcher,sc=tr.ReactCurrentOwner,St=tr.ReactCurrentBatchConfig,pe=0,ze=null,$e=null,He=0,dt=0,Sn=Pr(0),Ue=0,Qi=null,Xr=0,Js=0,ac=0,Ti=null,ot=null,lc=0,qn=1/0,Ht=null,Es=!1,Vl=null,xr=null,Ao=!1,mr=null,Ss=0,Pi=0,Kl=null,es=-1,ts=0;function Ze(){return pe&6?Re():es!==-1?es:es=Re()}function kr(e){return e.mode&1?pe&2&&He!==0?He&-He:h0.transition!==null?(ts===0&&(ts=rp()),ts):(e=ye,e!==0||(e=window.event,e=e===void 0?16:up(e.type)),e):1}function Dt(e,t,r,n){if(50<Pi)throw Pi=0,Kl=null,Error(X(185));oo(e,r,n),(!(pe&2)||e!==ze)&&(e===ze&&(!(pe&2)&&(Js|=r),Ue===4&&dr(e,He)),ct(e,n),r===1&&pe===0&&!(t.mode&1)&&(qn=Re()+500,Ks&&Ar()))}function ct(e,t){var r=e.callbackNode;hy(e,t);var n=ls(e,e===ze?He:0);if(n===0)r!==null&&Jc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jc(r),t===1)e.tag===0?d0(Wf.bind(null,e)):Np(Wf.bind(null,e)),l0(function(){!(pe&6)&&Ar()}),r=null;else{switch(np(n)){case 1:r=Lu;break;case 4:r=ep;break;case 16:r=as;break;case 536870912:r=tp;break;default:r=as}r=Om(r,wm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function wm(e,t){if(es=-1,ts=0,pe&6)throw Error(X(327));var r=e.callbackNode;if(An()&&e.callbackNode!==r)return null;var n=ls(e,e===ze?He:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Os(e,n);else{t=n;var i=pe;pe|=2;var o=_m();(ze!==e||He!==t)&&(Ht=null,qn=Re()+500,Kr(e,t));do try{R0();break}catch(a){bm(e,a)}while(!0);Ku(),ks.current=o,pe=i,$e!==null?t=0:(ze=null,He=0,t=Ue)}if(t!==0){if(t===2&&(i=bl(e),i!==0&&(n=i,t=Gl(e,i))),t===1)throw r=Qi,Kr(e,0),dr(e,n),ct(e,Re()),r;if(t===6)dr(e,n);else{if(i=e.current.alternate,!(n&30)&&!A0(i)&&(t=Os(e,n),t===2&&(o=bl(e),o!==0&&(n=o,t=Gl(e,o))),t===1))throw r=Qi,Kr(e,0),dr(e,n),ct(e,Re()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(X(345));case 2:$r(e,ot,Ht);break;case 3:if(dr(e,n),(n&130023424)===n&&(t=lc+500-Re(),10<t)){if(ls(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ze(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Nl($r.bind(null,e,ot,Ht),t);break}$r(e,ot,Ht);break;case 4:if(dr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-It(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P0(n/1960))-n,10<n){e.timeoutHandle=Nl($r.bind(null,e,ot,Ht),n);break}$r(e,ot,Ht);break;case 5:$r(e,ot,Ht);break;default:throw Error(X(329))}}}return ct(e,Re()),e.callbackNode===r?wm.bind(null,e):null}function Gl(e,t){var r=Ti;return e.current.memoizedState.isDehydrated&&(Kr(e,t).flags|=256),e=Os(e,t),e!==2&&(t=ot,ot=r,t!==null&&Yl(t)),e}function Yl(e){ot===null?ot=e:ot.push.apply(ot,e)}function A0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~ac,t&=~Js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-It(t),n=1<<r;e[r]=-1,t&=~n}}function Wf(e){if(pe&6)throw Error(X(327));An();var t=ls(e,0);if(!(t&1))return ct(e,Re()),null;var r=Os(e,t);if(e.tag!==0&&r===2){var n=bl(e);n!==0&&(t=n,r=Gl(e,n))}if(r===1)throw r=Qi,Kr(e,0),dr(e,t),ct(e,Re()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$r(e,ot,Ht),ct(e,Re()),null}function uc(e,t){var r=pe;pe|=1;try{return e(t)}finally{pe=r,pe===0&&(qn=Re()+500,Ks&&Ar())}}function Zr(e){mr!==null&&mr.tag===0&&!(pe&6)&&An();var t=pe;pe|=1;var r=St.transition,n=ye;try{if(St.transition=null,ye=1,e)return e()}finally{ye=n,St.transition=r,pe=t,!(pe&6)&&Ar()}}function cc(){dt=Sn.current,Ee(Sn)}function Kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,a0(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(Wu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hs();break;case 3:$n(),Ee(lt),Ee(Qe),Zu();break;case 5:Xu(n);break;case 4:$n();break;case 13:Ee(Ne);break;case 19:Ee(Ne);break;case 10:Gu(n.type._context);break;case 22:case 23:cc()}r=r.return}if(ze=e,$e=e=Er(e.current,null),He=dt=t,Ue=0,Qi=null,ac=Js=Xr=0,ot=Ti=null,Wr!==null){for(t=0;t<Wr.length;t++)if(r=Wr[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Wr=null}return e}function bm(e,t){do{var r=$e;try{if(Ku(),Jo.current=xs,_s){for(var n=Pe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}_s=!1}if(Jr=0,Fe=Be=Pe=null,ji=!1,Ki=0,sc.current=null,r===null||r.return===null){Ue=1,Qi=t,$e=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=He,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,p=a,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var c=p.alternate;c?(p.updateQueue=c.updateQueue,p.memoizedState=c.memoizedState,p.lanes=c.lanes):(p.updateQueue=null,p.memoizedState=null)}var d=Af(s);if(d!==null){d.flags&=-257,Cf(d,s,a,o,t),d.mode&1&&Pf(o,u,t),t=d,l=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}else{if(!(t&1)){Pf(o,u,t),fc();break e}l=Error(X(426))}}else if(Se&&a.mode&1){var b=Af(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Cf(b,s,a,o,t),Hu(Mn(l,a));break e}}o=l=Mn(l,a),Ue!==4&&(Ue=2),Ti===null?Ti=[o]:Ti.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=nm(o,l,t);Ef(o,m);break e;case 1:a=l;var h=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xr===null||!xr.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=im(o,a,t);Ef(o,y);break e}}o=o.return}while(o!==null)}km(r)}catch(x){t=x,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function _m(){var e=ks.current;return ks.current=xs,e===null?xs:e}function fc(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),ze===null||!(Xr&268435455)&&!(Js&268435455)||dr(ze,He)}function Os(e,t){var r=pe;pe|=2;var n=_m();(ze!==e||He!==t)&&(Ht=null,Kr(e,t));do try{C0();break}catch(i){bm(e,i)}while(!0);if(Ku(),pe=r,ks.current=n,$e!==null)throw Error(X(261));return ze=null,He=0,Ue}function C0(){for(;$e!==null;)xm($e)}function R0(){for(;$e!==null&&!iy();)xm($e)}function xm(e){var t=Sm(e.alternate,e,dt);e.memoizedProps=e.pendingProps,t===null?km(e):$e=t,sc.current=null}function km(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=O0(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,$e=null;return}}else if(r=S0(r,t,dt),r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ue===0&&(Ue=5)}function $r(e,t,r){var n=ye,i=St.transition;try{St.transition=null,ye=1,L0(e,t,r,n)}finally{St.transition=i,ye=n}return null}function L0(e,t,r,n){do An();while(mr!==null);if(pe&6)throw Error(X(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(py(e,o),e===ze&&($e=ze=null,He=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ao||(Ao=!0,Om(as,function(){return An(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=St.transition,St.transition=null;var s=ye;ye=1;var a=pe;pe|=4,sc.current=null,N0(e,r),gm(r,e),e0(Ol),us=!!Sl,Ol=Sl=null,e.current=r,T0(r),oy(),pe=a,ye=s,St.transition=o}else e.current=r;if(Ao&&(Ao=!1,mr=e,Ss=i),o=e.pendingLanes,o===0&&(xr=null),ly(r.stateNode),ct(e,Re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Es)throw Es=!1,e=Vl,Vl=null,e;return Ss&1&&e.tag!==0&&An(),o=e.pendingLanes,o&1?e===Kl?Pi++:(Pi=0,Kl=e):Pi=0,Ar(),null}function An(){if(mr!==null){var e=np(Ss),t=St.transition,r=ye;try{if(St.transition=null,ye=16>e?16:e,mr===null)var n=!1;else{if(e=mr,mr=null,Ss=0,pe&6)throw Error(X(331));var i=pe;for(pe|=4,te=e.current;te!==null;){var o=te,s=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(te=u;te!==null;){var p=te;switch(p.tag){case 0:case 11:case 15:Ni(8,p,o)}var f=p.child;if(f!==null)f.return=p,te=f;else for(;te!==null;){p=te;var c=p.sibling,d=p.return;if(pm(p),p===u){te=null;break}if(c!==null){c.return=d,te=c;break}te=d}}}var g=o.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}te=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,te=s;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ni(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,te=m;break e}te=o.return}}var h=e.current;for(te=h;te!==null;){s=te;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,te=w;else e:for(s=h;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qs(9,a)}}catch(x){Ce(a,a.return,x)}if(a===s){te=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,te=y;break e}te=a.return}}if(pe=i,Ar(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Fs,e)}catch{}n=!0}return n}finally{ye=r,St.transition=t}}return!1}function Hf(e,t,r){t=Mn(r,t),t=nm(e,t,1),e=_r(e,t,1),t=Ze(),e!==null&&(oo(e,1,t),ct(e,t))}function Ce(e,t,r){if(e.tag===3)Hf(e,e,r);else for(;t!==null;){if(t.tag===3){Hf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xr===null||!xr.has(n))){e=Mn(r,e),e=im(t,e,1),t=_r(t,e,1),e=Ze(),t!==null&&(oo(t,1,e),ct(t,e));break}}t=t.return}}function I0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ze(),e.pingedLanes|=e.suspendedLanes&r,ze===e&&(He&r)===r&&(Ue===4||Ue===3&&(He&130023424)===He&&500>Re()-lc?Kr(e,0):ac|=r),ct(e,t)}function Em(e,t){t===0&&(e.mode&1?(t=_o,_o<<=1,!(_o&130023424)&&(_o=4194304)):t=1);var r=Ze();e=Zt(e,t),e!==null&&(oo(e,t,r),ct(e,r))}function D0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Em(e,r)}function $0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(t),Em(e,r)}var Sm;Sm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return at=!1,E0(e,t,r);at=!!(e.flags&131072)}else at=!1,Se&&t.flags&1048576&&Tp(t,vs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zo(e,t),e=t.pendingProps;var i=Ln(t,Qe.current);Pn(t,r),i=tc(null,t,n,e,i,r);var o=rc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(n)?(o=!0,ps(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qu(t),i.updater=Ys,t.stateNode=i,i._reactInternals=t,Il(t,n,e,r),t=Ml(null,t,n,!0,o,r)):(t.tag=0,Se&&o&&zu(t),Xe(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zo(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=q0(n),e=Pt(n,e),i){case 0:t=$l(null,t,n,e,r);break e;case 1:t=If(null,t,n,e,r);break e;case 11:t=Rf(null,t,n,e,r);break e;case 14:t=Lf(null,t,n,Pt(n.type,e),r);break e}throw Error(X(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pt(n,i),$l(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pt(n,i),If(e,t,n,i,r);case 3:e:{if(lm(t),e===null)throw Error(X(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Ip(e,t),ws(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Mn(Error(X(423)),t),t=Df(e,t,n,r,i);break e}else if(n!==i){i=Mn(Error(X(424)),t),t=Df(e,t,n,r,i);break e}else for(vt=br(t.stateNode.containerInfo.firstChild),gt=t,Se=!0,Lt=null,r=Rp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(In(),n===i){t=er(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return Dp(t),e===null&&Cl(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,jl(n,i)?s=null:o!==null&&jl(n,o)&&(t.flags|=32),am(e,t),Xe(e,t,s,r),t.child;case 6:return e===null&&Cl(t),null;case 13:return um(e,t,r);case 4:return Ju(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dn(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pt(n,i),Rf(e,t,n,i,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,_e(gs,n._currentValue),n._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===i.children&&!lt.current){t=er(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Qt(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?l.next=l:(l.next=p.next,p.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Rl(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(X(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),Rl(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Xe(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Pn(t,r),i=Ot(i),n=n(i),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,i=Pt(n,t.pendingProps),i=Pt(n.type,i),Lf(e,t,n,i,r);case 15:return om(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Pt(n,i),Zo(e,t),t.tag=1,ut(n)?(e=!0,ps(t)):e=!1,Pn(t,r),rm(t,n,i),Il(t,n,i,r),Ml(null,t,n,!0,e,r);case 19:return cm(e,t,r);case 22:return sm(e,t,r)}throw Error(X(156,t.tag))};function Om(e,t){return Zh(e,t)}function M0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,r,n){return new M0(e,t,r,n)}function dc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return dc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Au)return 11;if(e===Cu)return 14}return 2}function Er(e,t){var r=e.alternate;return r===null?(r=Et(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rs(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")dc(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case mn:return Gr(r.children,i,o,t);case Pu:s=8,i|=8;break;case ol:return e=Et(12,r,t,i|2),e.elementType=ol,e.lanes=o,e;case sl:return e=Et(13,r,t,i),e.elementType=sl,e.lanes=o,e;case al:return e=Et(19,r,t,i),e.elementType=al,e.lanes=o,e;case Dh:return Xs(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lh:s=10;break e;case Ih:s=9;break e;case Au:s=11;break e;case Cu:s=14;break e;case ur:s=16,n=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Et(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Gr(e,t,r,n){return e=Et(7,e,n,t),e.lanes=r,e}function Xs(e,t,r,n){return e=Et(22,e,n,t),e.elementType=Dh,e.lanes=r,e.stateNode={isHidden:!1},e}function Ba(e,t,r){return e=Et(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function B0(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hc(e,t,r,n,i,o,s,a,l){return e=new B0(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Et(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(o),e}function U0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jm(e){if(!e)return jr;e=e._reactInternals;e:{if(rn(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(ut(r))return jp(e,r,t)}return t}function Nm(e,t,r,n,i,o,s,a,l){return e=hc(r,n,!0,e,i,o,s,a,l),e.context=jm(null),r=e.current,n=Ze(),i=kr(r),o=Qt(n,i),o.callback=t??null,_r(r,o,i),e.current.lanes=i,oo(e,i,n),ct(e,n),e}function Zs(e,t,r,n){var i=t.current,o=Ze(),s=kr(i);return r=jm(r),t.context===null?t.context=r:t.pendingContext=r,t=Qt(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=_r(i,t,s),e!==null&&(Dt(e,i,s,o),Qo(e,i,s)),s}function js(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function pc(e,t){Vf(e,t),(e=e.alternate)&&Vf(e,t)}function F0(){return null}var Tm=typeof reportError=="function"?reportError:function(e){console.error(e)};function mc(e){this._internalRoot=e}ea.prototype.render=mc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Zs(e,t,null,null)};ea.prototype.unmount=mc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zr(function(){Zs(null,e,null,null)}),t[Xt]=null}};function ea(e){this._internalRoot=e}ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=sp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fr.length&&t!==0&&t<fr[r].priority;r++);fr.splice(r,0,e),r===0&&lp(e)}};function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kf(){}function z0(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=js(s);o.call(u)}}var s=Nm(t,n,e,0,null,!1,!1,"",Kf);return e._reactRootContainer=s,e[Xt]=s.current,Fi(e.nodeType===8?e.parentNode:e),Zr(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=js(l);a.call(u)}}var l=hc(e,0,!1,null,null,!1,!1,"",Kf);return e._reactRootContainer=l,e[Xt]=l.current,Fi(e.nodeType===8?e.parentNode:e),Zr(function(){Zs(t,l,r,n)}),l}function ra(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=js(s);a.call(l)}}Zs(t,s,e,i)}else s=z0(r,t,e,i,n);return js(s)}ip=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wi(t.pendingLanes);r!==0&&(Iu(t,r|1),ct(t,Re()),!(pe&6)&&(qn=Re()+500,Ar()))}break;case 13:Zr(function(){var n=Zt(e,1);if(n!==null){var i=Ze();Dt(n,e,1,i)}}),pc(e,1)}};Du=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var r=Ze();Dt(t,e,134217728,r)}pc(e,134217728)}};op=function(e){if(e.tag===13){var t=kr(e),r=Zt(e,t);if(r!==null){var n=Ze();Dt(r,e,t,n)}pc(e,t)}};sp=function(){return ye};ap=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};gl=function(e,t,r){switch(t){case"input":if(cl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Vs(n);if(!i)throw Error(X(90));Mh(n),cl(n,i)}}}break;case"textarea":Bh(e,r);break;case"select":t=r.value,t!=null&&On(e,!!r.multiple,t,!1)}};Kh=uc;Gh=Zr;var W0={usingClientEntryPoint:!1,Events:[ao,wn,Vs,Hh,Vh,uc]},di={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H0={bundleType:di.bundleType,version:di.version,rendererPackageName:di.rendererPackageName,rendererConfig:di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Jh(e),e===null?null:e.stateNode},findFiberByHostInstance:di.findFiberByHostInstance||F0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Fs=Co.inject(H0),Ft=Co}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W0;wt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vc(t))throw Error(X(200));return U0(e,t,null,r)};wt.createRoot=function(e,t){if(!vc(e))throw Error(X(299));var r=!1,n="",i=Tm;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hc(e,1,!1,null,null,r,!1,n,i),e[Xt]=t.current,Fi(e.nodeType===8?e.parentNode:e),new mc(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Jh(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return Zr(e)};wt.hydrate=function(e,t,r){if(!ta(t))throw Error(X(200));return ra(null,e,t,!0,r)};wt.hydrateRoot=function(e,t,r){if(!vc(e))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=Tm;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Nm(t,null,e,1,r??null,i,!1,o,s),e[Xt]=t.current,Fi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ea(t)};wt.render=function(e,t,r){if(!ta(t))throw Error(X(200));return ra(null,e,t,!1,r)};wt.unmountComponentAtNode=function(e){if(!ta(e))throw Error(X(40));return e._reactRootContainer?(Zr(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[Xt]=null})}),!0):!1};wt.unstable_batchedUpdates=uc;wt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ta(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return ra(e,t,r,!1,n)};wt.version="18.3.1-next-f1338f8080-20240426";function Pm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pm)}catch(e){console.error(e)}}Pm(),Ph.exports=wt;var Am=Ph.exports,Gf=Am;nl.createRoot=Gf.createRoot,nl.hydrateRoot=Gf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}var vr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(vr||(vr={}));const Yf="popstate";function V0(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return Ql("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ns(i)}return G0(t,r,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K0(){return Math.random().toString(36).substr(2,8)}function Qf(e,t){return{usr:e.state,key:e.key,idx:t}}function Ql(e,t,r,n){return r===void 0&&(r=null),Ji({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vn(t):t,{state:r,key:t&&t.key||n||K0()})}function Ns(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function G0(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a=vr.Pop,l=null,u=p();u==null&&(u=0,s.replaceState(Ji({},s.state,{idx:u}),""));function p(){return(s.state||{idx:null}).idx}function f(){a=vr.Pop;let b=p(),m=b==null?null:b-u;u=b,l&&l({action:a,location:v.location,delta:m})}function c(b,m){a=vr.Push;let h=Ql(v.location,b,m);u=p()+1;let w=Qf(h,u),y=v.createHref(h);try{s.pushState(w,"",y)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function d(b,m){a=vr.Replace;let h=Ql(v.location,b,m);u=p();let w=Qf(h,u),y=v.createHref(h);s.replaceState(w,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function g(b){let m=i.location.origin!=="null"?i.location.origin:i.location.href,h=typeof b=="string"?b:Ns(b);return h=h.replace(/ $/,"%20"),Le(m,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,m)}let v={get action(){return a},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yf,f),l=b,()=>{i.removeEventListener(Yf,f),l=null}},createHref(b){return t(i,b)},createURL:g,encodeLocation(b){let m=g(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:c,replace:d,go(b){return s.go(b)}};return v}var Jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jf||(Jf={}));function Y0(e,t,r){return r===void 0&&(r="/"),Q0(e,t,r)}function Q0(e,t,r,n){let i=typeof t=="string"?Vn(t):t,o=gc(i.pathname||"/",r);if(o==null)return null;let s=Rm(e);J0(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=u1(o);a=s1(s[l],u)}return a}function Rm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Sr([n,l.relativePath]),p=r.concat(l);o.children&&o.children.length>0&&(Le(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Rm(o.children,t,p,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:i1(u,o.index),routesMeta:p})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of Lm(o.path))i(o,s,l)}),t}function Lm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Lm(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function J0(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:o1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const X0=/^:[\w-]+$/,Z0=3,e1=2,t1=1,r1=10,n1=-2,Xf=e=>e==="*";function i1(e,t){let r=e.split("/"),n=r.length;return r.some(Xf)&&(n+=n1),t&&(n+=e1),r.filter(i=>!Xf(i)).reduce((i,o)=>i+(X0.test(o)?Z0:o===""?t1:r1),n)}function o1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function s1(e,t,r){let{routesMeta:n}=e,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,p=o==="/"?t:t.slice(o.length)||"/",f=a1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},p),c=l.route;if(!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Sr([o,f.pathname]),pathnameBase:h1(Sr([o,f.pathnameBase])),route:c}),f.pathnameBase!=="/"&&(o=Sr([o,f.pathnameBase]))}return s}function a1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=l1(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,p,f)=>{let{paramName:c,isOptional:d}=p;if(c==="*"){let v=a[f]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return d&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function l1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function u1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function c1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Vn(e):e;return{pathname:r?r.startsWith("/")?r:f1(r,t):t,search:p1(n),hash:m1(i)}}function f1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Fa(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d1(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function yc(e,t){let r=d1(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function wc(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Vn(e):(i=Ji({},e),Le(!i.pathname||!i.pathname.includes("?"),Fa("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Fa("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Fa("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let c=s.split("/");for(;c[0]==="..";)c.shift(),f-=1;i.pathname=c.join("/")}a=f>=0?t[f]:"/"}let l=c1(i,a),u=s&&s!=="/"&&s.endsWith("/"),p=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||p)&&(l.pathname+="/"),l}const Sr=e=>e.join("/").replace(/\/\/+/g,"/"),h1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function v1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Im=["post","put","patch","delete"];new Set(Im);const g1=["get",...Im];new Set(g1);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xi.apply(this,arguments)}const bc=H.createContext(null),y1=H.createContext(null),Cr=H.createContext(null),na=H.createContext(null),rr=H.createContext({outlet:null,matches:[],isDataRoute:!1}),Dm=H.createContext(null);function w1(e,t){let{relative:r}=t===void 0?{}:t;Kn()||Le(!1);let{basename:n,navigator:i}=H.useContext(Cr),{hash:o,pathname:s,search:a}=Mm(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:Sr([n,s])),i.createHref({pathname:l,search:a,hash:o})}function Kn(){return H.useContext(na)!=null}function Gn(){return Kn()||Le(!1),H.useContext(na).location}function $m(e){H.useContext(Cr).static||H.useLayoutEffect(e)}function uo(){let{isDataRoute:e}=H.useContext(rr);return e?C1():b1()}function b1(){Kn()||Le(!1);let e=H.useContext(bc),{basename:t,future:r,navigator:n}=H.useContext(Cr),{matches:i}=H.useContext(rr),{pathname:o}=Gn(),s=JSON.stringify(yc(i,r.v7_relativeSplatPath)),a=H.useRef(!1);return $m(()=>{a.current=!0}),H.useCallback(function(u,p){if(p===void 0&&(p={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=wc(u,JSON.parse(s),o,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Sr([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,s,o,e])}function _c(){let{matches:e}=H.useContext(rr),t=e[e.length-1];return t?t.params:{}}function Mm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=H.useContext(Cr),{matches:i}=H.useContext(rr),{pathname:o}=Gn(),s=JSON.stringify(yc(i,n.v7_relativeSplatPath));return H.useMemo(()=>wc(e,JSON.parse(s),o,r==="path"),[e,s,o,r])}function _1(e,t){return x1(e,t)}function x1(e,t,r,n){Kn()||Le(!1);let{navigator:i}=H.useContext(Cr),{matches:o}=H.useContext(rr),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Gn(),p;if(t){var f;let b=typeof t=="string"?Vn(t):t;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||Le(!1),p=b}else p=u;let c=p.pathname||"/",d=c;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+c.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=Y0(e,{pathname:d}),v=j1(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Sr([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Sr([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&v?H.createElement(na.Provider,{value:{location:Xi({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:vr.Pop}},v):v}function k1(){let e=A1(),t=v1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:i},r):null,null)}const E1=H.createElement(k1,null);class S1 extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?H.createElement(rr.Provider,{value:this.props.routeContext},H.createElement(Dm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O1(e){let{routeContext:t,match:r,children:n}=e,i=H.useContext(bc);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(rr.Provider,{value:t},n)}function j1(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let p=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);p>=0||Le(!1),s=s.slice(0,Math.min(s.length,p+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<s.length;p++){let f=s[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:c,errors:d}=r,g=f.route.loader&&c[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((p,f,c)=>{let d,g=!1,v=null,b=null;r&&(d=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||E1,l&&(u<0&&c===0?(R1("route-fallback"),g=!0,b=null):u===c&&(g=!0,b=f.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,c+1)),h=()=>{let w;return d?w=v:g?w=b:f.route.Component?w=H.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=p,H.createElement(O1,{match:f,routeContext:{outlet:p,matches:m,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||c===0)?H.createElement(S1,{location:r.location,revalidation:r.revalidation,component:v,error:d,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()},null)}var qm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(qm||{}),Bm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bm||{});function N1(e){let t=H.useContext(bc);return t||Le(!1),t}function T1(e){let t=H.useContext(y1);return t||Le(!1),t}function P1(e){let t=H.useContext(rr);return t||Le(!1),t}function Um(e){let t=P1(),r=t.matches[t.matches.length-1];return r.route.id||Le(!1),r.route.id}function A1(){var e;let t=H.useContext(Dm),r=T1(),n=Um();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function C1(){let{router:e}=N1(qm.UseNavigateStable),t=Um(Bm.UseNavigateStable),r=H.useRef(!1);return $m(()=>{r.current=!0}),H.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Xi({fromRouteId:t},o)))},[e,t])}const Zf={};function R1(e,t,r){Zf[e]||(Zf[e]=!0)}function L1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function it(e){let{to:t,replace:r,state:n,relative:i}=e;Kn()||Le(!1);let{future:o,static:s}=H.useContext(Cr),{matches:a}=H.useContext(rr),{pathname:l}=Gn(),u=uo(),p=wc(t,yc(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(p);return H.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Je(e){Le(!1)}function I1(e){let{basename:t="/",children:r=null,location:n,navigationType:i=vr.Pop,navigator:o,static:s=!1,future:a}=e;Kn()&&Le(!1);let l=t.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:l,navigator:o,static:s,future:Xi({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof n=="string"&&(n=Vn(n));let{pathname:p="/",search:f="",hash:c="",state:d=null,key:g="default"}=n,v=H.useMemo(()=>{let b=gc(p,l);return b==null?null:{location:{pathname:b,search:f,hash:c,state:d,key:g},navigationType:i}},[l,p,f,c,d,g,i]);return v==null?null:H.createElement(Cr.Provider,{value:u},H.createElement(na.Provider,{children:r,value:v}))}function D1(e){let{children:t,location:r}=e;return _1(Jl(t),r)}new Promise(()=>{});function Jl(e,t){t===void 0&&(t=[]);let r=[];return H.Children.forEach(e,(n,i)=>{if(!H.isValidElement(n))return;let o=[...t,i];if(n.type===H.Fragment){r.push.apply(r,Jl(n.props.children,o));return}n.type!==Je&&Le(!1),!n.props.index||!n.props.children||Le(!1);let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Jl(n.props.children,o)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(this,arguments)}function $1(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function M1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function q1(e,t){return e.button===0&&(!t||t==="_self")&&!M1(e)}const B1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U1="6";try{window.__reactRouterVersion=U1}catch{}const F1="startTransition",ed=Ig[F1];function z1(e){let{basename:t,children:r,future:n,window:i}=e,o=H.useRef();o.current==null&&(o.current=V0({window:i,v5Compat:!0}));let s=o.current,[a,l]=H.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},p=H.useCallback(f=>{u&&ed?ed(()=>l(f)):l(f)},[l,u]);return H.useLayoutEffect(()=>s.listen(p),[s,p]),H.useEffect(()=>L1(n),[n]),H.createElement(I1,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:s,future:n})}const W1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=H.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:p,viewTransition:f}=t,c=$1(t,B1),{basename:d}=H.useContext(Cr),g,v=!1;if(typeof u=="string"&&H1.test(u)&&(g=u,W1))try{let w=new URL(window.location.href),y=u.startsWith("//")?new URL(w.protocol+u):new URL(u),x=gc(y.pathname,d);y.origin===w.origin&&x!=null?u=x+y.search+y.hash:v=!0}catch{}let b=w1(u,{relative:i}),m=V1(u,{replace:s,state:a,target:l,preventScrollReset:p,relative:i,viewTransition:f});function h(w){n&&n(w),w.defaultPrevented||m(w)}return H.createElement("a",Xl({},c,{href:g||b,onClick:v||o?n:h,ref:r,target:l}))});var td;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(td||(td={}));var rd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(rd||(rd={}));function V1(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,l=uo(),u=Gn(),p=Mm(e,{relative:s});return H.useCallback(f=>{if(q1(f,r)){f.preventDefault();let c=n!==void 0?n:Ns(u)===Ns(p);l(e,{replace:c,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,p,n,i,r,e,o,s,a])}const K1={},nd=e=>{let t;const r=new Set,n=(p,f)=>{const c=typeof p=="function"?p(t):p;if(!Object.is(c,t)){const d=t;t=f??(typeof c!="object"||c===null)?c:Object.assign({},t,c),r.forEach(g=>g(t,d))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>u,subscribe:p=>(r.add(p),()=>r.delete(p)),destroy:()=>{(K1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,i,l);return l},G1=e=>e?nd(e):nd;var Fm={exports:{}},zm={},Wm={exports:{}},Hm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bn=H;function Y1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q1=typeof Object.is=="function"?Object.is:Y1,J1=Bn.useState,X1=Bn.useEffect,Z1=Bn.useLayoutEffect,ew=Bn.useDebugValue;function tw(e,t){var r=t(),n=J1({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return Z1(function(){i.value=r,i.getSnapshot=t,za(i)&&o({inst:i})},[e,r,t]),X1(function(){return za(i)&&o({inst:i}),e(function(){za(i)&&o({inst:i})})},[e]),ew(r),r}function za(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Q1(e,r)}catch{return!0}}function rw(e,t){return t()}var nw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rw:tw;Hm.useSyncExternalStore=Bn.useSyncExternalStore!==void 0?Bn.useSyncExternalStore:nw;Wm.exports=Hm;var iw=Wm.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=H,ow=iw;function sw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aw=typeof Object.is=="function"?Object.is:sw,lw=ow.useSyncExternalStore,uw=ia.useRef,cw=ia.useEffect,fw=ia.useMemo,dw=ia.useDebugValue;zm.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=uw(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=fw(function(){function l(d){if(!u){if(u=!0,p=d,d=n(d),i!==void 0&&s.hasValue){var g=s.value;if(i(g,d))return f=g}return f=d}if(g=f,aw(p,d))return g;var v=n(d);return i!==void 0&&i(g,v)?(p=d,g):(p=d,f=v)}var u=!1,p,f,c=r===void 0?null:r;return[function(){return l(t())},c===null?void 0:function(){return l(c())}]},[t,r,n,i]);var a=lw(e,o[0],o[1]);return cw(function(){s.hasValue=!0,s.value=a},[a]),dw(a),a};Fm.exports=zm;var hw=Fm.exports;const pw=_u(hw),Vm={},{useDebugValue:mw}=Ou,{useSyncExternalStoreWithSelector:vw}=pw;let id=!1;const gw=e=>e;function yw(e,t=gw,r){(Vm?"production":void 0)!=="production"&&r&&!id&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),id=!0);const n=vw(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return mw(n),n}const od=e=>{(Vm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?G1(e):e,r=(n,i)=>yw(t,n,i);return Object.assign(r,t),r},ww=e=>e?od(e):od;var Zl=function(e,t){return Zl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},Zl(e,t)};function Km(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Zl(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Ts=function(){return Ts=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ts.apply(this,arguments)};function Yn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function Gm(e,t,r,n){var i=arguments.length,o=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,r,o):s(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o}function Ym(e,t){return function(r,n){t(r,n,e)}}function Qm(e,t,r,n,i,o){function s(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,p=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,c=!1,d=r.length-1;d>=0;d--){var g={};for(var v in n)g[v]=v==="access"?{}:n[v];for(var v in n.access)g.access[v]=n.access[v];g.addInitializer=function(m){if(c)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(m||null))};var b=(0,r[d])(a==="accessor"?{get:p.get,set:p.set}:p[l],g);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=s(b.get))&&(p.get=f),(f=s(b.set))&&(p.set=f),(f=s(b.init))&&i.unshift(f)}else(f=s(b))&&(a==="field"?i.unshift(f):p[l]=f)}u&&Object.defineProperty(u,n.name,p),c=!0}function Jm(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function Xm(e){return typeof e=="symbol"?e:"".concat(e)}function Zm(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function ev(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ie(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(p){try{u(n.next(p))}catch(f){s(f)}}function l(p){try{u(n.throw(p))}catch(f){s(f)}}function u(p){p.done?o(p.value):i(p.value).then(a,l)}u((n=n.apply(e,t||[])).next())})}function tv(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(p){return l([u,p])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(p){u=[6,p],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var oa=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function rv(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&oa(t,e,r)}function Ps(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xc(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function nv(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xc(arguments[t]));return e}function iv(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function ov(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function Un(e){return this instanceof Un?(this.v=e,this):new Un(e)}function sv(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(d){return function(g){return Promise.resolve(g).then(d,f)}}function a(d,g){n[d]&&(i[d]=function(v){return new Promise(function(b,m){o.push([d,v,b,m])>1||l(d,v)})},g&&(i[d]=g(i[d])))}function l(d,g){try{u(n[d](g))}catch(v){c(o[0][3],v)}}function u(d){d.value instanceof Un?Promise.resolve(d.value.v).then(p,f):c(o[0][2],d)}function p(d){l("next",d)}function f(d){l("throw",d)}function c(d,g){d(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function av(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,o){t[i]=e[i]?function(s){return(r=!r)?{value:Un(e[i](s)),done:!1}:o?o(s):s}:o}}function lv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ps=="function"?Ps(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}function uv(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var bw=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},eu=function(e){return eu=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},eu(e)};function cv(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=eu(e),n=0;n<r.length;n++)r[n]!=="default"&&oa(t,e,r[n]);return bw(t,e),t}function fv(e){return e&&e.__esModule?e:{default:e}}function dv(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function hv(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function pv(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function mv(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var _w=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function vv(e){function t(o){e.error=e.hasError?new _w(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(i,function(s){return t(s),i()})}else n|=1}catch(s){t(s)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function gv(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,o,s){return n?t?".jsx":".js":i&&(!o||!s)?r:i+o+"."+s.toLowerCase()+"js"}):e}const xw={__extends:Km,__assign:Ts,__rest:Yn,__decorate:Gm,__param:Ym,__esDecorate:Qm,__runInitializers:Jm,__propKey:Xm,__setFunctionName:Zm,__metadata:ev,__awaiter:ie,__generator:tv,__createBinding:oa,__exportStar:rv,__values:Ps,__read:xc,__spread:nv,__spreadArrays:iv,__spreadArray:ov,__await:Un,__asyncGenerator:sv,__asyncDelegator:av,__asyncValues:lv,__makeTemplateObject:uv,__importStar:cv,__importDefault:fv,__classPrivateFieldGet:dv,__classPrivateFieldSet:hv,__classPrivateFieldIn:pv,__addDisposableResource:mv,__disposeResources:vv,__rewriteRelativeImportExtension:gv},kw=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:mv,get __assign(){return Ts},__asyncDelegator:av,__asyncGenerator:sv,__asyncValues:lv,__await:Un,__awaiter:ie,__classPrivateFieldGet:dv,__classPrivateFieldIn:pv,__classPrivateFieldSet:hv,__createBinding:oa,__decorate:Gm,__disposeResources:vv,__esDecorate:Qm,__exportStar:rv,__extends:Km,__generator:tv,__importDefault:fv,__importStar:cv,__makeTemplateObject:uv,__metadata:ev,__param:Ym,__propKey:Xm,__read:xc,__rest:Yn,__rewriteRelativeImportExtension:gv,__runInitializers:Jm,__setFunctionName:Zm,__spread:nv,__spreadArray:ov,__spreadArrays:iv,__values:Ps,default:xw},Symbol.toStringTag,{value:"Module"})),Ew="modulepreload",Sw=function(e){return"/"+e},sd={},Qn=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=Sw(l),l in sd)return;sd[l]=!0;const u=l.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Ew,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((c,d)=>{f.addEventListener("load",c),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},Ow=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class kc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ad extends kc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ld extends kc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ud extends kc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tu||(tu={}));class jw{constructor(t,{headers:r={},customFetch:n,region:i=tu.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Ow(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ie(this,arguments,void 0,function*(r,n={}){var i;try{const{headers:o,method:s,body:a,signal:l}=n;let u={},{region:p}=n;p||(p=this.region);const f=new URL(`${this.url}/${r}`);p&&p!=="any"&&(u["x-region"]=p,f.searchParams.set("forceFunctionRegion",p));let c;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(u["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(u["Content-Type"]="application/json",c=JSON.stringify(a)):c=a;const d=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:c,signal:l}).catch(m=>{throw m.name==="AbortError"?m:new ad(m)}),g=d.headers.get("x-relay-error");if(g&&g==="true")throw new ld(d);if(!d.ok)throw new ud(d);let v=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield d.json():v==="application/octet-stream"||v==="application/pdf"?b=yield d.blob():v==="text/event-stream"?b=d:v==="multipart/form-data"?b=yield d.formData():b=yield d.text(),{data:b,error:null,response:d}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ad(o)}:{data:null,error:o,response:o instanceof ud||o instanceof ld?o.context:void 0}}})}}var st={};const Jn=yh(kw);var Ro={},Lo={},Io={},Do={},$o={},Nw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Fn=Nw();const Tw=Fn.fetch,yv=Fn.fetch.bind(Fn),wv=Fn.Headers,Pw=Fn.Request,Aw=Fn.Response,nn=Object.freeze(Object.defineProperty({__proto__:null,Headers:wv,Request:Pw,Response:Aw,default:yv,fetch:Tw},Symbol.toStringTag,{value:"Module"})),Cw=yh(nn);var Mo={},cd;function bv(){if(cd)return Mo;cd=1,Object.defineProperty(Mo,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Mo.default=e,Mo}var fd;function _v(){if(fd)return $o;fd=1,Object.defineProperty($o,"__esModule",{value:!0});const e=Jn,t=e.__importDefault(Cw),r=e.__importDefault(bv());class n{constructor(o){var s,a;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(s=o.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=o.signal,this.isMaybeSingle=(a=o.isMaybeSingle)!==null&&a!==void 0?a:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,s){return this.headers=new Headers(this.headers),this.headers.set(o,s),this}then(o,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var p,f,c,d;let g=null,v=null,b=null,m=u.status,h=u.statusText;if(u.ok){if(this.method!=="HEAD"){const O=await u.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?v=O:v=JSON.parse(O))}const y=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(c=u.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&x&&x.length>1&&(b=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,b=null,m=406,h="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const y=await u.text();try{g=JSON.parse(y),Array.isArray(g)&&u.status===404&&(v=[],g=null,m=200,h="OK")}catch{u.status===404&&y===""?(m=204,h="No Content"):g={message:y}}if(g&&this.isMaybeSingle&&(!((d=g==null?void 0:g.details)===null||d===void 0)&&d.includes("0 rows"))&&(g=null,m=200,h="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:v,count:b,status:m,statusText:h}});return this.shouldThrowOnError||(l=l.catch(u=>{var p,f,c;return{error:{message:`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(c=u==null?void 0:u.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),l.then(o,s)}returns(){return this}overrideTypes(){return this}}return $o.default=n,$o}var dd;function xv(){if(dd)return Do;dd=1,Object.defineProperty(Do,"__esModule",{value:!0});const t=Jn.__importDefault(_v());class r extends t.default{select(i){let o=!1;const s=(i??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:o=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",p=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${p?`${p},`:""}${i}.${o?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:o,referencedTable:s=o}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,o,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${o-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:o=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var p;const f=[i?"analyze":null,o?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),c=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${c}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return Do.default=r,Do}var hd;function Ec(){if(hd)return Io;hd=1,Object.defineProperty(Io,"__esModule",{value:!0});const t=Jn.__importDefault(xv());class r extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${l}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Io.default=r,Io}var pd;function kv(){if(pd)return Lo;pd=1,Object.defineProperty(Lo,"__esModule",{value:!0});const t=Jn.__importDefault(Ec());class r{constructor(i,{headers:o={},schema:s,fetch:a}){this.url=i,this.headers=new Headers(o),this.schema=s,this.fetch=a}select(i,o){const{head:s=!1,count:a}=o??{},l=s?"HEAD":"GET";let u=!1;const p=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",p),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:o,defaultToNull:s=!0}={}){var a;const l="POST";if(o&&this.headers.append("Prefer",`count=${o}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((p,f)=>p.concat(Object.keys(f)),[]);if(u.length>0){const p=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(i,{onConflict:o,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){var u;const p="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(f.length>0){const c=[...new Set(f)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:o}={}){var s;const a="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:i}={}){var o;const s="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Lo.default=r,Lo}var md;function Rw(){if(md)return Ro;md=1,Object.defineProperty(Ro,"__esModule",{value:!0});const e=Jn,t=e.__importDefault(kv()),r=e.__importDefault(Ec());class n{constructor(o,{headers:s={},schema:a,fetch:l}={}){this.url=o,this.headers=new Headers(s),this.schemaName=a,this.fetch=l}from(o){const s=new URL(`${this.url}/${o}`);return new t.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,s={},{head:a=!1,get:l=!1,count:u}={}){var p;let f;const c=new URL(`${this.url}/rpc/${o}`);let d;a||l?(f=a?"HEAD":"GET",Object.entries(s).filter(([v,b])=>b!==void 0).map(([v,b])=>[v,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([v,b])=>{c.searchParams.append(v,b)})):(f="POST",d=s);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:c,headers:g,schema:this.schemaName,body:d,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return Ro.default=n,Ro}Object.defineProperty(st,"__esModule",{value:!0});st.PostgrestError=st.PostgrestBuilder=st.PostgrestTransformBuilder=st.PostgrestFilterBuilder=st.PostgrestQueryBuilder=st.PostgrestClient=void 0;const Xn=Jn,Ev=Xn.__importDefault(Rw());st.PostgrestClient=Ev.default;const Sv=Xn.__importDefault(kv());st.PostgrestQueryBuilder=Sv.default;const Ov=Xn.__importDefault(Ec());st.PostgrestFilterBuilder=Ov.default;const jv=Xn.__importDefault(xv());st.PostgrestTransformBuilder=jv.default;const Nv=Xn.__importDefault(_v());st.PostgrestBuilder=Nv.default;const Tv=Xn.__importDefault(bv());st.PostgrestError=Tv.default;var Lw=st.default={PostgrestClient:Ev.default,PostgrestQueryBuilder:Sv.default,PostgrestFilterBuilder:Ov.default,PostgrestTransformBuilder:jv.default,PostgrestBuilder:Nv.default,PostgrestError:Tv.default};const{PostgrestClient:Iw,PostgrestQueryBuilder:NT,PostgrestFilterBuilder:TT,PostgrestTransformBuilder:PT,PostgrestBuilder:AT,PostgrestError:CT}=Lw;class Dw{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const $w="2.76.1",Mw=`realtime-js/${$w}`,qw="1.0.0",ru=1e4,Bw=1e3,Uw=100;var Ai;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ai||(Ai={}));var qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qe||(qe={}));var Rt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rt||(Rt={}));var nu;(function(e){e.websocket="websocket"})(nu||(nu={}));var Ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ur||(Ur={}));class Fw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let s=this.HEADER_LENGTH+2;const a=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+o));s=s+o;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Pv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var be;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(be||(be={}));const vd=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,s)=>(o[s]=zw(s,e,t,i),o),{}):{}},zw=(e,t,r,n)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,s=r[e];return o&&!n.includes(o)?Av(o,s):iu(s)},Av=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Kw(t,r)}switch(e){case be.bool:return Ww(t);case be.float4:case be.float8:case be.int2:case be.int4:case be.int8:case be.numeric:case be.oid:return Hw(t);case be.json:case be.jsonb:return Vw(t);case be.timestamp:return Gw(t);case be.abstime:case be.date:case be.daterange:case be.int4range:case be.int8range:case be.money:case be.reltime:case be.text:case be.time:case be.timestamptz:case be.timetz:case be.tsrange:case be.tstzrange:return iu(t);default:return iu(t)}},iu=e=>e,Ww=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Hw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Kw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const s=e.slice(1,r);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Av(t,a))}return e},Gw=e=>typeof e=="string"?e.replace(" ","T"):e,Cv=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Wa{constructor(t,r,n={},i=ru){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gd||(gd={}));class Ci{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=Ci.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ci.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),s=this.transformState(r),a={},l={};return this.map(o,(u,p)=>{s[u]||(l[u]=p)}),this.map(s,(u,p)=>{const f=o[u];if(f){const c=p.map(b=>b.presence_ref),d=f.map(b=>b.presence_ref),g=p.filter(b=>d.indexOf(b.presence_ref)<0),v=f.filter(b=>c.indexOf(b.presence_ref)<0);g.length>0&&(a[u]=g),v.length>0&&(l[u]=v)}else a[u]=p}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const p=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),p.length>0){const f=t[a].map(d=>d.presence_ref),c=p.filter(d=>f.indexOf(d.presence_ref)<0);t[a].unshift(...c)}n(a,p,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const p=l.map(f=>f.presence_ref);u=u.filter(f=>p.indexOf(f.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yd||(yd={}));var Ri;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ri||(Ri={}));var Vt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Vt||(Vt={}));class Sc{constructor(t,r={config:{}},n){var i,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wa(this,Rt.join,this.params,this.timeout),this.rejoinTimer=new Pv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ci(this),this.broadcastEndpointURL=Cv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[Ri.PRESENCE]&&this.bindings[Ri.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},c={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:p}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(Vt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Vt.CLOSED)),this.updateJoinPayload(Object.assign({config:c},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket.setAuth(),d===void 0){t==null||t(Vt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,b=(g=v==null?void 0:v.length)!==null&&g!==void 0?g:0,m=[];for(let h=0;h<b;h++){const w=v[h],{filter:{event:y,schema:x,table:O,filter:k}}=w,E=d&&d[h];if(E&&E.event===y&&E.schema===x&&E.table===O&&E.filter===k)m.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(Vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Vt.SUBSCRIBED);return}}).receive("error",d=>{this.state=qe.errored,t==null||t(Vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qe.joined&&t===Ri.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const s={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Wa(this,Rt.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Wa(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Uw){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:p}=Rt;if(n&&[a,l,u,p].indexOf(s)>=0&&n!==this._joinRef())return;let c=this._onMessage(s,r,n);if(r&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var g,v,b;return((g=d.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(v=d.filter)===null||v===void 0?void 0:v.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===s}).map(d=>d.callback(c,n)):(o=this.bindings[s])===null||o===void 0||o.filter(d=>{var g,v,b,m,h,w;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const y=d.id,x=(g=d.filter)===null||g===void 0?void 0:g.event;return y&&((v=r.ids)===null||v===void 0?void 0:v.includes(y))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const y=(h=(m=d==null?void 0:d.filter)===null||m===void 0?void 0:m.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return y==="*"||y===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof c=="object"&&"ids"in c){const g=c.data,{schema:v,table:b,commit_timestamp:m,type:h,errors:w}=g;c=Object.assign(Object.assign({},{schema:v,table:b,commit_timestamp:m,eventType:h,new:{},old:{},errors:w}),this._getPayloadRecords(g))}d.callback(c,n)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Sc.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rt.close,{},t)}_onError(t){this._on(Rt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vd(t.columns,t.old_record)),r}}const Ha=()=>{},qo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yw=[1e3,2e3,5e3,1e4],Qw=1e4,Jw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xw{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ru,this.transport=null,this.heartbeatIntervalMs=qo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ha,this.ref=0,this.reconnectTimer=null,this.logger=Ha,this.conn=null,this.sendBuffer=[],this.serializer=new Fw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>Qn(async()=>{const{default:a}=await Promise.resolve().then(()=>nn);return{default:a}},void 0).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${nu.websocket}`,this.httpEndpoint=Cv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dw.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qw}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ai.connecting:return Ur.Connecting;case Ai.open:return Ur.Open;case Ai.closing:return Ur.Closing;default:return Ur.Closed}}isConnected(){return this.connectionState()===Ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new Sc(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Bw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:s}=r,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Jw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Mw};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Rt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Pv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,s,a,l,u,p;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ru,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:qo.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ha,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:f=>Yw[f-1]||Qw,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,c)=>c(JSON.stringify(f)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Oc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function je(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Zw extends Oc{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ou extends Oc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const jc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eb=()=>ie(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qn(()=>Promise.resolve().then(()=>nn),void 0)).Response:Response}),su=e=>{if(Array.isArray(e))return e.map(r=>su(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=su(n)}),t},tb=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Va=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rb=(e,t,r)=>ie(void 0,void 0,void 0,function*(){const n=yield eb();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const o=e.status||500,s=(i==null?void 0:i.statusCode)||o+"";t(new Zw(Va(i),o,s))}).catch(i=>{t(new ou(Va(i),i))}):t(new ou(Va(e),e))}),nb=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(tb(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function co(e,t,r,n,i,o){return ie(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(r,nb(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>rb(l,a,n))})})}function Zi(e,t,r,n){return ie(this,void 0,void 0,function*(){return co(e,"GET",t,r,n)})}function At(e,t,r,n,i){return ie(this,void 0,void 0,function*(){return co(e,"POST",t,n,i,r)})}function au(e,t,r,n,i){return ie(this,void 0,void 0,function*(){return co(e,"PUT",t,n,i,r)})}function ib(e,t,r,n){return ie(this,void 0,void 0,function*(){return co(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nc(e,t,r,n,i){return ie(this,void 0,void 0,function*(){return co(e,"DELETE",t,n,i,r)})}class ob{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}})}}var Rv;class sb{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Rv]="BlobDownloadBuilder",this.promise=null}asStream(){return new ob(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}})}}Rv=Symbol.toStringTag;const ab={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lb{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=jc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return ie(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},wd),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),p=this._getFinalPath(u),f=yield(t=="PUT"?au:At)(this.fetch,`${this.url}/object/${p}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}upload(t,r,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return ie(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:wd.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,p["cache-control"]=`max-age=${u.cacheControl}`,p["content-type"]=u.contentType);const f=yield au(this.fetch,a.toString(),l,{headers:p});return{data:{path:o,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(je(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield At(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new Oc("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}update(t,r,n){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ie(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}copy(t,r,n){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield At(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return ie(this,void 0,void 0,function*(){try{const i=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=o?`?${o}`:"",a=this._getFinalPath(t),l=()=>Zi(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new sb(l,this.shouldThrowOnError)}info(t){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Zi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:su(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}exists(t){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ib(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n)&&n instanceof ou){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}list(t,r,n){return ie(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ab),r),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}listV2(t,r){return ie(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Lv="2.76.1",Iv={"X-Client-Info":`storage-js/${Lv}`};class ub{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iv),r),this.fetch=jc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ie(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(je(t))return{data:null,error:t};throw t}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Zi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}createBucket(t){return ie(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(je(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return ie(this,void 0,void 0,function*(){try{return{data:yield au(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}}class cb{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iv),r),this.fetch=jc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}listBuckets(t){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`,o=yield Zi(this.fetch,i,{headers:this.headers});return{data:Array.isArray(o)?o.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}}const Tc={"X-Client-Info":`storage-js/${Lv}`,"Content-Type":"application/json"};class Dv extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ht(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Ka extends Dv{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fb extends Dv{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var bd;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bd||(bd={}));const Pc=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},db=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_d=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),hb=(e,t,r)=>ie(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||i+"";t(new Ka(_d(s),i,a))}).catch(()=>{const s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Ka(a,i,s))});else{const s=i+"",a=o.statusText||`HTTP ${i} error`;t(new Ka(a,i,s))}}else t(new fb(_d(e),e))}),pb=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(db(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function mb(e,t,r,n,i,o){return ie(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(r,pb(t,n,i,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>hb(l,a,n))})})}function pt(e,t,r,n,i){return ie(this,void 0,void 0,function*(){return mb(e,"POST",t,n,i,r)})}class vb{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),r),this.fetch=Pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getIndex(t,r){return ie(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}listIndexes(t){return ie(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}})}}class gb{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),r),this.fetch=Pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield pt(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}queryVectors(t){return ie(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteVectors(t){return ie(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield pt(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}}class yb{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tc),r),this.fetch=Pc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}getBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(t={}){try{return{data:yield pt(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ie(this,void 0,void 0,function*(){try{return{data:(yield pt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}})}}class wb extends yb{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new bb(this.url,this.headers,t,this.fetch)}}class bb extends vb{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new _b(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class _b extends gb{constructor(t,r,n,i,o){super(t,r,o),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xb extends ub{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new lb(this.url,this.headers,t,this.fetch)}get vectors(){return new wb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cb(this.url+"/iceberg",this.headers,this.fetch)}}const kb="2.76.1";let _i="";typeof Deno<"u"?_i="deno":typeof document<"u"?_i="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_i="react-native":_i="node";const Eb={"X-Client-Info":`supabase-js-${_i}/${kb}`},Sb={headers:Eb},Ob={schema:"public"},jb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nb={},Tb=e=>{let t;return e?t=e:typeof fetch>"u"?t=yv:t=fetch,(...r)=>t(...r)},Pb=()=>typeof Headers>"u"?wv:Headers,Ab=(e,t,r)=>{const n=Tb(r),i=Pb();return async(o,s)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},s),{headers:u}))}};function Cb(e){return e.endsWith("/")?e:e+"/"}function Rb(e,t){var r,n;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:u,realtime:p,global:f}=t,c={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},p),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}function Lb(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $v="2.76.1",dn=30*1e3,lu=3,Ga=lu*dn,Ib="http://localhost:9999",Db="supabase.auth.token",$b={"X-Client-Info":`gotrue-js/${$v}`},uu="X-Supabase-Api-Version",Mv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qb=10*60*1e3;class eo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Bb extends eo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ub(e){return oe(e)&&e.name==="AuthApiError"}class Fr extends eo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Rr extends eo{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class lr extends Rr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fb(e){return oe(e)&&e.name==="AuthSessionMissingError"}class sn extends Rr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bo extends Rr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Uo extends Rr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zb(e){return oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class xd extends Rr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cu extends Rr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ya(e){return oe(e)&&e.name==="AuthRetryableFetchError"}class kd extends Rr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fu extends Rr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const As="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ed=` 	
\r=`.split(""),Wb=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=-2;for(let t=0;t<As.length;t+=1)e[As[t].charCodeAt(0)]=t;return e})();function Sd(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(As[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(As[n]),t.queuedBits-=6}}function qv(e,t,r){const n=Wb[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Od(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{Kb(s,n,r)};for(let s=0;s<e.length;s+=1)qv(e.charCodeAt(s),i,o);return t.join("")}function Hb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Vb(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Hb(n,t)}}function Kb(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Cn(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)qv(e.charCodeAt(i),r,n);return new Uint8Array(t)}function Gb(e){const t=[];return Vb(e,r=>t.push(r)),new Uint8Array(t)}function Vr(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Sd(i,r,n)),Sd(null,r,n),t.join("")}function Yb(e){return Math.round(Date.now()/1e3)+e}function Qb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",Lr={tested:!1,writable:!1},Bv=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Lr.tested)return Lr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Lr.tested=!0,Lr.writable=!0}catch{Lr.tested=!0,Lr.writable=!1}return Lr.writable};function Jb(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Uv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qn(async()=>{const{default:n}=await Promise.resolve().then(()=>nn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",hn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ir=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},sr=async(e,t)=>{await e.removeItem(t)};class sa{constructor(){this.promise=new sa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}sa.promiseConstructor=Promise;function Qa(e){const t=e.split(".");if(t.length!==3)throw new fu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Mb.test(t[n]))throw new fu("JWT not in base64url format");return{header:JSON.parse(Od(t[0])),payload:JSON.parse(Od(t[1])),signature:Cn(t[2]),raw:{header:t[0],payload:t[1]}}}async function Zb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function e_(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){n(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function t_(e){return("0"+e.toString(16)).substr(-2)}function r_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,t_).join("")}async function n_(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function i_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await n_(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function an(e,t,r=!1){const n=r_();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await hn(e,`${t}-code-verifier`,i);const o=await i_(n);return[o,n===o?"plain":"s256"]}const o_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s_(e){const t=e.headers.get(uu);if(!t||!t.match(o_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function l_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const u_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(e){if(!u_.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ja(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jd(e){return JSON.parse(JSON.stringify(e))}const Mr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c_=[502,503,504];async function Nd(e){var t;if(!Xb(e))throw new cu(Mr(e),0);if(c_.includes(e.status))throw new cu(Mr(e),e.status);let r;try{r=await e.json()}catch(o){throw new Fr(Mr(o),o)}let n;const i=s_(e);if(i&&i.getTime()>=Mv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kd(Mr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new kd(Mr(r),e.status,r.weak_password.reasons);throw new Bb(Mr(r),e.status||500,n)}const f_=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ae(e,t,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[uu]||(o[uu]=Mv["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await d_(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function d_(e,t,r,n,i,o){const s=f_(t,n,i,o);let a;try{a=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new cu(Mr(l),0)}if(a.ok||await Nd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Nd(l)}}function Tt(e){var t;let r=null;m_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Yb(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Td(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h_(e){return{data:e,error:null}}function p_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,s=Yn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function Pd(e){return e}function m_(e){return e.access_token&&e.refresh_token&&e.expires_in}const Xa=["global","local","others"];class v_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Uv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Xa[0]){if(Xa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Xa.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:hr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Yn(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:p_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},p=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pd});if(p.error)throw p.error;const f=await p.json(),c=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=p.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(c)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ln(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hr})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ln(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:hr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ln(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:hr})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ln(t.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ln(t.userId),ln(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,o,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},p=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Pd});if(p.error)throw p.error;const f=await p.json(),c=(s=p.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(l=(a=p.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);u[`${b}Page`]=v}),u.total=parseInt(c)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(oe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function Ad(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const un={debug:!!(globalThis&&Bv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class g_ extends Fv{}async function y_(e,t,r){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),un.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){un.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{un.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw un.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new g_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(un.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function w_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function b_(e){return parseInt(e,16)}function __(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function x_(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:l,resources:u,scheme:p,uri:f,version:c}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(c!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${c}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const d=zv(e.address),g=p?`${p}://${n}`:n,v=e.statement?`${e.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${d}

${v}`;let m=`URI: ${f}
Version: ${c}
Chain ID: ${r}${s?`
Nonce: ${s}`:""}
Issued At: ${o.toISOString()}`;if(i&&(m+=`
Expiration Time: ${i.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let h=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);h+=`
- ${w}`}m+=h}return`${b}
${m}`}class De extends Error{constructor({message:t,code:r,cause:n,name:i}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=i??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class Cs extends De{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function k_({error:e,options:t}){var r,n,i;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new De({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new De({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new De({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new De({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new De({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new De({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(Wv(s)){if(o.rp.id!==s)return new De({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new De({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function E_({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new De({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new De({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Wv(n)){if(r.rpId!==n)return new De({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new De({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new De({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new De({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class S_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const O_=new S_;function j_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Yn(e,["challenge","user","excludeCredentials"]),o=Cn(t).buffer,s=Object.assign(Object.assign({},r),{id:Cn(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:o,user:s});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Cn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function N_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Yn(e,["challenge","allowCredentials"]),i=Cn(t).buffer,o=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let s=0;s<r.length;s++){const a=r[s];o.allowCredentials[s]=Object.assign(Object.assign({},a),{id:Cn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function T_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Vr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Vr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function P_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Vr(new Uint8Array(i.authenticatorData)),clientDataJSON:Vr(new Uint8Array(i.clientDataJSON)),signature:Vr(new Uint8Array(i.signature)),userHandle:i.userHandle?Vr(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Wv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cd(){var e,t;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function A_(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cs("Browser returned unexpected credential type",t)}:{data:null,error:new Cs("Empty credential response",t)}}catch(t){return{data:null,error:k_({error:t,options:e})}}}async function C_(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cs("Browser returned unexpected credential type",t)}:{data:null,error:new Cs("Empty credential response",t)}}catch(t){return{data:null,error:E_({error:t,options:e})}}}const R_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},L_={userVerification:"preferred",hints:["security-key"]};function Rs(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const o in i){const s=i[o];if(s!==void 0)if(Array.isArray(s))n[o]=s;else if(r(s))n[o]=s;else if(t(s)){const a=n[o];t(a)?n[o]=Rs(a,s):n[o]=Rs(s)}else n[o]=s}return n}function I_(e,t){return Rs(R_,e,t||{})}function D_(e,t){return Rs(L_,e,t||{})}class $_{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},o){try{const{data:s,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!s)return{data:null,error:a};const l=i??O_.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=I_(s.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:p,error:f}=await A_({publicKey:u,signal:l});return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{const u=D_(s.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:p,error:f}=await C_(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return p?{data:{factorId:t,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Fr("Unexpected error in challenge",s)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}},o){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn authentication")};try{if(!Cd())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:o});if(!s)return{data:null,error:a};const{webauthn:l}=s;return this._verify({factorId:t,challengeId:s.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Fr("Unexpected error in authenticate",s)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i},o){if(!r)return{data:null,error:new eo("rpId is required for WebAuthn registration")};try{if(!Cd())return{data:null,error:new Fr("Browser does not support WebAuthn",null)};const{data:s,error:a}=await this._enroll({friendlyName:t});if(!s)return await this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(c=>c.factor_type==="webauthn"&&c.friendly_name===t&&c.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:o});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return oe(s)?{data:null,error:s}:{data:null,error:new Fr("Unexpected error in register",s)}}}}w_();const M_={url:Ib,storageKey:Db,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$b,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rd(e,t,r){return await r()}const cn={};class to{get jwks(){var t,r;return(r=(t=cn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=cn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cn[this.storageKey]=Object.assign(Object.assign({},cn[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=to.nextInstanceID,to.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},M_),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new v_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Uv(i.fetch),this.lock=i.lock||Rd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=y_:this.lock=Rd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $_(this)},this.persistSession?(i.storage?this.storage=i.storage:Bv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$v}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Jb(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ft()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),zb(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new Fr("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tt}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:p,password:f,options:c}=t;let d=null,g=null;this.flowType==="pkce"&&([d,g]=await an(this.storage,this.storageKey)),o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:c==null?void 0:c.emailRedirectTo,body:{email:p,password:f,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:g},xform:Tt})}else if("phone"in t){const{phone:p,password:f,options:c}=t;o=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:f,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Tt})}else throw new Bo("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:s,options:a}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Td})}else if("phone"in t){const{phone:o,password:s,options:a}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Td})}else throw new Bo("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,o,s,a,l,u,p,f,c;let d,g;if("message"in t)d=t.message,g=t.signature;else{const{chain:v,wallet:b,statement:m,options:h}=t;let w;if(ft())if(typeof b=="object")w=b;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")w=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const y=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),x=await w.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=zv(x[0]);let k=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const P=await w.request({method:"eth_chainId"});k=b_(P)}const E={domain:y.host,address:O,statement:m,uri:y.href,version:"1",chainId:k,nonce:(i=h==null?void 0:h.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=h==null?void 0:h.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(p=h==null?void 0:h.signInWithEthereum)===null||p===void 0?void 0:p.resources};d=x_(E),g=await w.request({method:"personal_sign",params:[__(d),O]})}try{const{data:v,error:b}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(c=t.options)===null||c===void 0?void 0:c.captchaToken}}:null),xform:Tt});if(b)throw b;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new sn}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:b})}catch(v){if(oe(v))return{data:{user:null,session:null},error:v};throw v}}async signInWithSolana(t){var r,n,i,o,s,a,l,u,p,f,c,d;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:b,wallet:m,statement:h,options:w}=t;let y;if(ft())if(typeof m=="object")y=m;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))y=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const x=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const O=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),h?{statement:h}:null));let k;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")k=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)k=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)g=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),v=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${x.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(p=w==null?void 0:w.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const O=await y.signMessage(new TextEncoder().encode(g),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=O}}try{const{data:b,error:m}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Vr(v)},!((c=t.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Tt});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new sn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(oe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:s}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tt});if(await sr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new sn}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:s}=t,a=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,s;try{if("email"in t){const{email:a,options:l}=t;let u=null,p=null;this.flowType==="pkce"&&([u,p]=await an(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:p},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:p}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:p}}throw new Bo("You must provide either an email or phone number.")}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Tt});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await an(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:h_})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new lr;const{error:i}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:s}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:s,error:a}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new Bo("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ga:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await Ir(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Ja()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,p)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,p))})}return{data:{session:t},error:null}}const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hr}):await this._useSession(async r=>{var n,i,o;const{data:s,error:a}=r;if(a)throw a;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:hr})})}catch(r){if(oe(r))return Fb(r)&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new lr;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await an(this.storage,this.storageKey));const{data:u,error:p}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:hr});if(p)throw p;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(oe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new lr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:s}=Qa(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:a}=r;if(a)throw a;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new lr;const{data:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ft())throw new Uo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Uo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xd("No code detected.");const{data:h,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=t;if(!o||!a||!s||!u)throw new Uo("No session defined in URL");const p=Math.round(Date.now()/1e3),f=parseInt(a);let c=p+f;l&&(c=parseInt(l));const d=c-p;d*1e3<=dn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const g=c-f;p-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,c,p):p-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,c,p);const{data:v,error:b}=await this._getUser(o);if(b)throw b;const m={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:f,expires_at:c,refresh_token:s,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ir(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(Ub(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await sr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Qb(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await an(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var s,a,l,u,p;const{data:f,error:c}=o;if(c)throw c;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",d,{headers:this.headers,jwt:(p=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ft()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(oe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:o}}=r;if(i)throw i;const{options:s,provider:a,token:l,access_token:u,nonce:p}=t,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Tt}),{data:c,error:d}=f;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),{data:c,error:d})}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)throw s;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await e_(async i=>(i>0&&await Zb(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(i,o)=>{const s=200*Math.pow(2,i);return o&&Ya(o)&&Date.now()+s-n<dn})}catch(n){if(this._debug(r,"error",n),oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ft()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ir(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await hn(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Ja()}else if(i&&!i.user&&!i.user){const s=await Ir(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await sr(this.storage,this.storageKey+"-user"),await hn(this.storage,this.storageKey,i)):i.user=Ja()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ga;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Ga}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),Ya(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new sa;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new lr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),oe(o)){const s={data:null,error:o};return Ya(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hn(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=jd(i);await hn(this.storage,this.storageKey,o)}else{const i=jd(r);await hn(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await sr(this.storage,this.storageKey),await sr(this.storage,this.storageKey+"-code-verifier"),await sr(this.storage,this.storageKey+"-user"),this.userStorage&&await sr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/dn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${dn}ms, refresh threshold is ${lu} ticks`),i<=lu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,s]=await an(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?T_(t.webauthn.credential_response):P_(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(s.error)return s;const{data:a}=s;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:j_(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:N_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Qa(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const p=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+qb>i)return n;const{data:o,error:s}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:d,error:g}=await this.getSession();if(g||!d.session)return{data:null,error:g};n=d.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=Qa(n);r!=null&&r.allowExpired||a_(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:o,header:i,signature:s},error:null}}const p=l_(i.alg),f=await crypto.subtle.importKey("jwk",u,p,!0,["verify"]);if(!await crypto.subtle.verify(p,f,s,Gb(`${a}.${l}`)))throw new fu("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}}}to.nextInstanceID=0;const q_=to;class B_ extends q_{constructor(t){super(t)}}class U_{constructor(t,r,n){var i,o,s;this.supabaseUrl=t,this.supabaseKey=r;const a=Lb(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Ob,realtime:Nb,auth:Object.assign(Object.assign({},jb),{storageKey:l}),global:Sb},p=Rb(n??{},u);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(f,c)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(c)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=p.auth)!==null&&s!==void 0?s:{},this.headers,p.global.fetch),this.fetch=Ab(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Iw(new URL("rest/v1",a).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new xb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new jw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:u},p,f){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new B_({url:this.authUrl.href,headers:Object.assign(Object.assign({},c),p),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:o,flowType:a,lock:l,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Xw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const F_=(e,t,r)=>new U_(e,t,r);function z_(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}z_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W_="https://your-project.supabase.co",H_="your-anon-key-here",re=F_(W_,H_),rt=ww(e=>({user:null,loading:!0,setUser:t=>e({user:t}),setLoading:t=>e({loading:t}),fetchUser:async()=>{try{const{data:{user:t}}=await re.auth.getUser();if(t){const{data:r}=await re.from("profiles").select("*").eq("id",t.id).single();e({user:r,loading:!1})}else e({user:null,loading:!1})}catch(t){console.error("Error fetching user:",t),e({user:null,loading:!1})}},signOut:async()=>{await re.auth.signOut(),e({user:null})}}));/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var V_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(e,t)=>{const r=H.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},p)=>H.createElement("svg",{ref:p,...V_,width:i,height:i,stroke:n,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${K_(e)}`,a].join(" "),...u},[...t.map(([f,c])=>H.createElement(f,c)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=me("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=me("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=me("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=me("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=me("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=me("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=me("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=me("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=me("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=me("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=me("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=me("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=me("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=me("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=me("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function cx(){const e=[{icon:Cc,title:"Rich Writing Experience",description:"Beautiful editor with cover images, tags, and automatic reading time calculation"},{icon:en,title:"Collaborative Spaces",description:"Write together with others in real-time collaborative writing spaces"},{icon:Kv,title:"Thought Bubbles",description:"Share quick thoughts with mood tracking - your personal micro-blogging space"},{icon:fo,title:"Social Features",description:"Like, comment, bookmark, and follow writers you love"},{icon:ho,title:"Post Debates",description:"Engage in friendly debates and vote on the best arguments"},{icon:ro,title:"Smart Discovery",description:"Explore trending topics, discover top writers, and find your community"}];return _.jsxs("div",{className:"min-h-screen",children:[_.jsx("section",{className:"gradient-bg text-white py-20 px-4",children:_.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[_.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:"Welcome to Aesop Blog"}),_.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90 max-w-3xl mx-auto",children:"An exceptional social blogging platform where writers, thinkers, and creators come together"}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[_.jsx(Te,{to:"/auth",className:"btn btn-primary bg-white text-blue-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-lg",children:"Get Started"}),_.jsx("a",{href:"#features",className:"btn bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 text-lg px-8 py-4",children:"Learn More"})]})]})}),_.jsx("section",{id:"features",className:"py-20 px-4 bg-white",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx("h2",{className:"text-4xl font-bold text-center mb-4 gradient-text",children:"What Makes Us Exceptional"}),_.jsx("p",{className:"text-center text-gray-600 mb-12 max-w-2xl mx-auto",children:"Aesop Blog combines the best of blogging, social networking, and collaborative writing"}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((t,r)=>_.jsxs("div",{className:"card p-6 animate-slide-up hover:scale-105 transition-transform",style:{animationDelay:`${r*100}ms`},children:[_.jsx("div",{className:"w-12 h-12 gradient-bg rounded-lg flex items-center justify-center mb-4",children:_.jsx(t.icon,{className:"w-6 h-6 text-white"})}),_.jsx("h3",{className:"text-xl font-bold mb-2 text-gray-900",children:t.title}),_.jsx("p",{className:"text-gray-600",children:t.description})]},r))})]})}),_.jsx("section",{className:"py-20 px-4 bg-gray-50",children:_.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[_.jsx("h2",{className:"text-4xl font-bold mb-4 gradient-text",children:"Find Your Community"}),_.jsx("p",{className:"text-gray-600 mb-12 max-w-2xl mx-auto",children:"Join communities of students, scholars, professionals, coders, writers, artists, and more"}),_.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-12",children:["Students ","Scholars ","Coders ","Writers ","Artists ","Scientists ","Entrepreneurs ","Creatives "].map(t=>_.jsx("span",{className:"badge badge-primary px-4 py-2 text-base",children:t},t))}),_.jsx(Te,{to:"/auth",className:"btn btn-primary text-lg px-8 py-4 inline-block",children:"Join Your Community"})]})}),_.jsx("section",{className:"gradient-bg text-white py-20 px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[_.jsx("h2",{className:"text-4xl font-bold mb-6",children:"Ready to Start Writing?"}),_.jsx("p",{className:"text-xl mb-8 text-white/90",children:"Join thousands of writers sharing their stories, ideas, and passions"}),_.jsx(Te,{to:"/auth",className:"btn bg-white text-blue-600 hover:bg-gray-100 text-lg px-8 py-4 shadow-lg inline-block",children:"Create Your Account"})]})}),_.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4",children:_.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[_.jsx("div",{className:"w-8 h-8 gradient-bg rounded-lg flex items-center justify-center",children:_.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),_.jsx("span",{className:"text-2xl font-bold",children:"Aesop Blog"})]}),_.jsx("p",{className:"text-gray-400 mb-4",children:"Write, Share, Connect - An exceptional blogging experience"}),_.jsx("p",{className:"text-gray-500 text-sm",children:" 2025 Aesop Blog. All rights reserved."})]})})]})}function fx(){const e=uo(),[t,r]=H.useState(!0),[n,i]=H.useState(!1),[o,s]=H.useState(""),[a,l]=H.useState({email:"",password:"",username:"",fullName:""}),u=async p=>{p.preventDefault(),s(""),i(!0);try{if(t){const{error:f}=await re.auth.signInWithPassword({email:a.email,password:a.password});if(f)throw f;e("/feed")}else{const{data:f}=await re.from("profiles").select("username").eq("username",a.username).single();if(f)throw new Error("Username already taken");const{data:c,error:d}=await re.auth.signUp({email:a.email,password:a.password});if(d)throw d;if(c.user){const{error:g}=await re.from("profiles").insert({id:c.user.id,email:a.email,username:a.username,full_name:a.fullName||null});if(g)throw g;e("/onboarding")}}}catch(f){s(f.message||"An error occurred")}finally{i(!1)}};return _.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg py-12 px-4",children:_.jsxs("div",{className:"max-w-md w-full",children:[_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl mb-4 shadow-lg",children:_.jsx("span",{className:"text-3xl font-bold gradient-text",children:"A"})}),_.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Aesop Blog"}),_.jsx("p",{className:"text-white/80",children:t?"Welcome back!":"Create your account"})]}),_.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o&&_.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[_.jsx(G_,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),_.jsx("p",{className:"text-sm text-red-800",children:o})]}),_.jsxs("form",{onSubmit:u,className:"space-y-5",children:[!t&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),_.jsxs("div",{className:"relative",children:[_.jsx(pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"text",required:!0,placeholder:"johndoe",value:a.username,onChange:p=>l({...a,username:p.target.value}),className:"input pl-10"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),_.jsxs("div",{className:"relative",children:[_.jsx(pu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"text",placeholder:"John Doe",value:a.fullName,onChange:p=>l({...a,fullName:p.target.value}),className:"input pl-10"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),_.jsxs("div",{className:"relative",children:[_.jsx(sx,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"email",required:!0,placeholder:"you@example.com",value:a.email,onChange:p=>l({...a,email:p.target.value}),className:"input pl-10"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),_.jsxs("div",{className:"relative",children:[_.jsx(Hv,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"password",required:!0,placeholder:"",minLength:6,value:a.password,onChange:p=>l({...a,password:p.target.value}),className:"input pl-10"})]}),!t&&_.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Must be at least 6 characters"})]}),_.jsx("button",{type:"submit",disabled:n,className:"w-full btn btn-primary py-3 text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Loading...":t?"Sign In":"Create Account"})]}),_.jsx("div",{className:"mt-6 text-center",children:_.jsx("button",{onClick:()=>{r(!t),s("")},className:"text-blue-600 hover:text-blue-700 font-medium",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]}),_.jsx("p",{className:"mt-6 text-center text-white/60 text-sm",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}const Lc=[{value:"students",label:"Students",icon:""},{value:"scholars",label:"Scholars",icon:""},{value:"professionals",label:"Professionals",icon:""},{value:"coders",label:"Coders",icon:""},{value:"engineers",label:"Engineers",icon:""},{value:"geeks",label:"Geeks",icon:""},{value:"service_providers",label:"Service Providers",icon:""},{value:"writers",label:"Writers",icon:""},{value:"artists",label:"Artists",icon:""},{value:"entrepreneurs",label:"Entrepreneurs",icon:""},{value:"government_workers",label:"Government Workers",icon:""},{value:"entertainment",label:"Entertainment",icon:""},{value:"healthcare",label:"Healthcare",icon:""},{value:"educators",label:"Educators",icon:""},{value:"creatives",label:"Creatives",icon:""},{value:"scientists",label:"Scientists",icon:""},{value:"business",label:"Business",icon:""},{value:"freelancers",label:"Freelancers",icon:""},{value:"researchers",label:"Researchers",icon:""},{value:"others",label:"Others",icon:""}],la=[{value:"lifestyle",label:"Lifestyle",icon:""},{value:"educational",label:"Educational",icon:""},{value:"medical",label:"Medical",icon:""},{value:"physics",label:"Physics",icon:""},{value:"cosmology",label:"Cosmology",icon:""},{value:"chemistry",label:"Chemistry",icon:""},{value:"biology",label:"Biology",icon:""},{value:"technology",label:"Technology",icon:""},{value:"electrical",label:"Electrical Devices",icon:""},{value:"ai_tools",label:"AI Tools",icon:""},{value:"culture",label:"Culture",icon:""},{value:"environment",label:"Environment",icon:""},{value:"art",label:"Art",icon:""},{value:"socialization",label:"Socialization",icon:""},{value:"philosophy",label:"Philosophy",icon:""},{value:"movies",label:"Movies",icon:""},{value:"tv_shows",label:"TV Shows",icon:""},{value:"politics",label:"Politics",icon:""},{value:"gaming",label:"Gaming",icon:""},{value:"others",label:"Others",icon:""}],Gv=[{value:"happy",label:"Happy",icon:"",gradient:"from-yellow-400 to-orange-400"},{value:"inspired",label:"Inspired",icon:"",gradient:"from-purple-400 to-pink-400"},{value:"thoughtful",label:"Thoughtful",icon:"",gradient:"from-blue-400 to-indigo-400"},{value:"energized",label:"Energized",icon:"",gradient:"from-green-400 to-emerald-400"},{value:"loving",label:"Loving",icon:"",gradient:"from-red-400 to-pink-400"},{value:"chill",label:"Chill",icon:"",gradient:"from-cyan-400 to-blue-400"}];function dx(){const e=uo(),{user:t,fetchUser:r}=rt(),[n,i]=H.useState(1),[o,s]=H.useState(!1),[a,l]=H.useState([]),[u,p]=H.useState([]),f=g=>{l(v=>v.includes(g)?v.filter(b=>b!==g):[...v,g])},c=g=>{p(v=>v.includes(g)?v.filter(b=>b!==g):[...v,g])},d=async()=>{if(t){s(!0);try{const{error:g}=await re.from("profiles").update({communities:a,topics:u}).eq("id",t.id);if(g)throw g;await r(),e("/feed")}catch(g){console.error("Error updating profile:",g),alert("Failed to save preferences. Please try again.")}finally{s(!1)}}};return _.jsx("div",{className:"min-h-screen gradient-bg py-12 px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-white rounded-2xl mb-4 shadow-lg",children:_.jsx("span",{className:"text-3xl font-bold gradient-text",children:"A"})}),_.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Welcome to Aesop Blog!"}),_.jsx("p",{className:"text-white/80 text-lg",children:"Let's personalize your experience"})]}),_.jsxs("div",{className:"flex items-center justify-center gap-4 mb-12",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${n>=1?"bg-white text-blue-600":"bg-white/30 text-white"}`,children:n>1?_.jsx(X_,{className:"w-6 h-6"}):"1"}),_.jsx("span",{className:"ml-3 text-white font-medium",children:"Communities"})]}),_.jsx("div",{className:"w-12 h-1 bg-white/30"}),_.jsxs("div",{className:"flex items-center",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${n>=2?"bg-white text-blue-600":"bg-white/30 text-white"}`,children:"2"}),_.jsx("span",{className:"ml-3 text-white font-medium",children:"Topics"})]})]}),_.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:n===1?_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Communities"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Select the communities you belong to (choose at least 3)"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-8",children:Lc.map(g=>_.jsxs("button",{onClick:()=>f(g.value),className:`p-4 rounded-xl border-2 transition-all ${a.includes(g.value)?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[_.jsx("div",{className:"text-3xl mb-2",children:g.icon}),_.jsx("div",{className:"font-medium text-gray-900",children:g.label})]},g.value))}),_.jsxs("button",{onClick:()=>i(2),disabled:a.length<3,className:"w-full btn btn-primary py-3 text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:["Continue (",a.length," selected)"]})]}):_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Topics"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Select topics you're interested in (choose at least 3)"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-8",children:la.map(g=>_.jsxs("button",{onClick:()=>c(g.value),className:`p-4 rounded-xl border-2 transition-all ${u.includes(g.value)?"border-cyan-600 bg-cyan-50":"border-gray-200 hover:border-cyan-300"}`,children:[_.jsx("div",{className:"text-3xl mb-2",children:g.icon}),_.jsx("div",{className:"font-medium text-gray-900",children:g.label})]},g.value))}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>i(1),className:"flex-1 btn btn-secondary py-3 text-lg font-semibold",children:"Back"}),_.jsx("button",{onClick:d,disabled:u.length<3||o,className:"flex-1 btn btn-primary py-3 text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":`Complete (${u.length} selected)`})]})]})})]})})}var mu=new Map,Fo=new WeakMap,Id=0,hx=void 0;function px(e){return e?(Fo.has(e)||(Id+=1,Fo.set(e,Id.toString())),Fo.get(e)):"0"}function mx(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?px(e.root):e[t]}`).toString()}function vx(e){const t=mx(e);let r=mu.get(t);if(!r){const n=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(a=>{var l;const u=a.isIntersecting&&i.some(p=>a.intersectionRatio>=p);e.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=n.get(a.target))==null||l.forEach(p=>{p(u,a)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:o,elements:n},mu.set(t,r)}return r}function gx(e,t,r={},n=hx){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:s}=vx(r),a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),o.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),o.unobserve(e)),s.size===0&&(o.disconnect(),mu.delete(i))}}function yx({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:i,triggerOnce:o,skip:s,initialInView:a,fallbackInView:l,onChange:u}={}){var p;const[f,c]=H.useState(null),d=H.useRef(u),[g,v]=H.useState({inView:!!a,entry:void 0});d.current=u,H.useEffect(()=>{if(s||!f)return;let w;return w=gx(f,(y,x)=>{v({inView:y,entry:x}),d.current&&d.current(y,x),x.isIntersecting&&o&&w&&(w(),w=void 0)},{root:i,rootMargin:n,threshold:e,trackVisibility:r,delay:t},l),()=>{w&&w()}},[Array.isArray(e)?e.toString():e,f,i,n,o,s,r,l,t]);const b=(p=g.entry)==null?void 0:p.target,m=H.useRef(void 0);!f&&b&&!o&&!s&&m.current!==b&&(m.current=b,v({inView:!!a,entry:void 0}));const h=[c,g.inView,g.entry];return h.ref=h[0],h.inView=h[1],h.entry=h[2],h}function we(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Nr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Yv=6048e5,wx=864e5,zo=43200,Dd=1440;let bx={};function po(){return bx}function no(e,t){var a,l,u,p;const r=po(),n=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((p=(u=r.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??0,i=we(e),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Is(e){return no(e,{weekStartsOn:1})}function Qv(e){const t=we(e),r=t.getFullYear(),n=Nr(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Is(n),o=Nr(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=Is(o);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function $d(e){const t=we(e);return t.setHours(0,0,0,0),t}function Ds(e){const t=we(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function _x(e,t){const r=$d(e),n=$d(t),i=+r-Ds(r),o=+n-Ds(n);return Math.round((i-o)/wx)}function xx(e){const t=Qv(e),r=Nr(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Is(r)}function ns(e,t){const r=we(e),n=we(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function kx(e){return Nr(e,Date.now())}function Ex(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sx(e){if(!Ex(e)&&typeof e!="number")return!1;const t=we(e);return!isNaN(Number(t))}function Ox(e,t){const r=we(e),n=we(t),i=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return i*12+o}function jx(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Nx(e,t){return+we(e)-+we(t)}function Tx(e){const t=we(e);return t.setHours(23,59,59,999),t}function Px(e){const t=we(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ax(e){const t=we(e);return+Tx(t)==+Px(t)}function Cx(e,t){const r=we(e),n=we(t),i=ns(r,n),o=Math.abs(Ox(r,n));let s;if(o<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);let a=ns(r,n)===-i;Ax(we(e))&&o===1&&ns(e,n)===1&&(a=!1),s=i*(o-Number(a))}return s===0?0:s}function Rx(e,t,r){const n=Nx(e,t)/1e3;return jx(r==null?void 0:r.roundingMethod)(n)}function Lx(e){const t=we(e),r=Nr(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ix={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Dx=(e,t,r)=>{let n;const i=Ix[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Za(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const $x={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bx={date:Za({formats:$x,defaultWidth:"full"}),time:Za({formats:Mx,defaultWidth:"full"}),dateTime:Za({formats:qx,defaultWidth:"full"})},Ux={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fx=(e,t,r,n)=>Ux[e];function hi(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const zx={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Hx={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yx=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qx={ordinalNumber:Yx,era:hi({values:zx,defaultWidth:"wide"}),quarter:hi({values:Wx,defaultWidth:"wide",argumentCallback:e=>e-1}),month:hi({values:Hx,defaultWidth:"wide"}),day:hi({values:Vx,defaultWidth:"wide"}),dayPeriod:hi({values:Kx,defaultWidth:"wide",formattingValues:Gx,defaultFormattingWidth:"wide"})};function pi(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?Xx(a,f=>f.test(s)):Jx(a,f=>f.test(s));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const p=t.slice(s.length);return{value:u,rest:p}}}function Jx(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Xx(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Zx(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const ek=/^(\d+)(th|st|nd|rd)?/i,tk=/\d+/i,rk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nk={any:[/^b/i,/^(a|c)/i]},ik={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ok={any:[/1/i,/2/i,/3/i,/4/i]},sk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ak={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ck={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dk={ordinalNumber:Zx({matchPattern:ek,parsePattern:tk,valueCallback:e=>parseInt(e,10)}),era:pi({matchPatterns:rk,defaultMatchWidth:"wide",parsePatterns:nk,defaultParseWidth:"any"}),quarter:pi({matchPatterns:ik,defaultMatchWidth:"wide",parsePatterns:ok,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pi({matchPatterns:sk,defaultMatchWidth:"wide",parsePatterns:ak,defaultParseWidth:"any"}),day:pi({matchPatterns:lk,defaultMatchWidth:"wide",parsePatterns:uk,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:ck,defaultMatchWidth:"any",parsePatterns:fk,defaultParseWidth:"any"})},Jv={code:"en-US",formatDistance:Dx,formatLong:Bx,formatRelative:Fx,localize:Qx,match:dk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hk(e){const t=we(e);return _x(t,Lx(t))+1}function pk(e){const t=we(e),r=+Is(t)-+xx(t);return Math.round(r/Yv)+1}function Xv(e,t){var p,f,c,d;const r=we(e),n=r.getFullYear(),i=po(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(c=i.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=Nr(e,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const a=no(s,t),l=Nr(e,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const u=no(l,t);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function mk(e,t){var a,l,u,p;const r=po(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(u=r.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??1,i=Xv(e,t),o=Nr(e,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),no(o,t)}function vk(e,t){const r=we(e),n=+no(r,t)-+mk(r,t);return Math.round(n/Yv)+1}function ge(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ar={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ge(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ge(r+1,2)},d(e,t){return ge(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ge(e.getHours()%12||12,t.length)},H(e,t){return ge(e.getHours(),t.length)},m(e,t){return ge(e.getMinutes(),t.length)},s(e,t){return ge(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ge(i,t.length)}},fn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Md={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ar.y(e,t)},Y:function(e,t,r,n){const i=Xv(e,n),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return ge(s,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ge(o,t.length)},R:function(e,t){const r=Qv(e);return ge(r,t.length)},u:function(e,t){const r=e.getFullYear();return ge(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ge(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ge(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ar.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ge(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=vk(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):ge(i,t.length)},I:function(e,t,r){const n=pk(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ge(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ar.d(e,t)},D:function(e,t,r){const n=hk(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ge(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ge(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ge(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return ge(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=fn.noon:n===0?i=fn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=fn.evening:n>=12?i=fn.afternoon:n>=4?i=fn.morning:i=fn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ar.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ar.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ge(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ge(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ar.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ar.s(e,t)},S:function(e,t){return ar.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Bd(n);case"XXXX":case"XX":return qr(n);case"XXXXX":case"XXX":default:return qr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Bd(n);case"xxxx":case"xx":return qr(n);case"xxxxx":case"xxx":default:return qr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qd(n,":");case"OOOO":default:return"GMT"+qr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qd(n,":");case"zzzz":default:return"GMT"+qr(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ge(n,t.length)},T:function(e,t,r){const n=e.getTime();return ge(n,t.length)}};function qd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+t+ge(o,2)}function Bd(e,t){return e%60===0?(e>0?"-":"+")+ge(Math.abs(e)/60,2):qr(e,t)}function qr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=ge(Math.trunc(n/60),2),o=ge(n%60,2);return r+i+t+o}const Ud=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Zv=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},gk=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Ud(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ud(n,t)).replace("{{time}}",Zv(i,t))},yk={p:Zv,P:gk},wk=/^D+$/,bk=/^Y+$/,_k=["D","DD","YY","YYYY"];function xk(e){return wk.test(e)}function kk(e){return bk.test(e)}function Ek(e,t,r){const n=Sk(e,t,r);if(console.warn(n),_k.includes(e))throw new RangeError(n)}function Sk(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ok=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nk=/^'([^]*?)'?$/,Tk=/''/g,Pk=/[a-zA-Z]/;function Ak(e,t,r){var p,f,c,d;const n=po(),i=n.locale??Jv,o=n.firstWeekContainsDate??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,s=n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,a=we(e);if(!Sx(a))throw new RangeError("Invalid time value");let l=t.match(jk).map(g=>{const v=g[0];if(v==="p"||v==="P"){const b=yk[v];return b(g,i.formatLong)}return g}).join("").match(Ok).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:Ck(g)};if(Md[v])return{isToken:!0,value:g};if(v.match(Pk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(g=>{if(!g.isToken)return g.value;const v=g.value;(kk(v)||xk(v))&&Ek(v,t,String(e));const b=Md[v[0]];return b(a,v,i.localize,u)}).join("")}function Ck(e){const t=e.match(Nk);return t?t[1].replace(Tk,"'"):e}function Rk(e,t,r){const n=po(),i=(r==null?void 0:r.locale)??n.locale??Jv,o=2520,s=ns(e,t);if(isNaN(s))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let l,u;s>0?(l=we(t),u=we(e)):(l=we(e),u=we(t));const p=Rx(u,l),f=(Ds(u)-Ds(l))/1e3,c=Math.round((p-f)/60);let d;if(c<2)return r!=null&&r.includeSeconds?p<5?i.formatDistance("lessThanXSeconds",5,a):p<10?i.formatDistance("lessThanXSeconds",10,a):p<20?i.formatDistance("lessThanXSeconds",20,a):p<40?i.formatDistance("halfAMinute",0,a):p<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):c===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",c,a);if(c<45)return i.formatDistance("xMinutes",c,a);if(c<90)return i.formatDistance("aboutXHours",1,a);if(c<Dd){const g=Math.round(c/60);return i.formatDistance("aboutXHours",g,a)}else{if(c<o)return i.formatDistance("xDays",1,a);if(c<zo){const g=Math.round(c/Dd);return i.formatDistance("xDays",g,a)}else if(c<zo*2)return d=Math.round(c/zo),i.formatDistance("aboutXMonths",d,a)}if(d=Cx(u,l),d<12){const g=Math.round(c/zo);return i.formatDistance("xMonths",g,a)}else{const g=d%12,v=Math.trunc(d/12);return g<3?i.formatDistance("aboutXYears",v,a):g<9?i.formatDistance("overXYears",v,a):i.formatDistance("almostXYears",v+1,a)}}function Lk(e,t){return Rk(e,kx(e),t)}function eg(e){const t=new Date(e);return Ak(t,"MMM d, yyyy")}function mo(e){const t=new Date(e);return Lk(t,{addSuffix:!0})}function Fd(e){const r=e.trim().split(/\s+/).length;return Math.ceil(r/200)}function tg(e){return e<1?"Less than a minute":e===1?"1 min read":`${e} min read`}function Ic({post:e,onUpdate:t}){var c,d,g,v,b;const{user:r}=rt(),[n,i]=H.useState(e.is_liked||!1),[o,s]=H.useState(e.is_bookmarked||!1),[a,l]=H.useState(e.likes_count||0),u=async m=>{m.preventDefault(),r&&(n?(await re.from("likes").delete().match({user_id:r.id,post_id:e.id}),i(!1),l(h=>h-1)):(await re.from("likes").insert({user_id:r.id,post_id:e.id}),i(!0),l(h=>h+1)),t==null||t())},p=async m=>{m.preventDefault(),r&&(o?(await re.from("bookmarks").delete().match({user_id:r.id,post_id:e.id}),s(!1)):(await re.from("bookmarks").insert({user_id:r.id,post_id:e.id}),s(!0)),t==null||t())},f=async m=>{m.preventDefault();const h=`${window.location.origin}/post/${e.id}`;navigator.share?await navigator.share({title:e.title,url:h}):(await navigator.clipboard.writeText(h),alert("Link copied to clipboard!"))};return _.jsx(Te,{to:`/post/${e.id}`,children:_.jsxs("article",{className:"card p-6 hover:scale-[1.01] transition-transform",children:[_.jsx("div",{className:"flex items-center gap-3 mb-4",children:_.jsxs(Te,{to:`/profile/${(c=e.author)==null?void 0:c.username}`,onClick:m=>m.stopPropagation(),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(d=e.author)!=null&&d.avatar_url?_.jsx("img",{src:e.author.avatar_url,alt:e.author.username,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full gradient-bg flex items-center justify-center text-white font-semibold",children:(g=e.author)==null?void 0:g.username[0].toUpperCase()}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-gray-900",children:((v=e.author)==null?void 0:v.full_name)||((b=e.author)==null?void 0:b.username)}),_.jsx("p",{className:"text-sm text-gray-500",children:mo(e.published_at||e.created_at)})]})]})}),e.cover_image&&_.jsx("img",{src:e.cover_image,alt:e.title,className:"w-full h-64 object-cover rounded-lg mb-4"}),_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2 line-clamp-2",children:e.title}),e.excerpt&&_.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:e.excerpt}),e.tags&&e.tags.length>0&&_.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.tags.slice(0,3).map(m=>_.jsxs("span",{className:"badge badge-primary",onClick:h=>h.preventDefault(),children:["#",m]},m)),e.tags.length>3&&_.jsxs("span",{className:"text-sm text-gray-500",children:["+",e.tags.length-3," more"]})]}),_.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.reading_time&&_.jsx("span",{className:"flex items-center gap-1",children:tg(e.reading_time)}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Ac,{className:"w-4 h-4"}),e.views]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs("button",{onClick:u,className:`flex items-center gap-1 px-3 py-1.5 rounded-lg transition-colors ${n?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[_.jsx(fo,{className:`w-5 h-5 ${n?"fill-current":""}`}),_.jsx("span",{className:"text-sm font-medium",children:a})]}),_.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[_.jsx(ho,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-medium",children:e.comments_count||0})]}),_.jsx("button",{onClick:p,className:`p-1.5 rounded-lg transition-colors ${o?"bg-blue-50 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_.jsx(aa,{className:`w-5 h-5 ${o?"fill-current":""}`})}),_.jsx("button",{onClick:f,className:"p-1.5 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:_.jsx(Vv,{className:"w-5 h-5"})})]})]})]})})}function Ik({bubble:e,onUpdate:t}){var u,p,f,c,d;const{user:r}=rt(),[n,i]=H.useState(e.is_liked||!1),[o,s]=H.useState(e.likes_count||0),a=Gv.find(g=>g.value===e.mood),l=async g=>{g.preventDefault(),r&&(n?(await re.from("likes").delete().match({user_id:r.id,thought_bubble_id:e.id}),i(!1),s(v=>v-1)):(await re.from("likes").insert({user_id:r.id,thought_bubble_id:e.id}),i(!0),s(v=>v+1)),t==null||t())};return _.jsxs("div",{className:`relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br ${a==null?void 0:a.gradient} text-white shadow-lg hover:shadow-xl transition-all hover:scale-[1.02]`,children:[_.jsx("div",{className:"absolute top-4 right-4 text-3xl opacity-20",children:a==null?void 0:a.icon}),_.jsxs(Te,{to:`/profile/${(u=e.author)==null?void 0:u.username}`,className:"flex items-center gap-3 mb-4 hover:opacity-90 transition-opacity",children:[(p=e.author)!=null&&p.avatar_url?_.jsx("img",{src:e.author.avatar_url,alt:e.author.username,className:"w-10 h-10 rounded-full object-cover border-2 border-white/30"}):_.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center font-semibold border-2 border-white/30",children:(f=e.author)==null?void 0:f.username[0].toUpperCase()}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-semibold",children:((c=e.author)==null?void 0:c.full_name)||((d=e.author)==null?void 0:d.username)}),_.jsx("p",{className:"text-sm text-white/80",children:mo(e.created_at)})]})]}),_.jsx("p",{className:"text-lg leading-relaxed mb-4 relative z-10",children:e.content}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/20 rounded-full backdrop-blur-sm",children:[_.jsx("span",{className:"text-sm",children:a==null?void 0:a.icon}),_.jsx("span",{className:"text-sm font-medium",children:a==null?void 0:a.label})]}),_.jsxs("button",{onClick:l,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full transition-all ${n?"bg-white text-red-600":"bg-white/20 hover:bg-white/30 backdrop-blur-sm"}`,children:[_.jsx(fo,{className:`w-5 h-5 ${n?"fill-current":""}`}),_.jsx("span",{className:"text-sm font-medium",children:o})]})]})]})}function Dk({onCreated:e}){const{user:t}=rt(),[r,n]=H.useState(""),[i,o]=H.useState("happy"),[s,a]=H.useState(!1),l=async u=>{if(u.preventDefault(),!(!t||!r.trim()||s)){a(!0);try{const{error:p}=await re.from("thought_bubbles").insert({author_id:t.id,content:r.trim(),mood:i});if(p)throw p;n(""),e()}catch(p){console.error("Error creating thought bubble:",p),alert("Failed to create thought bubble")}finally{a(!1)}}};return _.jsx("div",{className:"card p-6",children:_.jsxs("form",{onSubmit:l,children:[_.jsxs("div",{className:"mb-4",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How are you feeling?"}),_.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Gv.map(u=>_.jsxs("button",{type:"button",onClick:()=>o(u.value),className:`flex flex-col items-center gap-1 px-4 py-3 rounded-xl border-2 transition-all flex-shrink-0 ${i===u.value?`border-transparent bg-gradient-to-br ${u.gradient} text-white`:"border-gray-200 hover:border-gray-300"}`,children:[_.jsx("span",{className:"text-2xl",children:u.icon}),_.jsx("span",{className:"text-xs font-medium",children:u.label})]},u.value))})]}),_.jsxs("div",{className:"mb-4",children:[_.jsx("textarea",{value:r,onChange:u=>n(u.target.value),placeholder:"Share your thoughts... (max 280 characters)",maxLength:280,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none"}),_.jsx("div",{className:"flex items-center justify-between mt-2",children:_.jsxs("span",{className:"text-sm text-gray-500",children:[r.length,"/280 characters"]})})]}),_.jsxs("button",{type:"submit",disabled:!r.trim()||s,className:"w-full btn btn-primary py-3 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[_.jsx(Rc,{className:"w-5 h-5"}),s?"Sharing...":"Share Thought"]})]})})}function $k(){const{user:e}=rt(),[t,r]=H.useState("latest"),[n,i]=H.useState("articles"),[o,s]=H.useState([]),[a,l]=H.useState([]),[u,p]=H.useState(!0),[f,c]=H.useState(0),[d,g]=H.useState(!0),[v,b]=H.useState([]),[m,h]=H.useState([]),[w,y]=H.useState(!1),{ref:x,inView:O}=yx(),k=10;H.useEffect(()=>{E()},[t,n,v,m]),H.useEffect(()=>{O&&d&&!u&&S()},[O]);const E=async()=>{p(!0),c(0),n==="articles"?await P(0):await j(0),p(!1)},P=async C=>{try{let R=re.from("posts").select(`
          *,
          author:profiles!posts_author_id_fkey(*),
          likes_count:likes(count),
          comments_count:comments(count)
        `,{count:"exact"}).eq("is_published",!0).range(C*k,(C+1)*k-1);if(v.length>0&&(R=R.overlaps("communities",v)),m.length>0&&(R=R.overlaps("topics",m)),t==="latest")R=R.order("published_at",{ascending:!1});else if(t==="trending")R=R.order("views",{ascending:!1});else if(t==="following"&&e){const{data:M}=await re.from("follows").select("following_id").eq("follower_id",e.id),L=(M==null?void 0:M.map(T=>T.following_id))||[];if(L.length>0)R=R.in("author_id",L);else{s([]),g(!1);return}R=R.order("published_at",{ascending:!1})}const{data:q,error:U,count:W}=await R;if(U)throw U;if(e&&q){const M=await Promise.all(q.map(async L=>{var $,z,F,D;const{data:T}=await re.from("likes").select("id").eq("user_id",e.id).eq("post_id",L.id).single(),{data:I}=await re.from("bookmarks").select("id").eq("user_id",e.id).eq("post_id",L.id).single();return{...L,is_liked:!!T,is_bookmarked:!!I,likes_count:((z=($=L.likes_count)==null?void 0:$[0])==null?void 0:z.count)||0,comments_count:((D=(F=L.comments_count)==null?void 0:F[0])==null?void 0:D.count)||0}}));s(C===0?M:L=>[...L,...M])}else{const M=q==null?void 0:q.map(L=>{var T,I,$,z;return{...L,likes_count:((I=(T=L.likes_count)==null?void 0:T[0])==null?void 0:I.count)||0,comments_count:((z=($=L.comments_count)==null?void 0:$[0])==null?void 0:z.count)||0}});s(C===0?M:L=>[...L,...M])}g((W||0)>(C+1)*k)}catch(R){console.error("Error fetching posts:",R)}},j=async C=>{try{let R=re.from("thought_bubbles").select(`
          *,
          author:profiles!thought_bubbles_author_id_fkey(*),
          likes_count:likes(count)
        `,{count:"exact"}).range(C*k,(C+1)*k-1).order("created_at",{ascending:!1});const{data:q,error:U,count:W}=await R;if(U)throw U;if(e&&q){const M=await Promise.all(q.map(async L=>{var I,$;const{data:T}=await re.from("likes").select("id").eq("user_id",e.id).eq("thought_bubble_id",L.id).single();return{...L,is_liked:!!T,likes_count:(($=(I=L.likes_count)==null?void 0:I[0])==null?void 0:$.count)||0}}));l(C===0?M:L=>[...L,...M])}else{const M=q==null?void 0:q.map(L=>{var T,I;return{...L,likes_count:((I=(T=L.likes_count)==null?void 0:T[0])==null?void 0:I.count)||0}});l(C===0?M:L=>[...L,...M])}g((W||0)>(C+1)*k)}catch(R){console.error("Error fetching thoughts:",R)}},S=async()=>{const C=f+1;c(C),n==="articles"?await P(C):await j(C)},N=C=>{b(R=>R.includes(C)?R.filter(q=>q!==C):[...R,C])},A=C=>{h(R=>R.includes(C)?R.filter(q=>q!==C):[...R,C])};return _.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Your Feed"}),_.jsx("p",{className:"text-gray-600",children:"Discover amazing content from your community"})]}),_.jsxs("div",{className:"flex gap-3 mb-6",children:[_.jsx("button",{onClick:()=>i("articles"),className:`flex-1 py-3 px-6 rounded-xl font-semibold transition-all ${n==="articles"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Articles"}),_.jsx("button",{onClick:()=>i("thoughts"),className:`flex-1 py-3 px-6 rounded-xl font-semibold transition-all ${n==="thoughts"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-lg":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"Thought Bubbles"})]}),n==="thoughts"&&_.jsx("div",{className:"mb-6",children:_.jsx(Dk,{onCreated:E})}),_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[_.jsxs("button",{onClick:()=>r("latest"),className:`btn ${t==="latest"?"btn-primary":"btn-secondary"} flex items-center gap-2`,children:[_.jsx(Kv,{className:"w-5 h-5"}),"Latest"]}),_.jsxs("button",{onClick:()=>r("trending"),className:`btn ${t==="trending"?"btn-primary":"btn-secondary"} flex items-center gap-2`,children:[_.jsx(ro,{className:"w-5 h-5"}),"Trending"]}),_.jsxs("button",{onClick:()=>r("following"),className:`btn ${t==="following"?"btn-primary":"btn-secondary"} flex items-center gap-2`,children:[_.jsx(en,{className:"w-5 h-5"}),"Following"]}),_.jsxs("button",{onClick:()=>y(!w),className:"btn btn-secondary flex items-center gap-2 ml-auto",children:[_.jsx(ex,{className:"w-5 h-5"}),"Filters"]})]}),w&&n==="articles"&&_.jsxs("div",{className:"bg-white rounded-xl p-6 mb-6 animate-slide-down",children:[_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Communities"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:Lc.map(C=>_.jsxs("button",{onClick:()=>N(C.value),className:`badge ${v.includes(C.value)?"badge-primary":"bg-gray-100 text-gray-600"}`,children:[C.icon," ",C.label]},C.value))})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Topics"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:la.map(C=>_.jsxs("button",{onClick:()=>A(C.value),className:`badge ${m.includes(C.value)?"badge-cyan":"bg-gray-100 text-gray-600"}`,children:[C.icon," ",C.label]},C.value))})]}),(v.length>0||m.length>0)&&_.jsx("button",{onClick:()=>{b([]),h([])},className:"mt-4 text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear all filters"})]})]}),u&&f===0?_.jsx("div",{className:"space-y-6",children:[1,2,3].map(C=>_.jsx("div",{className:"card p-6 loading-shimmer h-64"},C))}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"space-y-6",children:n==="articles"?o.map(C=>_.jsx(Ic,{post:C,onUpdate:E},C.id)):a.map(C=>_.jsx(Ik,{bubble:C,onUpdate:E},C.id))}),d&&_.jsx("div",{ref:x,className:"py-8 text-center",children:_.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-t-transparent"})}),!d&&(n==="articles"?o.length:a.length)>0&&_.jsx("p",{className:"text-center text-gray-500 py-8",children:"You've reached the end!"}),!u&&(n==="articles"?o.length:a.length)===0&&_.jsx("div",{className:"text-center py-12",children:_.jsx("p",{className:"text-gray-500 mb-4",children:n==="articles"?"No posts found. Try adjusting your filters.":"No thought bubbles yet. Be the first to share!"})})]})]})})}function Mk(){const[e,t]=H.useState(""),[r,n]=H.useState([]),[i,o]=H.useState([]),[s,a]=H.useState([]),[l,u]=H.useState(!1);H.useEffect(()=>{p(),f()},[]);const p=async()=>{try{const{data:d,error:g}=await re.from("posts").select("tags").eq("is_published",!0).limit(100);if(g)throw g;const v=[];d==null||d.forEach(h=>{h.tags&&v.push(...h.tags)});const b=v.reduce((h,w)=>(h[w]=(h[w]||0)+1,h),{}),m=Object.entries(b).sort(([,h],[,w])=>w-h).slice(0,10).map(([h])=>h);n(m)}catch(d){console.error("Error fetching trending tags:",d)}},f=async()=>{try{const{data:d,error:g}=await re.from("profiles").select(`
          *,
          posts(count)
        `).limit(10);if(g)throw g;const v=d==null?void 0:d.sort((b,m)=>{var h,w,y,x;return(((w=(h=m.posts)==null?void 0:h[0])==null?void 0:w.count)||0)-(((x=(y=b.posts)==null?void 0:y[0])==null?void 0:x.count)||0)}).slice(0,10);o(v||[])}catch(d){console.error("Error fetching top writers:",d)}},c=async d=>{if(d.preventDefault(),!!e.trim()){u(!0);try{const{data:g,error:v}=await re.from("posts").select(`
          *,
          author:profiles!posts_author_id_fkey(*)
        `).eq("is_published",!0).or(`title.ilike.%${e}%,content.ilike.%${e}%`).limit(20);if(v)throw v;a(g||[])}catch(g){console.error("Error searching:",g)}finally{u(!1)}}};return _.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Explore"}),_.jsx("p",{className:"text-gray-600",children:"Discover trending topics and top writers"})]}),_.jsx("form",{onSubmit:c,className:"mb-12",children:_.jsxs("div",{className:"relative max-w-2xl",children:[_.jsx(Ld,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-gray-400"}),_.jsx("input",{type:"text",value:e,onChange:d=>t(d.target.value),placeholder:"Search for posts, topics, or tags...",className:"w-full pl-14 pr-4 py-4 text-lg border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"}),_.jsx("button",{type:"submit",disabled:l,className:"absolute right-2 top-1/2 -translate-y-1/2 btn btn-primary",children:l?"Searching...":"Search"})]})}),s.length>0&&_.jsxs("div",{className:"mb-12",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[_.jsx(Ld,{className:"w-6 h-6"}),"Search Results (",s.length,")"]}),_.jsx("div",{className:"grid gap-4",children:s.map(d=>{var g,v;return _.jsxs(Te,{to:`/post/${d.id}`,className:"card p-6 hover:shadow-lg transition-shadow",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:d.title}),d.excerpt&&_.jsx("p",{className:"text-gray-600 line-clamp-2",children:d.excerpt}),_.jsx("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-500",children:_.jsxs("span",{children:["By ",((g=d.author)==null?void 0:g.full_name)||((v=d.author)==null?void 0:v.username)]})})]},d.id)})})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[_.jsx(ro,{className:"w-6 h-6"}),"Trending Tags"]}),_.jsxs("div",{className:"card p-6",children:[_.jsx("div",{className:"flex flex-wrap gap-3",children:r.map(d=>_.jsxs(Te,{to:`/feed?tag=${d}`,className:"badge badge-primary text-base px-4 py-2 hover:scale-105 transition-transform",children:["#",d]},d))}),r.length===0&&_.jsx("p",{className:"text-gray-500 text-center py-4",children:"No trending tags yet"})]})]}),_.jsxs("div",{children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[_.jsx(en,{className:"w-6 h-6"}),"Top Writers"]}),_.jsxs("div",{className:"card p-6",children:[_.jsx("div",{className:"space-y-4",children:i.map(d=>_.jsxs(Te,{to:`/profile/${d.username}`,className:"flex items-center gap-3 hover:bg-gray-50 p-3 rounded-lg transition-colors",children:[d.avatar_url?_.jsx("img",{src:d.avatar_url,alt:d.username,className:"w-12 h-12 rounded-full object-cover"}):_.jsx("div",{className:"w-12 h-12 rounded-full gradient-bg flex items-center justify-center text-white font-semibold",children:d.username[0].toUpperCase()}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"font-semibold text-gray-900",children:d.full_name||d.username}),_.jsxs("p",{className:"text-sm text-gray-500",children:["@",d.username]})]})]},d.id))}),i.length===0&&_.jsx("p",{className:"text-gray-500 text-center py-4",children:"No writers yet"})]})]})]}),_.jsxs("div",{className:"mt-12",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Popular Topics"}),_.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:la.slice(0,12).map(d=>_.jsxs(Te,{to:`/feed?topic=${d.value}`,className:"card p-6 text-center hover:shadow-lg transition-shadow group",children:[_.jsx("div",{className:"text-4xl mb-3 group-hover:scale-110 transition-transform",children:d.icon}),_.jsx("p",{className:"font-semibold text-gray-900",children:d.label})]},d.value))})]})]})})}function qk(){this.__data__=[],this.size=0}var Bk=qk;function Uk(e,t){return e===t||e!==e&&t!==t}var rg=Uk,Fk=rg;function zk(e,t){for(var r=e.length;r--;)if(Fk(e[r][0],t))return r;return-1}var ua=zk,Wk=ua,Hk=Array.prototype,Vk=Hk.splice;function Kk(e){var t=this.__data__,r=Wk(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Vk.call(t,r,1),--this.size,!0}var Gk=Kk,Yk=ua;function Qk(e){var t=this.__data__,r=Yk(t,e);return r<0?void 0:t[r][1]}var Jk=Qk,Xk=ua;function Zk(e){return Xk(this.__data__,e)>-1}var eE=Zk,tE=ua;function rE(e,t){var r=this.__data__,n=tE(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var nE=rE,iE=Bk,oE=Gk,sE=Jk,aE=eE,lE=nE;function Zn(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Zn.prototype.clear=iE;Zn.prototype.delete=oE;Zn.prototype.get=sE;Zn.prototype.has=aE;Zn.prototype.set=lE;var ca=Zn,uE=ca;function cE(){this.__data__=new uE,this.size=0}var fE=cE;function dE(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var hE=dE;function pE(e){return this.__data__.get(e)}var mE=pE;function vE(e){return this.__data__.has(e)}var gE=vE,yE=typeof mt=="object"&&mt&&mt.Object===Object&&mt,ng=yE,wE=ng,bE=typeof self=="object"&&self&&self.Object===Object&&self,_E=wE||bE||Function("return this")(),nr=_E,xE=nr,kE=xE.Symbol,Dc=kE,zd=Dc,ig=Object.prototype,EE=ig.hasOwnProperty,SE=ig.toString,mi=zd?zd.toStringTag:void 0;function OE(e){var t=EE.call(e,mi),r=e[mi];try{e[mi]=void 0;var n=!0}catch{}var i=SE.call(e);return n&&(t?e[mi]=r:delete e[mi]),i}var jE=OE,NE=Object.prototype,TE=NE.toString;function PE(e){return TE.call(e)}var AE=PE,Wd=Dc,CE=jE,RE=AE,LE="[object Null]",IE="[object Undefined]",Hd=Wd?Wd.toStringTag:void 0;function DE(e){return e==null?e===void 0?IE:LE:Hd&&Hd in Object(e)?CE(e):RE(e)}var fa=DE;function $E(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var og=$E,ME=fa,qE=og,BE="[object AsyncFunction]",UE="[object Function]",FE="[object GeneratorFunction]",zE="[object Proxy]";function WE(e){if(!qE(e))return!1;var t=ME(e);return t==UE||t==FE||t==BE||t==zE}var sg=WE,HE=nr,VE=HE["__core-js_shared__"],KE=VE,el=KE,Vd=function(){var e=/[^.]+$/.exec(el&&el.keys&&el.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function GE(e){return!!Vd&&Vd in e}var YE=GE,QE=Function.prototype,JE=QE.toString;function XE(e){if(e!=null){try{return JE.call(e)}catch{}try{return e+""}catch{}}return""}var ag=XE,ZE=sg,eS=YE,tS=og,rS=ag,nS=/[\\^$.*+?()[\]{}|]/g,iS=/^\[object .+?Constructor\]$/,oS=Function.prototype,sS=Object.prototype,aS=oS.toString,lS=sS.hasOwnProperty,uS=RegExp("^"+aS.call(lS).replace(nS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cS(e){if(!tS(e)||eS(e))return!1;var t=ZE(e)?uS:iS;return t.test(rS(e))}var fS=cS;function dS(e,t){return e==null?void 0:e[t]}var hS=dS,pS=fS,mS=hS;function vS(e,t){var r=mS(e,t);return pS(r)?r:void 0}var ei=vS,gS=ei,yS=nr,wS=gS(yS,"Map"),$c=wS,bS=ei,_S=bS(Object,"create"),da=_S,Kd=da;function xS(){this.__data__=Kd?Kd(null):{},this.size=0}var kS=xS;function ES(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var SS=ES,OS=da,jS="__lodash_hash_undefined__",NS=Object.prototype,TS=NS.hasOwnProperty;function PS(e){var t=this.__data__;if(OS){var r=t[e];return r===jS?void 0:r}return TS.call(t,e)?t[e]:void 0}var AS=PS,CS=da,RS=Object.prototype,LS=RS.hasOwnProperty;function IS(e){var t=this.__data__;return CS?t[e]!==void 0:LS.call(t,e)}var DS=IS,$S=da,MS="__lodash_hash_undefined__";function qS(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$S&&t===void 0?MS:t,this}var BS=qS,US=kS,FS=SS,zS=AS,WS=DS,HS=BS;function ti(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ti.prototype.clear=US;ti.prototype.delete=FS;ti.prototype.get=zS;ti.prototype.has=WS;ti.prototype.set=HS;var VS=ti,Gd=VS,KS=ca,GS=$c;function YS(){this.size=0,this.__data__={hash:new Gd,map:new(GS||KS),string:new Gd}}var QS=YS;function JS(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var XS=JS,ZS=XS;function eO(e,t){var r=e.__data__;return ZS(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ha=eO,tO=ha;function rO(e){var t=tO(this,e).delete(e);return this.size-=t?1:0,t}var nO=rO,iO=ha;function oO(e){return iO(this,e).get(e)}var sO=oO,aO=ha;function lO(e){return aO(this,e).has(e)}var uO=lO,cO=ha;function fO(e,t){var r=cO(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dO=fO,hO=QS,pO=nO,mO=sO,vO=uO,gO=dO;function ri(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ri.prototype.clear=hO;ri.prototype.delete=pO;ri.prototype.get=mO;ri.prototype.has=vO;ri.prototype.set=gO;var lg=ri,yO=ca,wO=$c,bO=lg,_O=200;function xO(e,t){var r=this.__data__;if(r instanceof yO){var n=r.__data__;if(!wO||n.length<_O-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new bO(n)}return r.set(e,t),this.size=r.size,this}var kO=xO,EO=ca,SO=fE,OO=hE,jO=mE,NO=gE,TO=kO;function ni(e){var t=this.__data__=new EO(e);this.size=t.size}ni.prototype.clear=SO;ni.prototype.delete=OO;ni.prototype.get=jO;ni.prototype.has=NO;ni.prototype.set=TO;var PO=ni,AO="__lodash_hash_undefined__";function CO(e){return this.__data__.set(e,AO),this}var RO=CO;function LO(e){return this.__data__.has(e)}var IO=LO,DO=lg,$O=RO,MO=IO;function $s(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new DO;++t<r;)this.add(e[t])}$s.prototype.add=$s.prototype.push=$O;$s.prototype.has=MO;var qO=$s;function BO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var UO=BO;function FO(e,t){return e.has(t)}var zO=FO,WO=qO,HO=UO,VO=zO,KO=1,GO=2;function YO(e,t,r,n,i,o){var s=r&KO,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(e),p=o.get(t);if(u&&p)return u==t&&p==e;var f=-1,c=!0,d=r&GO?new WO:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var g=e[f],v=t[f];if(n)var b=s?n(v,g,f,t,e,o):n(g,v,f,e,t,o);if(b!==void 0){if(b)continue;c=!1;break}if(d){if(!HO(t,function(m,h){if(!VO(d,h)&&(g===m||i(g,m,r,n,o)))return d.push(h)})){c=!1;break}}else if(!(g===v||i(g,v,r,n,o))){c=!1;break}}return o.delete(e),o.delete(t),c}var ug=YO,QO=nr,JO=QO.Uint8Array,XO=JO;function ZO(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var e2=ZO;function t2(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var r2=t2,Yd=Dc,Qd=XO,n2=rg,i2=ug,o2=e2,s2=r2,a2=1,l2=2,u2="[object Boolean]",c2="[object Date]",f2="[object Error]",d2="[object Map]",h2="[object Number]",p2="[object RegExp]",m2="[object Set]",v2="[object String]",g2="[object Symbol]",y2="[object ArrayBuffer]",w2="[object DataView]",Jd=Yd?Yd.prototype:void 0,tl=Jd?Jd.valueOf:void 0;function b2(e,t,r,n,i,o,s){switch(r){case w2:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y2:return!(e.byteLength!=t.byteLength||!o(new Qd(e),new Qd(t)));case u2:case c2:case h2:return n2(+e,+t);case f2:return e.name==t.name&&e.message==t.message;case p2:case v2:return e==t+"";case d2:var a=o2;case m2:var l=n&a2;if(a||(a=s2),e.size!=t.size&&!l)return!1;var u=s.get(e);if(u)return u==t;n|=l2,s.set(e,t);var p=i2(a(e),a(t),n,i,o,s);return s.delete(e),p;case g2:if(tl)return tl.call(e)==tl.call(t)}return!1}var _2=b2;function x2(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var k2=x2,E2=Array.isArray,Mc=E2,S2=k2,O2=Mc;function j2(e,t,r){var n=t(e);return O2(e)?n:S2(n,r(e))}var N2=j2;function T2(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var P2=T2;function A2(){return[]}var C2=A2,R2=P2,L2=C2,I2=Object.prototype,D2=I2.propertyIsEnumerable,Xd=Object.getOwnPropertySymbols,$2=Xd?function(e){return e==null?[]:(e=Object(e),R2(Xd(e),function(t){return D2.call(e,t)}))}:L2,M2=$2;function q2(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var B2=q2;function U2(e){return e!=null&&typeof e=="object"}var pa=U2,F2=fa,z2=pa,W2="[object Arguments]";function H2(e){return z2(e)&&F2(e)==W2}var V2=H2,Zd=V2,K2=pa,cg=Object.prototype,G2=cg.hasOwnProperty,Y2=cg.propertyIsEnumerable,Q2=Zd(function(){return arguments}())?Zd:function(e){return K2(e)&&G2.call(e,"callee")&&!Y2.call(e,"callee")},J2=Q2,Ms={exports:{}};function X2(){return!1}var Z2=X2;Ms.exports;(function(e,t){var r=nr,n=Z2,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||n;e.exports=u})(Ms,Ms.exports);var fg=Ms.exports,ej=9007199254740991,tj=/^(?:0|[1-9]\d*)$/;function rj(e,t){var r=typeof e;return t=t??ej,!!t&&(r=="number"||r!="symbol"&&tj.test(e))&&e>-1&&e%1==0&&e<t}var nj=rj,ij=9007199254740991;function oj(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ij}var dg=oj,sj=fa,aj=dg,lj=pa,uj="[object Arguments]",cj="[object Array]",fj="[object Boolean]",dj="[object Date]",hj="[object Error]",pj="[object Function]",mj="[object Map]",vj="[object Number]",gj="[object Object]",yj="[object RegExp]",wj="[object Set]",bj="[object String]",_j="[object WeakMap]",xj="[object ArrayBuffer]",kj="[object DataView]",Ej="[object Float32Array]",Sj="[object Float64Array]",Oj="[object Int8Array]",jj="[object Int16Array]",Nj="[object Int32Array]",Tj="[object Uint8Array]",Pj="[object Uint8ClampedArray]",Aj="[object Uint16Array]",Cj="[object Uint32Array]",ke={};ke[Ej]=ke[Sj]=ke[Oj]=ke[jj]=ke[Nj]=ke[Tj]=ke[Pj]=ke[Aj]=ke[Cj]=!0;ke[uj]=ke[cj]=ke[xj]=ke[fj]=ke[kj]=ke[dj]=ke[hj]=ke[pj]=ke[mj]=ke[vj]=ke[gj]=ke[yj]=ke[wj]=ke[bj]=ke[_j]=!1;function Rj(e){return lj(e)&&aj(e.length)&&!!ke[sj(e)]}var Lj=Rj;function Ij(e){return function(t){return e(t)}}var Dj=Ij,qs={exports:{}};qs.exports;(function(e,t){var r=ng,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===n,s=o&&r.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(qs,qs.exports);var $j=qs.exports,Mj=Lj,qj=Dj,eh=$j,th=eh&&eh.isTypedArray,Bj=th?qj(th):Mj,hg=Bj,Uj=B2,Fj=J2,zj=Mc,Wj=fg,Hj=nj,Vj=hg,Kj=Object.prototype,Gj=Kj.hasOwnProperty;function Yj(e,t){var r=zj(e),n=!r&&Fj(e),i=!r&&!n&&Wj(e),o=!r&&!n&&!i&&Vj(e),s=r||n||i||o,a=s?Uj(e.length,String):[],l=a.length;for(var u in e)(t||Gj.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Hj(u,l)))&&a.push(u);return a}var Qj=Yj,Jj=Object.prototype;function Xj(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Jj;return e===r}var Zj=Xj;function eN(e,t){return function(r){return e(t(r))}}var tN=eN,rN=tN,nN=rN(Object.keys,Object),iN=nN,oN=Zj,sN=iN,aN=Object.prototype,lN=aN.hasOwnProperty;function uN(e){if(!oN(e))return sN(e);var t=[];for(var r in Object(e))lN.call(e,r)&&r!="constructor"&&t.push(r);return t}var cN=uN,fN=sg,dN=dg;function hN(e){return e!=null&&dN(e.length)&&!fN(e)}var pN=hN,mN=Qj,vN=cN,gN=pN;function yN(e){return gN(e)?mN(e):vN(e)}var wN=yN,bN=N2,_N=M2,xN=wN;function kN(e){return bN(e,xN,_N)}var EN=kN,rh=EN,SN=1,ON=Object.prototype,jN=ON.hasOwnProperty;function NN(e,t,r,n,i,o){var s=r&SN,a=rh(e),l=a.length,u=rh(t),p=u.length;if(l!=p&&!s)return!1;for(var f=l;f--;){var c=a[f];if(!(s?c in t:jN.call(t,c)))return!1}var d=o.get(e),g=o.get(t);if(d&&g)return d==t&&g==e;var v=!0;o.set(e,t),o.set(t,e);for(var b=s;++f<l;){c=a[f];var m=e[c],h=t[c];if(n)var w=s?n(h,m,c,t,e,o):n(m,h,c,e,t,o);if(!(w===void 0?m===h||i(m,h,r,n,o):w)){v=!1;break}b||(b=c=="constructor")}if(v&&!b){var y=e.constructor,x=t.constructor;y!=x&&"constructor"in e&&"constructor"in t&&!(typeof y=="function"&&y instanceof y&&typeof x=="function"&&x instanceof x)&&(v=!1)}return o.delete(e),o.delete(t),v}var TN=NN,PN=ei,AN=nr,CN=PN(AN,"DataView"),RN=CN,LN=ei,IN=nr,DN=LN(IN,"Promise"),$N=DN,MN=ei,qN=nr,BN=MN(qN,"Set"),UN=BN,FN=ei,zN=nr,WN=FN(zN,"WeakMap"),HN=WN,vu=RN,gu=$c,yu=$N,wu=UN,bu=HN,pg=fa,ii=ag,nh="[object Map]",VN="[object Object]",ih="[object Promise]",oh="[object Set]",sh="[object WeakMap]",ah="[object DataView]",KN=ii(vu),GN=ii(gu),YN=ii(yu),QN=ii(wu),JN=ii(bu),Br=pg;(vu&&Br(new vu(new ArrayBuffer(1)))!=ah||gu&&Br(new gu)!=nh||yu&&Br(yu.resolve())!=ih||wu&&Br(new wu)!=oh||bu&&Br(new bu)!=sh)&&(Br=function(e){var t=pg(e),r=t==VN?e.constructor:void 0,n=r?ii(r):"";if(n)switch(n){case KN:return ah;case GN:return nh;case YN:return ih;case QN:return oh;case JN:return sh}return t});var XN=Br,rl=PO,ZN=ug,eT=_2,tT=TN,lh=XN,uh=Mc,ch=fg,rT=hg,nT=1,fh="[object Arguments]",dh="[object Array]",Wo="[object Object]",iT=Object.prototype,hh=iT.hasOwnProperty;function oT(e,t,r,n,i,o){var s=uh(e),a=uh(t),l=s?dh:lh(e),u=a?dh:lh(t);l=l==fh?Wo:l,u=u==fh?Wo:u;var p=l==Wo,f=u==Wo,c=l==u;if(c&&ch(e)){if(!ch(t))return!1;s=!0,p=!1}if(c&&!p)return o||(o=new rl),s||rT(e)?ZN(e,t,r,n,i,o):eT(e,t,l,r,n,i,o);if(!(r&nT)){var d=p&&hh.call(e,"__wrapped__"),g=f&&hh.call(t,"__wrapped__");if(d||g){var v=d?e.value():e,b=g?t.value():t;return o||(o=new rl),i(v,b,r,n,o)}}return c?(o||(o=new rl),tT(e,t,r,n,i,o)):!1}var sT=oT,aT=sT,ph=pa;function mg(e,t,r,n,i){return e===t?!0:e==null||t==null||!ph(e)&&!ph(t)?e!==e&&t!==t:aT(e,t,r,n,mg,i)}var lT=mg,uT=lT;function cT(e,t){return uT(e,t)}var fT=cT,vg={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(e,t){(function(n,i){e.exports=i()})(typeof self<"u"?self:mt,function(){return function(r){var n={};function i(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return r[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=r,i.c=n,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),p=i(47),f=i(48),c=i(49),d=i(12),g=i(32),v=i(33),b=i(31),m=i(1),h={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:p.default,Inline:u.default,Text:c.default,Attributor:{Attribute:d.default,Class:g.default,Style:v.default,Store:b.default}};n.default=h},function(r,n,i){var o=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,h){m.__proto__=h}||function(m,h){for(var w in h)h.hasOwnProperty(w)&&(m[w]=h[w])};return function(m,h){b(m,h);function w(){this.constructor=m}m.prototype=h===null?Object.create(h):(w.prototype=h.prototype,new w)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=function(b){o(m,b);function m(h){var w=this;return h="[Parchment] "+h,w=b.call(this,h)||this,w.message=h,w.name=w.constructor.name,w}return m}(Error);n.ParchmentError=s;var a={},l={},u={},p={};n.DATA_KEY="__blot";var f;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function c(b,m){var h=g(b);if(h==null)throw new s("Unable to create "+b+" blot");var w=h,y=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:w.create(m);return new w(y,m)}n.create=c;function d(b,m){return m===void 0&&(m=!1),b==null?null:b[n.DATA_KEY]!=null?b[n.DATA_KEY].blot:m?d(b.parentNode,m):null}n.find=d;function g(b,m){m===void 0&&(m=f.ANY);var h;if(typeof b=="string")h=p[b]||a[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)h=p.text;else if(typeof b=="number")b&f.LEVEL&f.BLOCK?h=p.block:b&f.LEVEL&f.INLINE&&(h=p.inline);else if(b instanceof HTMLElement){var w=(b.getAttribute("class")||"").split(/\s+/);for(var y in w)if(h=l[w[y]],h)break;h=h||u[b.tagName]}return h==null?null:m&f.LEVEL&h.scope&&m&f.TYPE&h.scope?h:null}n.query=g;function v(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];if(b.length>1)return b.map(function(y){return v(y)});var h=b[0];if(typeof h.blotName!="string"&&typeof h.attrName!="string")throw new s("Invalid definition");if(h.blotName==="abstract")throw new s("Cannot register abstract class");if(p[h.blotName||h.attrName]=h,typeof h.keyName=="string")a[h.keyName]=h;else if(h.className!=null&&(l[h.className]=h),h.tagName!=null){Array.isArray(h.tagName)?h.tagName=h.tagName.map(function(y){return y.toUpperCase()}):h.tagName=h.tagName.toUpperCase();var w=Array.isArray(h.tagName)?h.tagName:[h.tagName];w.forEach(function(y){(u[y]==null||h.className==null)&&(u[y]=h)})}return h}n.register=v},function(r,n,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",p=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};p.prototype.insert=function(f,c){var d={};return f.length===0?this:(d.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d))},p.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},p.prototype.retain=function(f,c){if(f<=0)return this;var d={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(d.attributes=c),this.push(d)},p.prototype.push=function(f){var c=this.ops.length,d=this.ops[c-1];if(f=a(!0,{},f),typeof d=="object"){if(typeof f.delete=="number"&&typeof d.delete=="number")return this.ops[c-1]={delete:d.delete+f.delete},this;if(typeof d.delete=="number"&&f.insert!=null&&(c-=1,d=this.ops[c-1],typeof d!="object"))return this.ops.unshift(f),this;if(s(f.attributes,d.attributes)){if(typeof f.insert=="string"&&typeof d.insert=="string")return this.ops[c-1]={insert:d.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof d.retain=="number")return this.ops[c-1]={retain:d.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},p.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},p.prototype.filter=function(f){return this.ops.filter(f)},p.prototype.forEach=function(f){this.ops.forEach(f)},p.prototype.map=function(f){return this.ops.map(f)},p.prototype.partition=function(f){var c=[],d=[];return this.forEach(function(g){var v=f(g)?c:d;v.push(g)}),[c,d]},p.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},p.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+l.length(c):c.delete?f-c.delete:f},0)},p.prototype.length=function(){return this.reduce(function(f,c){return f+l.length(c)},0)},p.prototype.slice=function(f,c){f=f||0,typeof c!="number"&&(c=1/0);for(var d=[],g=l.iterator(this.ops),v=0;v<c&&g.hasNext();){var b;v<f?b=g.next(f-v):(b=g.next(c-v),d.push(b)),v+=l.length(b)}return new p(d)},p.prototype.compose=function(f){var c=l.iterator(this.ops),d=l.iterator(f.ops),g=[],v=d.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;c.peekType()==="insert"&&c.peekLength()<=b;)b-=c.peekLength(),g.push(c.next());v.retain-b>0&&d.next(v.retain-b)}for(var m=new p(g);c.hasNext()||d.hasNext();)if(d.peekType()==="insert")m.push(d.next());else if(c.peekType()==="delete")m.push(c.next());else{var h=Math.min(c.peekLength(),d.peekLength()),w=c.next(h),y=d.next(h);if(typeof y.retain=="number"){var x={};typeof w.retain=="number"?x.retain=h:x.insert=w.insert;var O=l.attributes.compose(w.attributes,y.attributes,typeof w.retain=="number");if(O&&(x.attributes=O),m.push(x),!d.hasNext()&&s(m.ops[m.ops.length-1],x)){var k=new p(c.rest());return m.concat(k).chop()}}else typeof y.delete=="number"&&typeof w.retain=="number"&&m.push(y)}return m.chop()},p.prototype.concat=function(f){var c=new p(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},p.prototype.diff=function(f,c){if(this.ops===f.ops)return new p;var d=[this,f].map(function(h){return h.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:u;var y=h===f?"on":"with";throw new Error("diff() called "+y+" non-document")}).join("")}),g=new p,v=o(d[0],d[1],c),b=l.iterator(this.ops),m=l.iterator(f.ops);return v.forEach(function(h){for(var w=h[1].length;w>0;){var y=0;switch(h[0]){case o.INSERT:y=Math.min(m.peekLength(),w),g.push(m.next(y));break;case o.DELETE:y=Math.min(w,b.peekLength()),b.next(y),g.delete(y);break;case o.EQUAL:y=Math.min(b.peekLength(),m.peekLength(),w);var x=b.next(y),O=m.next(y);s(x.insert,O.insert)?g.retain(y,l.attributes.diff(x.attributes,O.attributes)):g.push(O).delete(y);break}w-=y}}),g.chop()},p.prototype.eachLine=function(f,c){c=c||`
`;for(var d=l.iterator(this.ops),g=new p,v=0;d.hasNext();){if(d.peekType()!=="insert")return;var b=d.peek(),m=l.length(b)-d.peekLength(),h=typeof b.insert=="string"?b.insert.indexOf(c,m)-m:-1;if(h<0)g.push(d.next());else if(h>0)g.push(d.next(h));else{if(f(g,d.next(1).attributes||{},v)===!1)return;v+=1,g=new p}}g.length()>0&&f(g,{},v)},p.prototype.transform=function(f,c){if(c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var d=l.iterator(this.ops),g=l.iterator(f.ops),v=new p;d.hasNext()||g.hasNext();)if(d.peekType()==="insert"&&(c||g.peekType()!=="insert"))v.retain(l.length(d.next()));else if(g.peekType()==="insert")v.push(g.next());else{var b=Math.min(d.peekLength(),g.peekLength()),m=d.next(b),h=g.next(b);if(m.delete)continue;h.delete?v.push(h):v.retain(b,l.attributes.transform(m.attributes,h.attributes,c))}return v.chop()},p.prototype.transformPosition=function(f,c){c=!!c;for(var d=l.iterator(this.ops),g=0;d.hasNext()&&g<=f;){var v=d.peekLength(),b=d.peekType();if(d.next(),b==="delete"){f-=Math.min(v,f-g);continue}else b==="insert"&&(g<f||!c)&&(f+=v);g+=v}return f},r.exports=p},function(r,n){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(d){return typeof Array.isArray=="function"?Array.isArray(d):o.call(d)==="[object Array]"},u=function(d){if(!d||o.call(d)!=="[object Object]")return!1;var g=i.call(d,"constructor"),v=d.constructor&&d.constructor.prototype&&i.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!v)return!1;var b;for(b in d);return typeof b>"u"||i.call(d,b)},p=function(d,g){s&&g.name==="__proto__"?s(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},f=function(d,g){if(g==="__proto__")if(i.call(d,g)){if(a)return a(d,g).value}else return;return d[g]};r.exports=function c(){var d,g,v,b,m,h,w=arguments[0],y=1,x=arguments.length,O=!1;for(typeof w=="boolean"&&(O=w,w=arguments[1]||{},y=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});y<x;++y)if(d=arguments[y],d!=null)for(g in d)v=f(w,g),b=f(d,g),w!==b&&(O&&b&&(u(b)||(m=l(b)))?(m?(m=!1,h=v&&l(v)?v:[]):h=v&&u(v)?v:{},p(w,{name:g,newValue:c(O,h,b)})):typeof b<"u"&&p(w,{name:g,newValue:b}));return w}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var o=function(){function S(N,A){for(var C=0;C<A.length;C++){var R=A[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,A,C){return A&&S(N.prototype,A),C&&S(N,C),N}}(),s=function S(N,A,C){N===null&&(N=Function.prototype);var R=Object.getOwnPropertyDescriptor(N,A);if(R===void 0){var q=Object.getPrototypeOf(N);return q===null?void 0:S(q,A,C)}else{if("value"in R)return R.value;var U=R.get;return U===void 0?void 0:U.call(C)}},a=i(3),l=w(a),u=i(2),p=w(u),f=i(0),c=w(f),d=i(16),g=w(d),v=i(6),b=w(v),m=i(7),h=w(m);function w(S){return S&&S.__esModule?S:{default:S}}function y(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function x(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function O(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var k=1,E=function(S){O(N,S);function N(){return y(this,N),x(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return o(N,[{key:"attach",value:function(){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new p.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,R){var q=c.default.query(C,c.default.Scope.BLOCK_ATTRIBUTE);q!=null&&this.attributes.attribute(q,R)}},{key:"formatAt",value:function(C,R,q,U){this.format(q,U)}},{key:"insertAt",value:function(C,R,q){if(typeof R=="string"&&R.endsWith(`
`)){var U=c.default.create(P.blotName);this.parent.insertBefore(U,C===0?this:this.next),U.insertAt(0,R.slice(0,-1))}else s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,C,R,q)}}]),N}(c.default.Embed);E.scope=c.default.Scope.BLOCK_BLOT;var P=function(S){O(N,S);function N(A){y(this,N);var C=x(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,A));return C.cache={},C}return o(N,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(C,R){return R.length()===0?C:C.insert(R.value(),j(R))},new p.default).insert(`
`,j(this))),this.cache.delta}},{key:"deleteAt",value:function(C,R){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"deleteAt",this).call(this,C,R),this.cache={}}},{key:"formatAt",value:function(C,R,q,U){R<=0||(c.default.query(q,c.default.Scope.BLOCK)?C+R===this.length()&&this.format(q,U):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"formatAt",this).call(this,C,Math.min(R,this.length()-C-1),q,U),this.cache={})}},{key:"insertAt",value:function(C,R,q){if(q!=null)return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,C,R,q);if(R.length!==0){var U=R.split(`
`),W=U.shift();W.length>0&&(C<this.length()-1||this.children.tail==null?s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var M=this;U.reduce(function(L,T){return M=M.split(L,!0),M.insertAt(0,T),T.length},C+W.length)}}},{key:"insertBefore",value:function(C,R){var q=this.children.head;s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,C,R),q instanceof g.default&&q.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function(C,R){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"moveChildren",this).call(this,C,R),this.cache={}}},{key:"optimize",value:function(C){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(R&&(C===0||C>=this.length()-k)){var q=this.clone();return C===0?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}else{var U=s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"split",this).call(this,C,R);return this.cache={},U}}}]),N}(c.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[b.default,c.default.Embed,h.default];function j(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return S==null||(typeof S.formats=="function"&&(N=(0,l.default)(N,S.formats())),S.parent==null||S.parent.blotName=="scroll"||S.parent.statics.scope!==S.statics.scope)?N:j(S.parent,N)}n.bubbleFormats=j,n.BlockEmbed=E,n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(L,T){var I=[],$=!0,z=!1,F=void 0;try{for(var D=L[Symbol.iterator](),B;!($=(B=D.next()).done)&&(I.push(B.value),!(T&&I.length===T));$=!0);}catch(V){z=!0,F=V}finally{try{!$&&D.return&&D.return()}finally{if(z)throw F}}return I}return function(L,T){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return M(L,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(L,T){for(var I=0;I<T.length;I++){var $=T[I];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,T,I){return T&&M(L.prototype,T),I&&M(L,I),L}}();i(50);var l=i(2),u=j(l),p=i(14),f=j(p),c=i(8),d=j(c),g=i(9),v=j(g),b=i(0),m=j(b),h=i(15),w=j(h),y=i(3),x=j(y),O=i(10),k=j(O),E=i(34),P=j(E);function j(M){return M&&M.__esModule?M:{default:M}}function S(M,L,T){return L in M?Object.defineProperty(M,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[L]=T,M}function N(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var A=(0,k.default)("quill"),C=function(){a(M,null,[{key:"debug",value:function(T){T===!0&&(T="log"),k.default.level(T)}},{key:"find",value:function(T){return T.__quill||m.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&A.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,I){var $=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var F=T.attrName||T.blotName;typeof F=="string"?this.register("formats/"+F,T,I):Object.keys(T).forEach(function(D){$.register(D,T[D],I)})}else this.imports[T]!=null&&!z&&A.warn("Overwriting "+T+" with",I),this.imports[T]=I,(T.startsWith("blots/")||T.startsWith("formats/"))&&I.blotName!=="abstract"?m.default.register(I):T.startsWith("modules")&&typeof I.register=="function"&&I.register()}}]);function M(L){var T=this,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N(this,M),this.options=R(L,I),this.container=this.options.container,this.container==null)return A.error("Invalid Quill container",L);this.options.debug&&M.debug(this.options.debug);var $=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new w.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(d.default.events.EDITOR_CHANGE,function(F){F===d.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(d.default.events.SCROLL_UPDATE,function(F,D){var B=T.selection.lastRange,V=B&&B.length===0?B.index:void 0;q.call(T,function(){return T.editor.update(null,D,V)},F)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+$+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(M,[{key:"addContainer",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var $=T;T=document.createElement("div"),T.classList.add($)}return this.container.insertBefore(T,I),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,I,$){var z=this,F=U(T,I,$),D=s(F,4);return T=D[0],I=D[1],$=D[3],q.call(this,function(){return z.editor.deleteText(T,I)},$,T,-1*I)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,I){var $=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d.default.sources.API;return q.call(this,function(){var F=$.getSelection(!0),D=new u.default;if(F==null)return D;if(m.default.query(T,m.default.Scope.BLOCK))D=$.editor.formatLine(F.index,F.length,S({},T,I));else{if(F.length===0)return $.selection.format(T,I),D;D=$.editor.formatText(F.index,F.length,S({},T,I))}return $.setSelection(F,d.default.sources.SILENT),D},z)}},{key:"formatLine",value:function(T,I,$,z,F){var D=this,B=void 0,V=U(T,I,$,z,F),K=s(V,4);return T=K[0],I=K[1],B=K[2],F=K[3],q.call(this,function(){return D.editor.formatLine(T,I,B)},F,T,0)}},{key:"formatText",value:function(T,I,$,z,F){var D=this,B=void 0,V=U(T,I,$,z,F),K=s(V,4);return T=K[0],I=K[1],B=K[2],F=K[3],q.call(this,function(){return D.editor.formatText(T,I,B)},F,T,0)}},{key:"getBounds",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=void 0;typeof T=="number"?$=this.selection.getBounds(T,I):$=this.selection.getBounds(T.index,T.length);var z=this.container.getBoundingClientRect();return{bottom:$.bottom-z.top,height:$.height,left:$.left-z.left,right:$.right-z.left,top:$.top-z.top,width:$.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,$=U(T,I),z=s($,2);return T=z[0],I=z[1],this.editor.getContents(T,I)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,I):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,I)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,$=U(T,I),z=s($,2);return T=z[0],I=z[1],this.editor.getText(T,I)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,I,$){var z=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return q.call(this,function(){return z.editor.insertEmbed(T,I,$)},F,T)}},{key:"insertText",value:function(T,I,$,z,F){var D=this,B=void 0,V=U(T,0,$,z,F),K=s(V,4);return T=K[0],B=K[2],F=K[3],q.call(this,function(){return D.editor.insertText(T,I,B)},F,T,I.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,I,$){this.clipboard.dangerouslyPasteHTML(T,I,$)}},{key:"removeFormat",value:function(T,I,$){var z=this,F=U(T,I,$),D=s(F,4);return T=D[0],I=D[1],$=D[3],q.call(this,function(){return z.editor.removeFormat(T,I)},$,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var I=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return q.call(this,function(){T=new u.default(T);var z=I.getLength(),F=I.editor.deleteText(0,z),D=I.editor.applyDelta(T),B=D.ops[D.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(I.editor.deleteText(I.getLength()-1,1),D.delete(1));var V=F.compose(D);return V},$)}},{key:"setSelection",value:function(T,I,$){if(T==null)this.selection.setRange(null,I||M.sources.API);else{var z=U(T,I,$),F=s(z,4);T=F[0],I=F[1],$=F[3],this.selection.setRange(new h.Range(T,I),$),$!==d.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API,$=new u.default().insert(T);return this.setContents($,I)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.default.sources.USER,I=this.scroll.update(T);return this.selection.update(T),I}},{key:"updateContents",value:function(T){var I=this,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.default.sources.API;return q.call(this,function(){return T=new u.default(T),I.editor.applyDelta(T,$)},$,!0)}}]),M}();C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=d.default.events,C.sources=d.default.sources,C.version="1.3.7",C.imports={delta:u.default,parchment:m.default,"core/module":v.default,"core/theme":P.default};function R(M,L){if(L=(0,x.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===C.DEFAULTS.theme)L.theme=P.default;else if(L.theme=C.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var T=(0,x.default)(!0,{},L.theme.DEFAULTS);[T,L].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(F){z.modules[F]===!0&&(z.modules[F]={})})});var I=Object.keys(T.modules).concat(Object.keys(L.modules)),$=I.reduce(function(z,F){var D=C.import("modules/"+F);return D==null?A.error("Cannot load "+F+" module. Are you sure you registered it?"):z[F]=D.DEFAULTS||{},z},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,x.default)(!0,{},C.DEFAULTS,{modules:$},T,L),["bounds","container","scrollingContainer"].forEach(function(z){typeof L[z]=="string"&&(L[z]=document.querySelector(L[z]))}),L.modules=Object.keys(L.modules).reduce(function(z,F){return L.modules[F]&&(z[F]=L.modules[F]),z},{}),L}function q(M,L,T,I){if(this.options.strict&&!this.isEnabled()&&L===d.default.sources.USER)return new u.default;var $=T==null?null:this.getSelection(),z=this.editor.delta,F=M();if($!=null&&(T===!0&&(T=$.index),I==null?$=W($,F,L):I!==0&&($=W($,T,I,L)),this.setSelection($,d.default.sources.SILENT)),F.length()>0){var D,B=[d.default.events.TEXT_CHANGE,F,z,L];if((D=this.emitter).emit.apply(D,[d.default.events.EDITOR_CHANGE].concat(B)),L!==d.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,B)}}return F}function U(M,L,T,I,$){var z={};return typeof M.index=="number"&&typeof M.length=="number"?typeof L!="number"?($=I,I=T,T=L,L=M.length,M=M.index):(L=M.length,M=M.index):typeof L!="number"&&($=I,I=T,T=L,L=0),(typeof T>"u"?"undefined":o(T))==="object"?(z=T,$=I):typeof T=="string"&&(I!=null?z[T]=I:$=T),$=$||d.default.sources.API,[M,L,z,$]}function W(M,L,T,I){if(M==null)return null;var $=void 0,z=void 0;if(L instanceof u.default){var F=[M.index,M.index+M.length].map(function(K){return L.transformPosition(K,I!==d.default.sources.USER)}),D=s(F,2);$=D[0],z=D[1]}else{var B=[M.index,M.index+M.length].map(function(K){return K<L||K===L&&I===d.default.sources.USER?K:T>=0?K+T:Math.max(L,K+T)}),V=s(B,2);$=V[0],z=V[1]}return new h.Range($,z-$)}n.expandConfig=R,n.overload=U,n.default=C},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(m,h){for(var w=0;w<h.length;w++){var y=h[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,w){return h&&b(m.prototype,h),w&&b(m,w),m}}(),s=function b(m,h,w){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,h);if(y===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:b(x,h,w)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(w)}},a=i(7),l=f(a),u=i(0),p=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function c(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function d(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function g(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var v=function(b){g(m,b);function m(){return c(this,m),d(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(w,y,x,O){if(m.compare(this.statics.blotName,x)<0&&p.default.query(x,p.default.Scope.BLOT)){var k=this.isolate(w,y);O&&k.wrap(x,O)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,w,y,x,O)}},{key:"optimize",value:function(w){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,w),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var y=this.parent.isolate(this.offset(),this.length());this.moveChildren(y),y.wrap(this)}}}],[{key:"compare",value:function(w,y){var x=m.order.indexOf(w),O=m.order.indexOf(y);return x>=0||O>=0?x-O:w===y?0:w<y?-1:1}}]),m}(p.default.Inline);v.allowedChildren=[v,p.default.Embed,l.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function p(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){p(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function h(w,y){for(var x=0;x<y.length;x++){var O=y[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(w,O.key,O)}}return function(w,y,x){return y&&h(w.prototype,y),x&&h(w,x),w}}(),s=function h(w,y,x){w===null&&(w=Function.prototype);var O=Object.getOwnPropertyDescriptor(w,y);if(O===void 0){var k=Object.getPrototypeOf(w);return k===null?void 0:h(k,y,x)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(x)}},a=i(54),l=f(a),u=i(10),p=f(u);function f(h){return h&&h.__esModule?h:{default:h}}function c(h,w){if(!(h instanceof w))throw new TypeError("Cannot call a class as a function")}function d(h,w){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:h}function g(h,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);h.prototype=Object.create(w&&w.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(h,w):h.__proto__=w)}var v=(0,p.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(h){document.addEventListener(h,function(){for(var w=arguments.length,y=Array(w),x=0;x<w;x++)y[x]=arguments[x];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var k;(k=O.__quill.emitter).handleDOM.apply(k,y)}})})});var m=function(h){g(w,h);function w(){c(this,w);var y=d(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));return y.listeners={},y.on("error",v.error),y}return o(w,[{key:"emit",value:function(){v.log.apply(v,arguments),s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(x){for(var O=arguments.length,k=Array(O>1?O-1:0),E=1;E<O;E++)k[E-1]=arguments[E];(this.listeners[x.type]||[]).forEach(function(P){var j=P.node,S=P.handler;(x.target===j||j.contains(x.target))&&S.apply(void 0,[x].concat(k))})}},{key:"listenDOM",value:function(x,O,k){this.listeners[x]||(this.listeners[x]=[]),this.listeners[x].push({node:O,handler:k})}}]),w}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var p,f=arguments.length,c=Array(f>1?f-1:0),d=1;d<f;d++)c[d-1]=arguments[d];(p=console)[u].apply(p,c)}}function l(u){return o.reduce(function(p,f){return p[f]=a.bind(console,f,u),p},{})}a.level=l.level=function(u){s=u},n.default=l},function(r,n,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=r.exports=function(c,d,g){return g||(g={}),c===d?!0:c instanceof Date&&d instanceof Date?c.getTime()===d.getTime():!c||!d||typeof c!="object"&&typeof d!="object"?g.strict?c===d:c==d:f(c,d,g)};function u(c){return c==null}function p(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function f(c,d,g){var v,b;if(u(c)||u(d)||c.prototype!==d.prototype)return!1;if(a(c))return a(d)?(c=o.call(c),d=o.call(d),l(c,d,g)):!1;if(p(c)){if(!p(d)||c.length!==d.length)return!1;for(v=0;v<c.length;v++)if(c[v]!==d[v])return!1;return!0}try{var m=s(c),h=s(d)}catch{return!1}if(m.length!=h.length)return!1;for(m.sort(),h.sort(),v=m.length-1;v>=0;v--)if(m[v]!=h[v])return!1;for(v=m.length-1;v>=0;v--)if(b=m[v],!l(c[b],d[b],g))return!1;return typeof c==typeof d}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,p){p===void 0&&(p={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;p.scope!=null?this.scope=p.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,p.whitelist!=null&&(this.whitelist=p.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var p=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return p==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var o=function(){function E(P,j){var S=[],N=!0,A=!1,C=void 0;try{for(var R=P[Symbol.iterator](),q;!(N=(q=R.next()).done)&&(S.push(q.value),!(j&&S.length===j));N=!0);}catch(U){A=!0,C=U}finally{try{!N&&R.return&&R.return()}finally{if(A)throw C}}return S}return function(P,j){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(P,j){for(var S=0;S<j.length;S++){var N=j[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,j,S){return j&&E(P.prototype,j),S&&E(P,S),P}}(),a=function E(P,j,S){P===null&&(P=Function.prototype);var N=Object.getOwnPropertyDescriptor(P,j);if(N===void 0){var A=Object.getPrototypeOf(P);return A===null?void 0:E(A,j,S)}else{if("value"in N)return N.value;var C=N.get;return C===void 0?void 0:C.call(S)}},l=i(2),u=h(l),p=i(0),f=h(p),c=i(4),d=h(c),g=i(6),v=h(g),b=i(7),m=h(b);function h(E){return E&&E.__esModule?E:{default:E}}function w(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function y(E,P){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:E}function x(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(E,P):E.__proto__=P)}var O=function(E){x(P,E);function P(){return w(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(v.default);O.blotName="code",O.tagName="CODE";var k=function(E){x(P,E);function P(){return w(this,P),y(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return s(P,[{key:"delta",value:function(){var S=this,N=this.domNode.textContent;return N.endsWith(`
`)&&(N=N.slice(0,-1)),N.split(`
`).reduce(function(A,C){return A.insert(C).insert(`
`,S.formats())},new u.default)}},{key:"format",value:function(S,N){if(!(S===this.statics.blotName&&N)){var A=this.descendant(m.default,this.length()-1),C=o(A,1),R=C[0];R!=null&&R.deleteAt(R.length()-1,1),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,S,N)}}},{key:"formatAt",value:function(S,N,A,C){if(N!==0&&!(f.default.query(A,f.default.Scope.BLOCK)==null||A===this.statics.blotName&&C===this.statics.formats(this.domNode))){var R=this.newlineIndex(S);if(!(R<0||R>=S+N)){var q=this.newlineIndex(S,!0)+1,U=R-q+1,W=this.isolate(q,U),M=W.next;W.format(A,C),M instanceof P&&M.formatAt(0,S-q+N-U,A,C)}}}},{key:"insertAt",value:function(S,N,A){if(A==null){var C=this.descendant(m.default,S),R=o(C,2),q=R[0],U=R[1];q.insertAt(U,N)}}},{key:"length",value:function(){var S=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?S:S+1}},{key:"newlineIndex",value:function(S){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(N)return this.domNode.textContent.slice(0,S).lastIndexOf(`
`);var A=this.domNode.textContent.slice(S).indexOf(`
`);return A>-1?S+A:-1}},{key:"optimize",value:function(S){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,S);var N=this.next;N!=null&&N.prev===this&&N.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===N.statics.formats(N.domNode)&&(N.optimize(S),N.moveChildren(this),N.remove())}},{key:"replace",value:function(S){a(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,S),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(N){var A=f.default.find(N);A==null?N.parentNode.removeChild(N):A instanceof f.default.Embed?A.remove():A.unwrap()})}}],[{key:"create",value:function(S){var N=a(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,S);return N.setAttribute("spellcheck",!1),N}},{key:"formats",value:function(){return!0}}]),P}(d.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",n.Code=O,n.default=k},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},s=function(){function M(L,T){var I=[],$=!0,z=!1,F=void 0;try{for(var D=L[Symbol.iterator](),B;!($=(B=D.next()).done)&&(I.push(B.value),!(T&&I.length===T));$=!0);}catch(V){z=!0,F=V}finally{try{!$&&D.return&&D.return()}finally{if(z)throw F}}return I}return function(L,T){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return M(L,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function M(L,T){for(var I=0;I<T.length;I++){var $=T[I];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(L,$.key,$)}}return function(L,T,I){return T&&M(L.prototype,T),I&&M(L,I),L}}(),l=i(2),u=N(l),p=i(20),f=N(p),c=i(0),d=N(c),g=i(13),v=N(g),b=i(24),m=N(b),h=i(4),w=N(h),y=i(16),x=N(y),O=i(21),k=N(O),E=i(11),P=N(E),j=i(3),S=N(j);function N(M){return M&&M.__esModule?M:{default:M}}function A(M,L,T){return L in M?Object.defineProperty(M,L,{value:T,enumerable:!0,configurable:!0,writable:!0}):M[L]=T,M}function C(M,L){if(!(M instanceof L))throw new TypeError("Cannot call a class as a function")}var R=/^[ -~]*$/,q=function(){function M(L){C(this,M),this.scroll=L,this.delta=this.getDelta()}return a(M,[{key:"applyDelta",value:function(T){var I=this,$=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),T=W(T),T.reduce(function(F,D){var B=D.retain||D.delete||D.insert.length||1,V=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var K=D.insert;K.endsWith(`
`)&&$&&($=!1,K=K.slice(0,-1)),F>=z&&!K.endsWith(`
`)&&($=!0),I.scroll.insertAt(F,K);var Q=I.scroll.line(F),ne=s(Q,2),se=ne[0],le=ne[1],he=(0,S.default)({},(0,h.bubbleFormats)(se));if(se instanceof w.default){var ve=se.descendant(d.default.Leaf,le),nt=s(ve,1),Me=nt[0];he=(0,S.default)(he,(0,h.bubbleFormats)(Me))}V=f.default.attributes.diff(he,V)||{}}else if(o(D.insert)==="object"){var G=Object.keys(D.insert)[0];if(G==null)return F;I.scroll.insertAt(F,G,D.insert[G])}z+=B}return Object.keys(V).forEach(function(Y){I.scroll.formatAt(F,B,Y,V[Y])}),F+B},0),T.reduce(function(F,D){return typeof D.delete=="number"?(I.scroll.deleteAt(F,D.delete),F):F+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,I){return this.scroll.deleteAt(T,I),this.update(new u.default().retain(T).delete(I))}},{key:"formatLine",value:function(T,I){var $=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(F){if(!($.scroll.whitelist!=null&&!$.scroll.whitelist[F])){var D=$.scroll.lines(T,Math.max(I,1)),B=I;D.forEach(function(V){var K=V.length();if(!(V instanceof v.default))V.format(F,z[F]);else{var Q=T-V.offset($.scroll),ne=V.newlineIndex(Q+B)-Q+1;V.formatAt(Q,ne,F,z[F])}B-=K})}}),this.scroll.optimize(),this.update(new u.default().retain(T).retain(I,(0,k.default)(z)))}},{key:"formatText",value:function(T,I){var $=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(F){$.scroll.formatAt(T,I,F,z[F])}),this.update(new u.default().retain(T).retain(I,(0,k.default)(z)))}},{key:"getContents",value:function(T,I){return this.delta.slice(T,T+I)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,I){return T.concat(I.delta())},new u.default)}},{key:"getFormat",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,$=[],z=[];I===0?this.scroll.path(T).forEach(function(D){var B=s(D,1),V=B[0];V instanceof w.default?$.push(V):V instanceof d.default.Leaf&&z.push(V)}):($=this.scroll.lines(T,I),z=this.scroll.descendants(d.default.Leaf,T,I));var F=[$,z].map(function(D){if(D.length===0)return{};for(var B=(0,h.bubbleFormats)(D.shift());Object.keys(B).length>0;){var V=D.shift();if(V==null)return B;B=U((0,h.bubbleFormats)(V),B)}return B});return S.default.apply(S.default,F)}},{key:"getText",value:function(T,I){return this.getContents(T,I).filter(function($){return typeof $.insert=="string"}).map(function($){return $.insert}).join("")}},{key:"insertEmbed",value:function(T,I,$){return this.scroll.insertAt(T,I,$),this.update(new u.default().retain(T).insert(A({},I,$)))}},{key:"insertText",value:function(T,I){var $=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return I=I.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,I),Object.keys(z).forEach(function(F){$.scroll.formatAt(T,I.length,F,z[F])}),this.update(new u.default().retain(T).insert(I,(0,k.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==w.default.blotName||T.children.length>1?!1:T.children.head instanceof x.default}},{key:"removeFormat",value:function(T,I){var $=this.getText(T,I),z=this.scroll.line(T+I),F=s(z,2),D=F[0],B=F[1],V=0,K=new u.default;D!=null&&(D instanceof v.default?V=D.newlineIndex(B)-B+1:V=D.length()-B,K=D.delta().slice(B,B+V-1).insert(`
`));var Q=this.getContents(T,I+V),ne=Q.diff(new u.default().insert($).concat(K)),se=new u.default().retain(T).concat(ne);return this.applyDelta(se)}},{key:"update",value:function(T){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(I.length===1&&I[0].type==="characterData"&&I[0].target.data.match(R)&&d.default.find(I[0].target)){var F=d.default.find(I[0].target),D=(0,h.bubbleFormats)(F),B=F.offset(this.scroll),V=I[0].oldValue.replace(m.default.CONTENTS,""),K=new u.default().insert(V),Q=new u.default().insert(F.value()),ne=new u.default().retain(B).concat(K.diff(Q,$));T=ne.reduce(function(se,le){return le.insert?se.insert(le.insert,D):se.push(le)},new u.default),this.delta=z.compose(T)}else this.delta=this.getDelta(),(!T||!(0,P.default)(z.compose(T),this.delta))&&(T=z.diff(this.delta,$));return T}}]),M}();function U(M,L){return Object.keys(L).reduce(function(T,I){return M[I]==null||(L[I]===M[I]?T[I]=L[I]:Array.isArray(L[I])?L[I].indexOf(M[I])<0&&(T[I]=L[I].concat([M[I]])):T[I]=[L[I],M[I]]),T},{})}function W(M){return M.reduce(function(L,T){if(T.insert===1){var I=(0,k.default)(T.attributes);return delete I.image,L.insert({image:T.attributes.image},I)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,k.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var $=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert($,T.attributes)}return L.push(T)},new u.default)}n.default=q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var o=function(){function E(P,j){var S=[],N=!0,A=!1,C=void 0;try{for(var R=P[Symbol.iterator](),q;!(N=(q=R.next()).done)&&(S.push(q.value),!(j&&S.length===j));N=!0);}catch(U){A=!0,C=U}finally{try{!N&&R.return&&R.return()}finally{if(A)throw C}}return S}return function(P,j){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return E(P,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(P,j){for(var S=0;S<j.length;S++){var N=j[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(P,N.key,N)}}return function(P,j,S){return j&&E(P.prototype,j),S&&E(P,S),P}}(),a=i(0),l=m(a),u=i(21),p=m(u),f=i(11),c=m(f),d=i(8),g=m(d),v=i(10),b=m(v);function m(E){return E&&E.__esModule?E:{default:E}}function h(E){if(Array.isArray(E)){for(var P=0,j=Array(E.length);P<E.length;P++)j[P]=E[P];return j}else return Array.from(E)}function w(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}var y=(0,b.default)("quill:selection"),x=function E(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;w(this,E),this.index=P,this.length=j},O=function(){function E(P,j){var S=this;w(this,E),this.emitter=j,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new x(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){S.mouseDown||setTimeout(S.update.bind(S,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(N,A){N===g.default.events.TEXT_CHANGE&&A.length()>0&&S.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(S.hasFocus()){var N=S.getNativeRange();N!=null&&N.start.node!==S.cursor.textNode&&S.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{S.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(N,A){if(A.range){var C=A.range,R=C.startNode,q=C.startOffset,U=C.endNode,W=C.endOffset;S.setNativeRange(R,q,U,W)}}),this.update(g.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var j=this;this.root.addEventListener("compositionstart",function(){j.composing=!0}),this.root.addEventListener("compositionend",function(){if(j.composing=!1,j.cursor.parent){var S=j.cursor.restore();if(!S)return;setTimeout(function(){j.setNativeRange(S.startNode,S.startOffset,S.endNode,S.endOffset)},1)}})}},{key:"handleDragging",value:function(){var j=this;this.emitter.listenDOM("mousedown",document.body,function(){j.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){j.mouseDown=!1,j.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(j,S){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[j])){this.scroll.update();var N=this.getNativeRange();if(!(N==null||!N.native.collapsed||l.default.query(j,l.default.Scope.BLOCK))){if(N.start.node!==this.cursor.textNode){var A=l.default.find(N.start.node,!1);if(A==null)return;if(A instanceof l.default.Leaf){var C=A.split(N.start.offset);A.parent.insertBefore(this.cursor,C)}else A.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(j,S),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(j){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();j=Math.min(j,N-1),S=Math.min(j+S,N-1)-j;var A=void 0,C=this.scroll.leaf(j),R=o(C,2),q=R[0],U=R[1];if(q==null)return null;var W=q.position(U,!0),M=o(W,2);A=M[0],U=M[1];var L=document.createRange();if(S>0){L.setStart(A,U);var T=this.scroll.leaf(j+S),I=o(T,2);if(q=I[0],U=I[1],q==null)return null;var $=q.position(U,!0),z=o($,2);return A=z[0],U=z[1],L.setEnd(A,U),L.getBoundingClientRect()}else{var F="left",D=void 0;return A instanceof Text?(U<A.data.length?(L.setStart(A,U),L.setEnd(A,U+1)):(L.setStart(A,U-1),L.setEnd(A,U),F="right"),D=L.getBoundingClientRect()):(D=q.domNode.getBoundingClientRect(),U>0&&(F="right")),{bottom:D.top+D.height,height:D.height,left:D[F],right:D[F],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var j=document.getSelection();if(j==null||j.rangeCount<=0)return null;var S=j.getRangeAt(0);if(S==null)return null;var N=this.normalizeNative(S);return y.info("getNativeRange",N),N}},{key:"getRange",value:function(){var j=this.getNativeRange();if(j==null)return[null,null];var S=this.normalizedToRange(j);return[S,j]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(j){var S=this,N=[[j.start.node,j.start.offset]];j.native.collapsed||N.push([j.end.node,j.end.offset]);var A=N.map(function(q){var U=o(q,2),W=U[0],M=U[1],L=l.default.find(W,!0),T=L.offset(S.scroll);return M===0?T:L instanceof l.default.Container?T+L.length():T+L.index(W,M)}),C=Math.min(Math.max.apply(Math,h(A)),this.scroll.length()-1),R=Math.min.apply(Math,[C].concat(h(A)));return new x(R,C-R)}},{key:"normalizeNative",value:function(j){if(!k(this.root,j.startContainer)||!j.collapsed&&!k(this.root,j.endContainer))return null;var S={start:{node:j.startContainer,offset:j.startOffset},end:{node:j.endContainer,offset:j.endOffset},native:j};return[S.start,S.end].forEach(function(N){for(var A=N.node,C=N.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>C)A=A.childNodes[C],C=0;else if(A.childNodes.length===C)A=A.lastChild,C=A instanceof Text?A.data.length:A.childNodes.length+1;else break;N.node=A,N.offset=C}),S}},{key:"rangeToNative",value:function(j){var S=this,N=j.collapsed?[j.index]:[j.index,j.index+j.length],A=[],C=this.scroll.length();return N.forEach(function(R,q){R=Math.min(C-1,R);var U=void 0,W=S.scroll.leaf(R),M=o(W,2),L=M[0],T=M[1],I=L.position(T,q!==0),$=o(I,2);U=$[0],T=$[1],A.push(U,T)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(j){var S=this.lastRange;if(S!=null){var N=this.getBounds(S.index,S.length);if(N!=null){var A=this.scroll.length()-1,C=this.scroll.line(Math.min(S.index,A)),R=o(C,1),q=R[0],U=q;if(S.length>0){var W=this.scroll.line(Math.min(S.index+S.length,A)),M=o(W,1);U=M[0]}if(!(q==null||U==null)){var L=j.getBoundingClientRect();N.top<L.top?j.scrollTop-=L.top-N.top:N.bottom>L.bottom&&(j.scrollTop+=N.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(j,S){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(y.info("setNativeRange",j,S,N,A),!(j!=null&&(this.root.parentNode==null||j.parentNode==null||N.parentNode==null))){var R=document.getSelection();if(R!=null)if(j!=null){this.hasFocus()||this.root.focus();var q=(this.getNativeRange()||{}).native;if(q==null||C||j!==q.startContainer||S!==q.startOffset||N!==q.endContainer||A!==q.endOffset){j.tagName=="BR"&&(S=[].indexOf.call(j.parentNode.childNodes,j),j=j.parentNode),N.tagName=="BR"&&(A=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var U=document.createRange();U.setStart(j,S),U.setEnd(N,A),R.removeAllRanges(),R.addRange(U)}}else R.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(j){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof S=="string"&&(N=S,S=!1),y.info("setRange",j),j!=null){var A=this.rangeToNative(j);this.setNativeRange.apply(this,h(A).concat([S]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,S=this.lastRange,N=this.getRange(),A=o(N,2),C=A[0],R=A[1];if(this.lastRange=C,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(S,this.lastRange)){var q;!this.composing&&R!=null&&R.native.collapsed&&R.start.node!==this.cursor.textNode&&this.cursor.restore();var U=[g.default.events.SELECTION_CHANGE,(0,p.default)(this.lastRange),(0,p.default)(S),j];if((q=this.emitter).emit.apply(q,[g.default.events.EDITOR_CHANGE].concat(U)),j!==g.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,U)}}}}]),E}();function k(E,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),E.contains(P)}n.Range=x,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,b){for(var m=0;m<b.length;m++){var h=b[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,b,m){return b&&g(v.prototype,b),m&&g(v,m),v}}(),s=function g(v,b,m){v===null&&(v=Function.prototype);var h=Object.getOwnPropertyDescriptor(v,b);if(h===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,m)}else{if("value"in h)return h.value;var y=h.get;return y===void 0?void 0:y.call(m)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(){return p(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"insertInto",value:function(m,h){m.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,m,h):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(l.default.Embed);d.blotName="break",d.tagName="BR",n.default=d},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])};return function(c,d){f(c,d);function g(){this.constructor=c}c.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(c,f);function c(d){var g=f.call(this,d)||this;return g.build(),g}return c.prototype.appendChild=function(d){this.insertBefore(d)},c.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(d){d.attach()})},c.prototype.build=function(){var d=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var v=p(g);d.insertBefore(v,d.children.head||void 0)}catch(b){if(b instanceof l.ParchmentError)return;throw b}})},c.prototype.deleteAt=function(d,g){if(d===0&&g===this.length())return this.remove();this.children.forEachAt(d,g,function(v,b,m){v.deleteAt(b,m)})},c.prototype.descendant=function(d,g){var v=this.children.find(g),b=v[0],m=v[1];return d.blotName==null&&d(b)||d.blotName!=null&&b instanceof d?[b,m]:b instanceof c?b.descendant(d,m):[null,-1]},c.prototype.descendants=function(d,g,v){g===void 0&&(g=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],m=v;return this.children.forEachAt(g,v,function(h,w,y){(d.blotName==null&&d(h)||d.blotName!=null&&h instanceof d)&&b.push(h),h instanceof c&&(b=b.concat(h.descendants(d,w,m))),m-=y}),b},c.prototype.detach=function(){this.children.forEach(function(d){d.detach()}),f.prototype.detach.call(this)},c.prototype.formatAt=function(d,g,v,b){this.children.forEachAt(d,g,function(m,h,w){m.formatAt(h,w,v,b)})},c.prototype.insertAt=function(d,g,v){var b=this.children.find(d),m=b[0],h=b[1];if(m)m.insertAt(h,g,v);else{var w=v==null?l.create("text",g):l.create(g,v);this.appendChild(w)}},c.prototype.insertBefore=function(d,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return d instanceof v}))throw new l.ParchmentError("Cannot insert "+d.statics.blotName+" into "+this.statics.blotName);d.insertInto(this,g)},c.prototype.length=function(){return this.children.reduce(function(d,g){return d+g.length()},0)},c.prototype.moveChildren=function(d,g){this.children.forEach(function(v){d.insertBefore(v,g)})},c.prototype.optimize=function(d){if(f.prototype.optimize.call(this,d),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(d)}else this.remove()},c.prototype.path=function(d,g){g===void 0&&(g=!1);var v=this.children.find(d,g),b=v[0],m=v[1],h=[[this,d]];return b instanceof c?h.concat(b.path(m,g)):(b!=null&&h.push([b,m]),h)},c.prototype.removeChild=function(d){this.children.remove(d)},c.prototype.replace=function(d){d instanceof c&&d.moveChildren(this),f.prototype.replace.call(this,d)},c.prototype.split=function(d,g){if(g===void 0&&(g=!1),!g){if(d===0)return this;if(d===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(d,this.length(),function(b,m,h){b=b.split(m,g),v.appendChild(b)}),v},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(d,g){var v=this,b=[],m=[];d.forEach(function(h){h.target===v.domNode&&h.type==="childList"&&(b.push.apply(b,h.addedNodes),m.push.apply(m,h.removedNodes))}),m.forEach(function(h){if(!(h.parentNode!=null&&h.tagName!=="IFRAME"&&document.body.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var w=l.find(h);w!=null&&(w.domNode.parentNode==null||w.domNode.parentNode===v.domNode)&&w.detach()}}),b.filter(function(h){return h.parentNode==v.domNode}).sort(function(h,w){return h===w?0:h.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(h){var w=null;h.nextSibling!=null&&(w=l.find(h.nextSibling));var y=p(h);(y.next!=w||y.next==null)&&(y.parent!=null&&y.parent.removeChild(v),v.insertBefore(y,w||void 0))})},c}(a.default);function p(f){var c=l.find(f);if(c==null)try{c=l.create(f)}catch{c=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){c.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(c.domNode,f),c.attach()}return c}n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])};return function(c,d){f(c,d);function g(){this.constructor=c}c.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),p=function(f){o(c,f);function c(d){var g=f.call(this,d)||this;return g.attributes=new a.default(g.domNode),g}return c.formats=function(d){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return d.tagName.toLowerCase()},c.prototype.format=function(d,g){var v=u.query(d);v instanceof s.default?this.attributes.attribute(v,g):g&&v!=null&&(d!==this.statics.blotName||this.formats()[d]!==g)&&this.replaceWith(d,g)},c.prototype.formats=function(){var d=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(d[this.statics.blotName]=g),d},c.prototype.replaceWith=function(d,g){var v=f.prototype.replaceWith.call(this,d,g);return this.attributes.copy(v),v},c.prototype.update=function(d,g){var v=this;f.prototype.update.call(this,d,g),d.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(d,g){var v=f.prototype.wrap.call(this,d,g);return v instanceof c&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},c}(l.default);n.default=p},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){u(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.value=function(f){return!0},p.prototype.index=function(f,c){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},p.prototype.position=function(f,c){var d=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(d+=1),[this.parent.domNode,d]},p.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},p.scope=a.Scope.INLINE_BLOT,p}(s.default);n.default=l},function(r,n,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,p,f){typeof u!="object"&&(u={}),typeof p!="object"&&(p={});var c=s(!0,{},p);f||(c=Object.keys(c).reduce(function(g,v){return c[v]!=null&&(g[v]=c[v]),g},{}));for(var d in u)u[d]!==void 0&&p[d]===void 0&&(c[d]=u[d]);return Object.keys(c).length>0?c:void 0},diff:function(u,p){typeof u!="object"&&(u={}),typeof p!="object"&&(p={});var f=Object.keys(u).concat(Object.keys(p)).reduce(function(c,d){return o(u[d],p[d])||(c[d]=p[d]===void 0?null:p[d]),c},{});return Object.keys(f).length>0?f:void 0},transform:function(u,p,f){if(typeof u!="object")return p;if(typeof p=="object"){if(!f)return p;var c=Object.keys(p).reduce(function(d,g){return u[g]===void 0&&(d[g]=p[g]),d},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var p=this.ops[this.index];if(p){var f=this.offset,c=a.length(p);if(u>=c-f?(u=c-f,this.index+=1,this.offset=0):this.offset+=u,typeof p.delete=="number")return{delete:u};var d={};return p.attributes&&(d.attributes=p.attributes),typeof p.retain=="number"?d.retain=u:typeof p.insert=="string"?d.insert=p.insert.substr(f,u):d.insert=p.insert,d}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,p=this.index,f=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=p,[f].concat(c)}else return[]},r.exports=a},function(r,n){var i=function(){function o(v,b){return b!=null&&v instanceof b}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(v,b,m,h,w){typeof b=="object"&&(m=b.depth,h=b.prototype,w=b.includeNonEnumerable,b=b.circular);var y=[],x=[],O=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof m>"u"&&(m=1/0);function k(E,P){if(E===null)return null;if(P===0)return E;var j,S;if(typeof E!="object")return E;if(o(E,s))j=new s;else if(o(E,a))j=new a;else if(o(E,l))j=new l(function(L,T){E.then(function(I){L(k(I,P-1))},function(I){T(k(I,P-1))})});else if(u.__isArray(E))j=[];else if(u.__isRegExp(E))j=new RegExp(E.source,g(E)),E.lastIndex&&(j.lastIndex=E.lastIndex);else if(u.__isDate(E))j=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?j=Buffer.allocUnsafe(E.length):j=new Buffer(E.length),E.copy(j),j;o(E,Error)?j=Object.create(E):typeof h>"u"?(S=Object.getPrototypeOf(E),j=Object.create(S)):(j=Object.create(h),S=h)}if(b){var N=y.indexOf(E);if(N!=-1)return x[N];y.push(E),x.push(j)}o(E,s)&&E.forEach(function(L,T){var I=k(T,P-1),$=k(L,P-1);j.set(I,$)}),o(E,a)&&E.forEach(function(L){var T=k(L,P-1);j.add(T)});for(var A in E){var C;S&&(C=Object.getOwnPropertyDescriptor(S,A)),!(C&&C.set==null)&&(j[A]=k(E[A],P-1))}if(Object.getOwnPropertySymbols)for(var R=Object.getOwnPropertySymbols(E),A=0;A<R.length;A++){var q=R[A],U=Object.getOwnPropertyDescriptor(E,q);U&&!U.enumerable&&!w||(j[q]=k(E[q],P-1),U.enumerable||Object.defineProperty(j,q,{enumerable:!1}))}if(w)for(var W=Object.getOwnPropertyNames(E),A=0;A<W.length;A++){var M=W[A],U=Object.getOwnPropertyDescriptor(E,M);U&&U.enumerable||(j[M]=k(E[M],P-1),Object.defineProperty(j,M,{enumerable:!1}))}return j}return k(v,m)}u.clonePrototype=function(b){if(b===null)return null;var m=function(){};return m.prototype=b,new m};function p(v){return Object.prototype.toString.call(v)}u.__objToStr=p;function f(v){return typeof v=="object"&&p(v)==="[object Date]"}u.__isDate=f;function c(v){return typeof v=="object"&&p(v)==="[object Array]"}u.__isArray=c;function d(v){return typeof v=="object"&&p(v)==="[object RegExp]"}u.__isRegExp=d;function g(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return u.__getRegExpFlags=g,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function j(S,N){var A=[],C=!0,R=!1,q=void 0;try{for(var U=S[Symbol.iterator](),W;!(C=(W=U.next()).done)&&(A.push(W.value),!(N&&A.length===N));C=!0);}catch(M){R=!0,q=M}finally{try{!C&&U.return&&U.return()}finally{if(R)throw q}}return A}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return j(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function j(S,N){for(var A=0;A<N.length;A++){var C=N[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,N,A){return N&&j(S.prototype,N),A&&j(S,A),S}}(),a=function j(S,N,A){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,N);if(C===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:j(R,N,A)}else{if("value"in C)return C.value;var q=C.get;return q===void 0?void 0:q.call(A)}},l=i(0),u=y(l),p=i(8),f=y(p),c=i(4),d=y(c),g=i(16),v=y(g),b=i(13),m=y(b),h=i(25),w=y(h);function y(j){return j&&j.__esModule?j:{default:j}}function x(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function O(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function k(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}function E(j){return j instanceof d.default||j instanceof c.BlockEmbed}var P=function(j){k(S,j);function S(N,A){x(this,S);var C=O(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N));return C.emitter=A.emitter,Array.isArray(A.whitelist)&&(C.whitelist=A.whitelist.reduce(function(R,q){return R[q]=!0,R},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return s(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(A,C){var R=this.line(A),q=o(R,2),U=q[0],W=q[1],M=this.line(A+C),L=o(M,1),T=L[0];if(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,A,C),T!=null&&U!==T&&W>0){if(U instanceof c.BlockEmbed||T instanceof c.BlockEmbed){this.optimize();return}if(U instanceof m.default){var I=U.newlineIndex(U.length(),!0);if(I>-1&&(U=U.split(I+1),U===T)){this.optimize();return}}else if(T instanceof m.default){var $=T.newlineIndex(0);$>-1&&T.split($+1)}var z=T.children.head instanceof v.default?null:T.children.head;U.moveChildren(T,z),U.remove()}this.optimize()}},{key:"enable",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",A)}},{key:"formatAt",value:function(A,C,R,q){this.whitelist!=null&&!this.whitelist[R]||(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,A,C,R,q),this.optimize())}},{key:"insertAt",value:function(A,C,R){if(!(R!=null&&this.whitelist!=null&&!this.whitelist[C])){if(A>=this.length())if(R==null||u.default.query(C,u.default.Scope.BLOCK)==null){var q=u.default.create(this.statics.defaultChild);this.appendChild(q),R==null&&C.endsWith(`
`)&&(C=C.slice(0,-1)),q.insertAt(0,C,R)}else{var U=u.default.create(C,R);this.appendChild(U)}else a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,A,C,R);this.optimize()}}},{key:"insertBefore",value:function(A,C){if(A.statics.scope===u.default.Scope.INLINE_BLOT){var R=u.default.create(this.statics.defaultChild);R.appendChild(A),A=R}a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,A,C)}},{key:"leaf",value:function(A){return this.path(A).pop()||[null,-1]}},{key:"line",value:function(A){return A===this.length()?this.line(A-1):this.descendant(E,A)}},{key:"lines",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,R=function q(U,W,M){var L=[],T=M;return U.children.forEachAt(W,M,function(I,$,z){E(I)?L.push(I):I instanceof u.default.Container&&(L=L.concat(q(I,$,T))),T-=z}),L};return R(this,A,C)}},{key:"optimize",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,A,C),A.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,A,C))}},{key:"path",value:function(A){return a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,A).slice(1)}},{key:"update",value:function(A){if(this.batch!==!0){var C=f.default.sources.USER;typeof A=="string"&&(C=A),Array.isArray(A)||(A=this.observer.takeRecords()),A.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,C,A),a(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,A.concat([])),A.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,C,A)}}}]),S}(u.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[d.default,c.BlockEmbed,w.default],n.default=P},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(B,V){var K=[],Q=!0,ne=!1,se=void 0;try{for(var le=B[Symbol.iterator](),he;!(Q=(he=le.next()).done)&&(K.push(he.value),!(V&&K.length===V));Q=!0);}catch(ve){ne=!0,se=ve}finally{try{!Q&&le.return&&le.return()}finally{if(ne)throw se}}return K}return function(B,V){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return D(B,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function D(B,V){for(var K=0;K<V.length;K++){var Q=V[K];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(B,Q.key,Q)}}return function(B,V,K){return V&&D(B.prototype,V),K&&D(B,K),B}}(),l=i(21),u=j(l),p=i(11),f=j(p),c=i(3),d=j(c),g=i(2),v=j(g),b=i(20),m=j(b),h=i(0),w=j(h),y=i(5),x=j(y),O=i(10),k=j(O),E=i(9),P=j(E);function j(D){return D&&D.__esModule?D:{default:D}}function S(D,B,V){return B in D?Object.defineProperty(D,B,{value:V,enumerable:!0,configurable:!0,writable:!0}):D[B]=V,D}function N(D,B){if(!(D instanceof B))throw new TypeError("Cannot call a class as a function")}function A(D,B){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:D}function C(D,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);D.prototype=Object.create(B&&B.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(D,B):D.__proto__=B)}var R=(0,k.default)("quill:keyboard"),q=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",U=function(D){C(B,D),a(B,null,[{key:"match",value:function(K,Q){return Q=F(Q),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ne){return!!Q[ne]!==K[ne]&&Q[ne]!==null})?!1:Q.key===(K.which||K.keyCode)}}]);function B(V,K){N(this,B);var Q=A(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,V,K));return Q.bindings={},Object.keys(Q.options.bindings).forEach(function(ne){ne==="list autofill"&&V.scroll.whitelist!=null&&!V.scroll.whitelist.list||Q.options.bindings[ne]&&Q.addBinding(Q.options.bindings[ne])}),Q.addBinding({key:B.keys.ENTER,shiftKey:null},I),Q.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},M),Q.addBinding({key:B.keys.DELETE},{collapsed:!0},L)):(Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),Q.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Q.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},T),Q.addBinding({key:B.keys.DELETE},{collapsed:!1},T),Q.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),Q.listen(),Q}return a(B,[{key:"addBinding",value:function(K){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=F(K);if(se==null||se.key==null)return R.warn("Attempted to add invalid keyboard binding",se);typeof Q=="function"&&(Q={handler:Q}),typeof ne=="function"&&(ne={handler:ne}),se=(0,d.default)(se,Q,ne),this.bindings[se.key]=this.bindings[se.key]||[],this.bindings[se.key].push(se)}},{key:"listen",value:function(){var K=this;this.quill.root.addEventListener("keydown",function(Q){if(!Q.defaultPrevented){var ne=Q.which||Q.keyCode,se=(K.bindings[ne]||[]).filter(function(Ie){return B.match(Q,Ie)});if(se.length!==0){var le=K.quill.getSelection();if(!(le==null||!K.quill.hasFocus())){var he=K.quill.getLine(le.index),ve=s(he,2),nt=ve[0],Me=ve[1],G=K.quill.getLeaf(le.index),Y=s(G,2),Z=Y[0],ee=Y[1],J=le.length===0?[Z,ee]:K.quill.getLeaf(le.index+le.length),ue=s(J,2),ce=ue[0],fe=ue[1],_t=Z instanceof w.default.Text?Z.value().slice(0,ee):"",Wt=ce instanceof w.default.Text?ce.value().slice(fe):"",Oe={collapsed:le.length===0,empty:le.length===0&&nt.length()<=1,format:K.quill.getFormat(le),offset:Me,prefix:_t,suffix:Wt},yg=se.some(function(Ie){if(Ie.collapsed!=null&&Ie.collapsed!==Oe.collapsed||Ie.empty!=null&&Ie.empty!==Oe.empty||Ie.offset!=null&&Ie.offset!==Oe.offset)return!1;if(Array.isArray(Ie.format)){if(Ie.format.every(function(ir){return Oe.format[ir]==null}))return!1}else if(o(Ie.format)==="object"&&!Object.keys(Ie.format).every(function(ir){return Ie.format[ir]===!0?Oe.format[ir]!=null:Ie.format[ir]===!1?Oe.format[ir]==null:(0,f.default)(Ie.format[ir],Oe.format[ir])}))return!1;return Ie.prefix!=null&&!Ie.prefix.test(Oe.prefix)||Ie.suffix!=null&&!Ie.suffix.test(Oe.suffix)?!1:Ie.handler.call(K,le,Oe)!==!0});yg&&Q.preventDefault()}}}})}}]),B}(P.default);U.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},U.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:U.keys.TAB,format:["blockquote","indent","list"],handler:function(B,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","+1",x.default.sources.USER)}},outdent:{key:U.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,V){if(V.collapsed&&V.offset!==0)return!0;this.quill.format("indent","-1",x.default.sources.USER)}},"outdent backspace":{key:U.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,V){V.format.indent!=null?this.quill.format("indent","-1",x.default.sources.USER):V.format.list!=null&&this.quill.format("list",!1,x.default.sources.USER)}},"indent code-block":$(!0),"outdent code-block":$(!1),"remove tab":{key:U.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,x.default.sources.USER)}},tab:{key:U.keys.TAB,handler:function(B){this.quill.history.cutoff();var V=new v.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(V,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,x.default.sources.SILENT)}},"list empty enter":{key:U.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,V){this.quill.format("list",!1,x.default.sources.USER),V.format.indent&&this.quill.format("indent",!1,x.default.sources.USER)}},"checklist enter":{key:U.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var V=this.quill.getLine(B.index),K=s(V,2),Q=K[0],ne=K[1],se=(0,d.default)({},Q.formats(),{list:"checked"}),le=new v.default().retain(B.index).insert(`
`,se).retain(Q.length()-ne-1).retain(1,{list:"unchecked"});this.quill.updateContents(le,x.default.sources.USER),this.quill.setSelection(B.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:U.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,V){var K=this.quill.getLine(B.index),Q=s(K,2),ne=Q[0],se=Q[1],le=new v.default().retain(B.index).insert(`
`,V.format).retain(ne.length()-se-1).retain(1,{header:null});this.quill.updateContents(le,x.default.sources.USER),this.quill.setSelection(B.index+1,x.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,V){var K=V.prefix.length,Q=this.quill.getLine(B.index),ne=s(Q,2),se=ne[0],le=ne[1];if(le>K)return!0;var he=void 0;switch(V.prefix.trim()){case"[]":case"[ ]":he="unchecked";break;case"[x]":he="checked";break;case"-":case"*":he="bullet";break;default:he="ordered"}this.quill.insertText(B.index," ",x.default.sources.USER),this.quill.history.cutoff();var ve=new v.default().retain(B.index-le).delete(K+1).retain(se.length()-2-le).retain(1,{list:he});this.quill.updateContents(ve,x.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-K,x.default.sources.SILENT)}},"code exit":{key:U.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var V=this.quill.getLine(B.index),K=s(V,2),Q=K[0],ne=K[1],se=new v.default().retain(B.index+Q.length()-ne-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(se,x.default.sources.USER)}},"embed left":W(U.keys.LEFT,!1),"embed left shift":W(U.keys.LEFT,!0),"embed right":W(U.keys.RIGHT,!1),"embed right shift":W(U.keys.RIGHT,!0)}};function W(D,B){var V,K=D===U.keys.LEFT?"prefix":"suffix";return V={key:D,shiftKey:B,altKey:null},S(V,K,/^$/),S(V,"handler",function(ne){var se=ne.index;D===U.keys.RIGHT&&(se+=ne.length+1);var le=this.quill.getLeaf(se),he=s(le,1),ve=he[0];return ve instanceof w.default.Embed?(D===U.keys.LEFT?B?this.quill.setSelection(ne.index-1,ne.length+1,x.default.sources.USER):this.quill.setSelection(ne.index-1,x.default.sources.USER):B?this.quill.setSelection(ne.index,ne.length+1,x.default.sources.USER):this.quill.setSelection(ne.index+ne.length+1,x.default.sources.USER),!1):!0}),V}function M(D,B){if(!(D.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(D.index),K=s(V,1),Q=K[0],ne={};if(B.offset===0){var se=this.quill.getLine(D.index-1),le=s(se,1),he=le[0];if(he!=null&&he.length()>1){var ve=Q.formats(),nt=this.quill.getFormat(D.index-1,1);ne=m.default.attributes.diff(ve,nt)||{}}}var Me=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(D.index-Me,Me,x.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(D.index-Me,Me,ne,x.default.sources.USER),this.quill.focus()}}function L(D,B){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(D.index>=this.quill.getLength()-V)){var K={},Q=0,ne=this.quill.getLine(D.index),se=s(ne,1),le=se[0];if(B.offset>=le.length()-1){var he=this.quill.getLine(D.index+1),ve=s(he,1),nt=ve[0];if(nt){var Me=le.formats(),G=this.quill.getFormat(D.index,1);K=m.default.attributes.diff(Me,G)||{},Q=nt.length()}}this.quill.deleteText(D.index,V,x.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(D.index+Q-1,V,K,x.default.sources.USER)}}function T(D){var B=this.quill.getLines(D),V={};if(B.length>1){var K=B[0].formats(),Q=B[B.length-1].formats();V=m.default.attributes.diff(Q,K)||{}}this.quill.deleteText(D,x.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(D.index,1,V,x.default.sources.USER),this.quill.setSelection(D.index,x.default.sources.SILENT),this.quill.focus()}function I(D,B){var V=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var K=Object.keys(B.format).reduce(function(Q,ne){return w.default.query(ne,w.default.Scope.BLOCK)&&!Array.isArray(B.format[ne])&&(Q[ne]=B.format[ne]),Q},{});this.quill.insertText(D.index,`
`,K,x.default.sources.USER),this.quill.setSelection(D.index+1,x.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(Q){K[Q]==null&&(Array.isArray(B.format[Q])||Q!=="link"&&V.quill.format(Q,B.format[Q],x.default.sources.USER))})}function $(D){return{key:U.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(V){var K=w.default.query("code-block"),Q=V.index,ne=V.length,se=this.quill.scroll.descendant(K,Q),le=s(se,2),he=le[0],ve=le[1];if(he!=null){var nt=this.quill.getIndex(he),Me=he.newlineIndex(ve,!0)+1,G=he.newlineIndex(nt+ve+ne),Y=he.domNode.textContent.slice(Me,G).split(`
`);ve=0,Y.forEach(function(Z,ee){D?(he.insertAt(Me+ve,K.TAB),ve+=K.TAB.length,ee===0?Q+=K.TAB.length:ne+=K.TAB.length):Z.startsWith(K.TAB)&&(he.deleteAt(Me+ve,K.TAB.length),ve-=K.TAB.length,ee===0?Q-=K.TAB.length:ne-=K.TAB.length),ve+=Z.length+1}),this.quill.update(x.default.sources.USER),this.quill.setSelection(Q,ne,x.default.sources.SILENT)}}}}function z(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(V,K){this.quill.format(D,!K.format[D],x.default.sources.USER)}}}function F(D){if(typeof D=="string"||typeof D=="number")return F({key:D});if((typeof D>"u"?"undefined":o(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if(U.keys[D.key.toUpperCase()]!=null)D.key=U.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[q]=D.shortKey,delete D.shortKey),D}n.default=U,n.SHORTKEY=q},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function m(h,w){var y=[],x=!0,O=!1,k=void 0;try{for(var E=h[Symbol.iterator](),P;!(x=(P=E.next()).done)&&(y.push(P.value),!(w&&y.length===w));x=!0);}catch(j){O=!0,k=j}finally{try{!x&&E.return&&E.return()}finally{if(O)throw k}}return y}return function(h,w){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return m(h,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(h,w,y){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,w);if(x===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:m(O,w,y)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(y)}},a=function(){function m(h,w){for(var y=0;y<w.length;y++){var x=w[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,w,y){return w&&m(h.prototype,w),y&&m(h,y),h}}(),l=i(0),u=c(l),p=i(7),f=c(p);function c(m){return m&&m.__esModule?m:{default:m}}function d(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function g(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function v(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var b=function(m){v(h,m),a(h,null,[{key:"value",value:function(){}}]);function h(w,y){d(this,h);var x=g(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,w));return x.selection=y,x.textNode=document.createTextNode(h.CONTENTS),x.domNode.appendChild(x.textNode),x._length=0,x}return a(h,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(y,x){if(this._length!==0)return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,y,x);for(var O=this,k=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)k+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=h.CONTENTS.length,O.optimize(),O.formatAt(k,h.CONTENTS.length,y,x),this._length=0)}},{key:"index",value:function(y,x){return y===this.textNode?0:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,y,x)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var y=this.textNode,x=this.selection.getNativeRange(),O=void 0,k=void 0,E=void 0;if(x!=null&&x.start.node===y&&x.end.node===y){var P=[y,x.start.offset,x.end.offset];O=P[0],k=P[1],E=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==h.CONTENTS){var j=this.textNode.data.split(h.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,j),this.textNode.data=h.CONTENTS):(this.textNode.data=j,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(h.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var S=[k,E].map(function(A){return Math.max(0,Math.min(O.data.length,A-1))}),N=o(S,2);return k=N[0],E=N[1],{startNode:O,startOffset:k,endNode:O,endOffset:E}}}}},{key:"update",value:function(y,x){var O=this;if(y.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var k=this.restore();k&&(x.range=k)}}},{key:"value",value:function(){return""}}]),h}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(){return p(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);d.allowedChildren=[l.default,a.BlockEmbed,d],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var o=function(){function b(m,h){for(var w=0;w<h.length;w++){var y=h[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,w){return h&&b(m.prototype,h),w&&b(m,w),m}}(),s=function b(m,h,w){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,h);if(y===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:b(x,h,w)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(w)}},a=i(0),l=u(a);function u(b){return b&&b.__esModule?b:{default:b}}function p(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function c(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var d=function(b){c(m,b);function m(){return p(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(w){var y=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,w);return y.startsWith("rgb(")?(y=y.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+y.split(",").map(function(x){return("00"+parseInt(x).toString(16)).slice(-2)}).join("")):y}}]),m}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),v=new d("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=d,n.ColorClass=g,n.ColorStyle=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var o=function(){function v(b,m){for(var h=0;h<m.length;h++){var w=m[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,m,h){return m&&v(b.prototype,m),h&&v(b,h),b}}(),s=function v(b,m,h){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,m);if(w===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:v(y,m,h)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(h)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function c(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var d=function(v){c(b,v);function b(){return p(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(h,w){if(h!==this.statics.blotName||!w)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,h,w);w=this.constructor.sanitize(w),this.domNode.setAttribute("href",w)}}],[{key:"create",value:function(h){var w=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,h);return h=this.sanitize(h),w.setAttribute("href",h),w.setAttribute("rel","noopener noreferrer"),w.setAttribute("target","_blank"),w}},{key:"formats",value:function(h){return h.getAttribute("href")}},{key:"sanitize",value:function(h){return g(h,this.PROTOCOL_WHITELIST)?h:this.SANITIZED_URL}}]),b}(l.default);d.blotName="link",d.tagName="A",d.SANITIZED_URL="about:blank",d.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(v,b){var m=document.createElement("a");m.href=v;var h=m.href.slice(0,m.href.indexOf(":"));return b.indexOf(h)>-1}n.default=d,n.sanitize=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s=function(){function b(m,h){for(var w=0;w<h.length;w++){var y=h[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,w){return h&&b(m.prototype,h),w&&b(m,w),m}}(),a=i(23),l=f(a),u=i(107),p=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function c(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}var d=0;function g(b,m){b.setAttribute(m,b.getAttribute(m)!=="true")}var v=function(){function b(m){var h=this;c(this,b),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){h.togglePicker()}),this.label.addEventListener("keydown",function(w){switch(w.keyCode){case l.default.keys.ENTER:h.togglePicker();break;case l.default.keys.ESCAPE:h.escape(),w.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(h){var w=this,y=document.createElement("span");return y.tabIndex="0",y.setAttribute("role","button"),y.classList.add("ql-picker-item"),h.hasAttribute("value")&&y.setAttribute("data-value",h.getAttribute("value")),h.textContent&&y.setAttribute("data-label",h.textContent),y.addEventListener("click",function(){w.selectItem(y,!0)}),y.addEventListener("keydown",function(x){switch(x.keyCode){case l.default.keys.ENTER:w.selectItem(y,!0),x.preventDefault();break;case l.default.keys.ESCAPE:w.escape(),x.preventDefault();break}}),y}},{key:"buildLabel",value:function(){var h=document.createElement("span");return h.classList.add("ql-picker-label"),h.innerHTML=p.default,h.tabIndex="0",h.setAttribute("role","button"),h.setAttribute("aria-expanded","false"),this.container.appendChild(h),h}},{key:"buildOptions",value:function(){var h=this,w=document.createElement("span");w.classList.add("ql-picker-options"),w.setAttribute("aria-hidden","true"),w.tabIndex="-1",w.id="ql-picker-options-"+d,d+=1,this.label.setAttribute("aria-controls",w.id),this.options=w,[].slice.call(this.select.options).forEach(function(y){var x=h.buildItem(y);w.appendChild(x),y.selected===!0&&h.selectItem(x)}),this.container.appendChild(w)}},{key:"buildPicker",value:function(){var h=this;[].slice.call(this.select.attributes).forEach(function(w){h.container.setAttribute(w.name,w.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var h=this;this.close(),setTimeout(function(){return h.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(h){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=this.container.querySelector(".ql-selected");if(h!==y&&(y!=null&&y.classList.remove("ql-selected"),h!=null&&(h.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(h.parentNode.children,h),h.hasAttribute("data-value")?this.label.setAttribute("data-value",h.getAttribute("data-value")):this.label.removeAttribute("data-value"),h.hasAttribute("data-label")?this.label.setAttribute("data-label",h.getAttribute("data-label")):this.label.removeAttribute("data-label"),w))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var x=document.createEvent("Event");x.initEvent("change",!0,!0),this.select.dispatchEvent(x)}this.close()}}},{key:"update",value:function(){var h=void 0;if(this.select.selectedIndex>-1){var w=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];h=this.select.options[this.select.selectedIndex],this.selectItem(w)}else this.selectItem(null);var y=h!=null&&h!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",y)}}]),b}();n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(0),s=R(o),a=i(5),l=R(a),u=i(4),p=R(u),f=i(16),c=R(f),d=i(25),g=R(d),v=i(24),b=R(v),m=i(35),h=R(m),w=i(6),y=R(w),x=i(22),O=R(x),k=i(7),E=R(k),P=i(55),j=R(P),S=i(42),N=R(S),A=i(23),C=R(A);function R(q){return q&&q.__esModule?q:{default:q}}l.default.register({"blots/block":p.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":g.default,"blots/cursor":b.default,"blots/embed":h.default,"blots/inline":y.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":j.default,"modules/history":N.default,"modules/keyboard":C.default}),s.default.register(p.default,c.default,b.default,y.default,O.default,E.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var p=this.isolate(l,u);p.remove()},a.prototype.formatAt=function(l,u,p,f){var c=this.isolate(l,u);if(o.query(p,o.Scope.BLOT)!=null&&f)c.wrap(p,f);else if(o.query(p,o.Scope.ATTRIBUTE)!=null){var d=o.create(this.statics.scope);c.wrap(d),d.format(p,f)}},a.prototype.insertAt=function(l,u,p){var f=p==null?o.create("text",u):o.create(u,p),c=this.split(l);this.parent.insertBefore(f,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var p=null;l.children.insertBefore(this,u),u!=null&&(p=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=p)&&l.domNode.insertBefore(this.domNode,p),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var p=this.split(l);return p.split(u),p},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var p=typeof l=="string"?o.create(l,u):l;return p.replace(this),p},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var p=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(p,this.next),p.appendChild(this),p},a.blotName="abstract",a}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function p(f){this.attributes={},this.domNode=f,this.build()}return p.prototype.attribute=function(f,c){c?f.add(this.domNode,c)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},p.prototype.build=function(){var f=this;this.attributes={};var c=o.default.keys(this.domNode),d=s.default.keys(this.domNode),g=a.default.keys(this.domNode);c.concat(d).concat(g).forEach(function(v){var b=l.query(v,l.Scope.ATTRIBUTE);b instanceof o.default&&(f.attributes[b.attrName]=b)})},p.prototype.copy=function(f){var c=this;Object.keys(this.attributes).forEach(function(d){var g=c.attributes[d].value(c.domNode);f.format(d,g)})},p.prototype.move=function(f){var c=this;this.copy(f),Object.keys(this.attributes).forEach(function(d){c.attributes[d].remove(c.domNode)}),this.attributes={}},p.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(c,d){return c[d]=f.attributes[d].value(f.domNode),c},{})},p}();n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){u(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(u,p){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(c){return c.indexOf(p+"-")===0})}var l=function(u){o(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},p.prototype.add=function(f,c){return this.canAdd(f,c)?(this.remove(f),f.classList.add(this.keyName+"-"+c),!0):!1},p.prototype.remove=function(f){var c=a(f,this.keyName);c.forEach(function(d){f.classList.remove(d)}),f.classList.length===0&&f.removeAttribute("class")},p.prototype.value=function(f){var c=a(f,this.keyName)[0]||"",d=c.slice(this.keyName.length+1);return this.canAdd(f,d)?d:""},p}(s.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){u(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(12);function a(u){var p=u.split("-"),f=p.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return p[0]+f}var l=function(u){o(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(c){var d=c.split(":");return d[0].trim()})},p.prototype.add=function(f,c){return this.canAdd(f,c)?(f.style[a(this.keyName)]=c,!0):!1},p.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},p.prototype.value=function(f){var c=f.style[a(this.keyName)];return this.canAdd(f,c)?c:""},p}(s.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(u,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,p,f){return p&&l(u.prototype,p),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,p){s(this,l),this.quill=u,this.options=p,this.modules={}}return o(l,[{key:"init",value:function(){var p=this;Object.keys(this.options.modules).forEach(function(f){p.modules[f]==null&&p.addModule(f)})}},{key:"addModule",value:function(p){var f=this.quill.constructor.import("modules/"+p);return this.modules[p]=new f(this.quill,this.options.modules[p]||{}),this.modules[p]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function m(h,w){for(var y=0;y<w.length;y++){var x=w[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,w,y){return w&&m(h.prototype,w),y&&m(h,y),h}}(),s=function m(h,w,y){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,w);if(x===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:m(O,w,y)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(y)}},a=i(0),l=f(a),u=i(7),p=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function c(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function d(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function g(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var v="\uFEFF",b=function(m){g(h,m);function h(w){c(this,h);var y=d(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,w));return y.contentNode=document.createElement("span"),y.contentNode.setAttribute("contenteditable",!1),[].slice.call(y.domNode.childNodes).forEach(function(x){y.contentNode.appendChild(x)}),y.leftGuard=document.createTextNode(v),y.rightGuard=document.createTextNode(v),y.domNode.appendChild(y.leftGuard),y.domNode.appendChild(y.contentNode),y.domNode.appendChild(y.rightGuard),y}return o(h,[{key:"index",value:function(y,x){return y===this.leftGuard?0:y===this.rightGuard?1:s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"index",this).call(this,y,x)}},{key:"restore",value:function(y){var x=void 0,O=void 0,k=y.data.split(v).join("");if(y===this.leftGuard)if(this.prev instanceof p.default){var E=this.prev.length();this.prev.insertAt(E,k),x={startNode:this.prev.domNode,startOffset:E+k.length}}else O=document.createTextNode(k),this.parent.insertBefore(l.default.create(O),this),x={startNode:O,startOffset:k.length};else y===this.rightGuard&&(this.next instanceof p.default?(this.next.insertAt(0,k),x={startNode:this.next.domNode,startOffset:k.length}):(O=document.createTextNode(k),this.parent.insertBefore(l.default.create(O),this.next),x={startNode:O,startOffset:k.length}));return y.data=v,x}},{key:"update",value:function(y,x){var O=this;y.forEach(function(k){if(k.type==="characterData"&&(k.target===O.leftGuard||k.target===O.rightGuard)){var E=O.restore(k.target);E&&(x.range=E)}})}}]),h}(l.default.Embed);n.default=b},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),p=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=p,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),p=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),p=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=p,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var o=function(){function m(h,w){for(var y=0;y<w.length;y++){var x=w[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,w,y){return w&&m(h.prototype,w),y&&m(h,y),h}}(),s=function m(h,w,y){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,w);if(x===void 0){var O=Object.getPrototypeOf(h);return O===null?void 0:m(O,w,y)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(y)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function p(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")}function f(m,h){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:m}function c(m,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);m.prototype=Object.create(h&&h.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(m,h):m.__proto__=h)}var d={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",d),v=function(m){c(h,m);function h(){return p(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return o(h,[{key:"value",value:function(y){return s(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"value",this).call(this,y).replace(/["']/g,"")}}]),h}(l.default.Attributor.Style),b=new v("font","font-family",d);n.FontStyle=b,n.FontClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var o=i(0),s=a(o);function a(p){return p&&p.__esModule?p:{default:p}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var o=function(){function w(y,x){for(var O=0;O<x.length;O++){var k=x[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(y,k.key,k)}}return function(y,x,O){return x&&w(y.prototype,x),O&&w(y,O),y}}(),s=i(0),a=c(s),l=i(5),u=c(l),p=i(9),f=c(p);function c(w){return w&&w.__esModule?w:{default:w}}function d(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function g(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function v(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var b=function(w){v(y,w);function y(x,O){d(this,y);var k=g(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,x,O));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(u.default.events.EDITOR_CHANGE,function(E,P,j,S){E!==u.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||S===u.default.sources.USER?k.record(P,j):k.transform(P))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return o(y,[{key:"change",value:function(O,k){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[k].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],u.default.sources.USER),this.ignoreChange=!1;var P=h(E[O]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,k){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(k),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var j=this.stack.undo.pop();E=E.compose(j.undo),O=j.redo.compose(O)}else this.lastRecorded=P;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(k){k.undo=O.transform(k.undo,!0),k.redo=O.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=O.transform(k.undo,!0),k.redo=O.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),y}(f.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(w){var y=w.ops[w.ops.length-1];return y==null?!1:y.insert!=null?typeof y.insert=="string"&&y.insert.endsWith(`
`):y.attributes!=null?Object.keys(y.attributes).some(function(x){return a.default.query(x,a.default.Scope.BLOCK)!=null}):!1}function h(w){var y=w.reduce(function(O,k){return O+=k.delete||0,O},0),x=w.length()-y;return m(w)&&(x-=1),x}n.default=b,n.getLastChangeIndex=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var o=function(){function I($,z){for(var F=0;F<z.length;F++){var D=z[F];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty($,D.key,D)}}return function($,z,F){return z&&I($.prototype,z),F&&I($,F),$}}(),s=function I($,z,F){$===null&&($=Function.prototype);var D=Object.getOwnPropertyDescriptor($,z);if(D===void 0){var B=Object.getPrototypeOf($);return B===null?void 0:I(B,z,F)}else{if("value"in D)return D.value;var V=D.get;return V===void 0?void 0:V.call(F)}},a=i(3),l=P(a),u=i(2),p=P(u),f=i(8),c=P(f),d=i(23),g=P(d),v=i(34),b=P(v),m=i(59),h=P(m),w=i(60),y=P(w),x=i(28),O=P(x),k=i(61),E=P(k);function P(I){return I&&I.__esModule?I:{default:I}}function j(I,$){if(!(I instanceof $))throw new TypeError("Cannot call a class as a function")}function S(I,$){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:I}function N(I,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);I.prototype=Object.create($&&$.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(I,$):I.__proto__=$)}var A=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],R=[!1,"serif","monospace"],q=["1","2","3",!1],U=["small",!1,"large","huge"],W=function(I){N($,I);function $(z,F){j(this,$);var D=S(this,($.__proto__||Object.getPrototypeOf($)).call(this,z,F)),B=function V(K){if(!document.body.contains(z.root))return document.body.removeEventListener("click",V);D.tooltip!=null&&!D.tooltip.root.contains(K.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(Q){Q.container.contains(K.target)||Q.close()})};return z.emitter.listenDOM("click",document.body,B),D}return o($,[{key:"addModule",value:function(F){var D=s($.prototype.__proto__||Object.getPrototypeOf($.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(F,D){F.forEach(function(B){var V=B.getAttribute("class")||"";V.split(/\s+/).forEach(function(K){if(K.startsWith("ql-")&&(K=K.slice(3),D[K]!=null))if(K==="direction")B.innerHTML=D[K][""]+D[K].rtl;else if(typeof D[K]=="string")B.innerHTML=D[K];else{var Q=B.value||"";Q!=null&&D[K][Q]&&(B.innerHTML=D[K][Q])}})})}},{key:"buildPickers",value:function(F,D){var B=this;this.pickers=F.map(function(K){if(K.classList.contains("ql-align"))return K.querySelector("option")==null&&T(K,A),new y.default(K,D.align);if(K.classList.contains("ql-background")||K.classList.contains("ql-color")){var Q=K.classList.contains("ql-background")?"background":"color";return K.querySelector("option")==null&&T(K,C,Q==="background"?"#ffffff":"#000000"),new h.default(K,D[Q])}else return K.querySelector("option")==null&&(K.classList.contains("ql-font")?T(K,R):K.classList.contains("ql-header")?T(K,q):K.classList.contains("ql-size")&&T(K,U)),new O.default(K)});var V=function(){B.pickers.forEach(function(Q){Q.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,V)}}]),$}(b.default);W.DEFAULTS=(0,l.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var $=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var F=new FileReader;F.onload=function(D){var B=$.quill.getSelection(!0);$.quill.updateContents(new p.default().retain(B.index).delete(B.length).insert({image:D.target.result}),c.default.sources.USER),$.quill.setSelection(B.index+1,c.default.sources.SILENT),z.value=""},F.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(I){N($,I);function $(z,F){j(this,$);var D=S(this,($.__proto__||Object.getPrototypeOf($)).call(this,z,F));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return o($,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(D){g.default.match(D,"enter")?(F.save(),D.preventDefault()):g.default.match(D,"escape")&&(F.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,c.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":F=L(F);case"formula":{if(!F)break;var B=this.quill.getSelection(!0);if(B!=null){var V=B.index+B.length;this.quill.insertEmbed(V,this.root.getAttribute("data-mode"),F,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(V+1," ",c.default.sources.USER),this.quill.setSelection(V+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),$}(E.default);function L(I){var $=I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||I.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return $?($[1]||"https")+"://www.youtube.com/embed/"+$[2]+"?showinfo=0":($=I.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?($[1]||"https")+"://player.vimeo.com/video/"+$[2]+"/":I}function T(I,$){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;$.forEach(function(F){var D=document.createElement("option");F===z?D.setAttribute("selected","selected"):D.setAttribute("value",F),I.appendChild(D)})}n.BaseTooltip=M,n.default=W},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,p=this.iterator();u=p();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var p=this.find(a),f=p[0],c=p[1],d,g=a-c,v=this.iterator(f);(d=v())&&g<a+l;){var b=d.length();a>g?u(d,a-g,Math.min(l,g+b-a)):u(d,0,Math.min(b,a+l-g)),g+=b}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,p=this.iterator();u=p();)l=a(l,u);return l},s}();n.default=o},function(r,n,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var g in d)d.hasOwnProperty(g)&&(c[g]=d[g])};return function(c,d){f(c,d);function g(){this.constructor=c}c.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,p=function(f){o(c,f);function c(d){var g=f.call(this,d)||this;return g.scroll=g,g.observer=new MutationObserver(function(v){g.update(v)}),g.observer.observe(g.domNode,l),g.attach(),g}return c.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(d,g){this.update(),d===0&&g===this.length()?this.children.forEach(function(v){v.remove()}):f.prototype.deleteAt.call(this,d,g)},c.prototype.formatAt=function(d,g,v,b){this.update(),f.prototype.formatAt.call(this,d,g,v,b)},c.prototype.insertAt=function(d,g,v){this.update(),f.prototype.insertAt.call(this,d,g,v)},c.prototype.optimize=function(d,g){var v=this;d===void 0&&(d=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)d.push(b.pop());for(var m=function(x,O){O===void 0&&(O=!0),!(x==null||x===v)&&x.domNode.parentNode!=null&&(x.domNode[a.DATA_KEY].mutations==null&&(x.domNode[a.DATA_KEY].mutations=[]),O&&m(x.parent))},h=function(x){x.domNode[a.DATA_KEY]==null||x.domNode[a.DATA_KEY].mutations==null||(x instanceof s.default&&x.children.forEach(h),x.optimize(g))},w=d,y=0;w.length>0;y+=1){if(y>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(w.forEach(function(x){var O=a.find(x.target,!0);O!=null&&(O.domNode===x.target&&(x.type==="childList"?(m(a.find(x.previousSibling,!1)),[].forEach.call(x.addedNodes,function(k){var E=a.find(k,!1);m(E,!1),E instanceof s.default&&E.children.forEach(function(P){m(P,!1)})})):x.type==="attributes"&&m(O.prev)),m(O))}),this.children.forEach(h),w=[].slice.call(this.observer.takeRecords()),b=w.slice();b.length>0;)d.push(b.pop())}},c.prototype.update=function(d,g){var v=this;g===void 0&&(g={}),d=d||this.observer.takeRecords(),d.map(function(b){var m=a.find(b.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[b],m):(m.domNode[a.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[a.DATA_KEY]==null||b.update(b.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(d,g)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);n.default=p},function(r,n,i){var o=this&&this.__extends||function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var d in c)c.hasOwnProperty(d)&&(f[d]=c[d])};return function(f,c){p(f,c);function d(){this.constructor=f}f.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1);function l(p,f){if(Object.keys(p).length!==Object.keys(f).length)return!1;for(var c in p)if(p[c]!==f[c])return!1;return!0}var u=function(p){o(f,p);function f(){return p!==null&&p.apply(this,arguments)||this}return f.formats=function(c){if(c.tagName!==f.tagName)return p.formats.call(this,c)},f.prototype.format=function(c,d){var g=this;c===this.statics.blotName&&!d?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(f.blotName,!0)),g.attributes.copy(v)}),this.unwrap()):p.prototype.format.call(this,c,d)},f.prototype.formatAt=function(c,d,g,v){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var b=this.isolate(c,d);b.format(g,v)}else p.prototype.formatAt.call(this,c,d,g,v)},f.prototype.optimize=function(c){p.prototype.optimize.call(this,c);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(d,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);n.default=u},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){u(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(p,u);function p(){return u!==null&&u.apply(this,arguments)||this}return p.formats=function(f){var c=a.query(p.blotName).tagName;if(f.tagName!==c)return u.formats.call(this,f)},p.prototype.format=function(f,c){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!c?this.replaceWith(p.blotName):u.prototype.format.call(this,f,c))},p.prototype.formatAt=function(f,c,d,g){a.query(d,a.Scope.BLOCK)!=null?this.format(d,g):u.prototype.formatAt.call(this,f,c,d,g)},p.prototype.insertAt=function(f,c,d){if(d==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,c,d);else{var g=this.split(f),v=a.create(c,d);g.parent.insertBefore(v,g)}},p.prototype.update=function(f,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,c)},p.blotName="block",p.scope=a.Scope.BLOCK_BLOT,p.tagName="P",p}(s.default);n.default=l},function(r,n,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var f in p)p.hasOwnProperty(f)&&(u[f]=p[f])};return function(u,p){l(u,p);function f(){this.constructor=u}u.prototype=p===null?Object.create(p):(f.prototype=p.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(p){},u.prototype.format=function(p,f){l.prototype.formatAt.call(this,0,this.length(),p,f)},u.prototype.formatAt=function(p,f,c,d){p===0&&f===this.length()?this.format(c,d):l.prototype.formatAt.call(this,p,f,c,d)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);n.default=a},function(r,n,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var c in f)f.hasOwnProperty(c)&&(p[c]=f[c])};return function(p,f){u(p,f);function c(){this.constructor=p}p.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(p,u);function p(f){var c=u.call(this,f)||this;return c.text=c.statics.value(c.domNode),c}return p.create=function(f){return document.createTextNode(f)},p.value=function(f){var c=f.data;return c.normalize&&(c=c.normalize()),c},p.prototype.deleteAt=function(f,c){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+c)},p.prototype.index=function(f,c){return this.domNode===f?c:-1},p.prototype.insertAt=function(f,c,d){d==null?(this.text=this.text.slice(0,f)+c+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,c,d)},p.prototype.length=function(){return this.text.length},p.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof p&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},p.prototype.position=function(f,c){return[this.domNode,f]},p.prototype.split=function(f,c){if(c===void 0&&(c=!1),!c){if(f===0)return this;if(f===this.length())return this.next}var d=a.create(this.domNode.splitText(f));return this.parent.insertBefore(d,this.next),this.text=this.statics.value(this.domNode),d},p.prototype.update=function(f,c){var d=this;f.some(function(g){return g.type==="characterData"&&g.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},p.prototype.value=function(){return this.text},p.blotName="text",p.scope=a.Scope.INLINE_BLOT,p}(s.default);n.default=l},function(r,n,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var p=u.indexOf(a,l);return p!==-1&&p===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),p=u.length>>>0,f=arguments[1],c,d=0;d<p;d++)if(c=u[d],l.call(f,c,d,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,o=1,s=0;function a(y,x,O){if(y==x)return y?[[s,y]]:[];(O<0||y.length<O)&&(O=null);var k=f(y,x),E=y.substring(0,k);y=y.substring(k),x=x.substring(k),k=c(y,x);var P=y.substring(y.length-k);y=y.substring(0,y.length-k),x=x.substring(0,x.length-k);var j=l(y,x);return E&&j.unshift([s,E]),P&&j.push([s,P]),g(j),O!=null&&(j=m(j,O)),j=h(j),j}function l(y,x){var O;if(!y)return[[o,x]];if(!x)return[[i,y]];var k=y.length>x.length?y:x,E=y.length>x.length?x:y,P=k.indexOf(E);if(P!=-1)return O=[[o,k.substring(0,P)],[s,E],[o,k.substring(P+E.length)]],y.length>x.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,y],[o,x]];var j=d(y,x);if(j){var S=j[0],N=j[1],A=j[2],C=j[3],R=j[4],q=a(S,A),U=a(N,C);return q.concat([[s,R]],U)}return u(y,x)}function u(y,x){for(var O=y.length,k=x.length,E=Math.ceil((O+k)/2),P=E,j=2*E,S=new Array(j),N=new Array(j),A=0;A<j;A++)S[A]=-1,N[A]=-1;S[P+1]=0,N[P+1]=0;for(var C=O-k,R=C%2!=0,q=0,U=0,W=0,M=0,L=0;L<E;L++){for(var T=-L+q;T<=L-U;T+=2){var I=P+T,$;T==-L||T!=L&&S[I-1]<S[I+1]?$=S[I+1]:$=S[I-1]+1;for(var z=$-T;$<O&&z<k&&y.charAt($)==x.charAt(z);)$++,z++;if(S[I]=$,$>O)U+=2;else if(z>k)q+=2;else if(R){var F=P+C-T;if(F>=0&&F<j&&N[F]!=-1){var D=O-N[F];if($>=D)return p(y,x,$,z)}}}for(var B=-L+W;B<=L-M;B+=2){var F=P+B,D;B==-L||B!=L&&N[F-1]<N[F+1]?D=N[F+1]:D=N[F-1]+1;for(var V=D-B;D<O&&V<k&&y.charAt(O-D-1)==x.charAt(k-V-1);)D++,V++;if(N[F]=D,D>O)M+=2;else if(V>k)W+=2;else if(!R){var I=P+C-B;if(I>=0&&I<j&&S[I]!=-1){var $=S[I],z=P+$-I;if(D=O-D,$>=D)return p(y,x,$,z)}}}}return[[i,y],[o,x]]}function p(y,x,O,k){var E=y.substring(0,O),P=x.substring(0,k),j=y.substring(O),S=x.substring(k),N=a(E,P),A=a(j,S);return N.concat(A)}function f(y,x){if(!y||!x||y.charAt(0)!=x.charAt(0))return 0;for(var O=0,k=Math.min(y.length,x.length),E=k,P=0;O<E;)y.substring(P,E)==x.substring(P,E)?(O=E,P=O):k=E,E=Math.floor((k-O)/2+O);return E}function c(y,x){if(!y||!x||y.charAt(y.length-1)!=x.charAt(x.length-1))return 0;for(var O=0,k=Math.min(y.length,x.length),E=k,P=0;O<E;)y.substring(y.length-E,y.length-P)==x.substring(x.length-E,x.length-P)?(O=E,P=O):k=E,E=Math.floor((k-O)/2+O);return E}function d(y,x){var O=y.length>x.length?y:x,k=y.length>x.length?x:y;if(O.length<4||k.length*2<O.length)return null;function E(U,W,M){for(var L=U.substring(M,M+Math.floor(U.length/4)),T=-1,I="",$,z,F,D;(T=W.indexOf(L,T+1))!=-1;){var B=f(U.substring(M),W.substring(T)),V=c(U.substring(0,M),W.substring(0,T));I.length<V+B&&(I=W.substring(T-V,T)+W.substring(T,T+B),$=U.substring(0,M-V),z=U.substring(M+B),F=W.substring(0,T-V),D=W.substring(T+B))}return I.length*2>=U.length?[$,z,F,D,I]:null}var P=E(O,k,Math.ceil(O.length/4)),j=E(O,k,Math.ceil(O.length/2)),S;if(!P&&!j)return null;j?P?S=P[4].length>j[4].length?P:j:S=j:S=P;var N,A,C,R;y.length>x.length?(N=S[0],A=S[1],C=S[2],R=S[3]):(C=S[0],R=S[1],N=S[2],A=S[3]);var q=S[4];return[N,A,C,R,q]}function g(y){y.push([s,""]);for(var x=0,O=0,k=0,E="",P="",j;x<y.length;)switch(y[x][0]){case o:k++,P+=y[x][1],x++;break;case i:O++,E+=y[x][1],x++;break;case s:O+k>1?(O!==0&&k!==0&&(j=f(P,E),j!==0&&(x-O-k>0&&y[x-O-k-1][0]==s?y[x-O-k-1][1]+=P.substring(0,j):(y.splice(0,0,[s,P.substring(0,j)]),x++),P=P.substring(j),E=E.substring(j)),j=c(P,E),j!==0&&(y[x][1]=P.substring(P.length-j)+y[x][1],P=P.substring(0,P.length-j),E=E.substring(0,E.length-j))),O===0?y.splice(x-k,O+k,[o,P]):k===0?y.splice(x-O,O+k,[i,E]):y.splice(x-O-k,O+k,[i,E],[o,P]),x=x-O-k+(O?1:0)+(k?1:0)+1):x!==0&&y[x-1][0]==s?(y[x-1][1]+=y[x][1],y.splice(x,1)):x++,k=0,O=0,E="",P="";break}y[y.length-1][1]===""&&y.pop();var S=!1;for(x=1;x<y.length-1;)y[x-1][0]==s&&y[x+1][0]==s&&(y[x][1].substring(y[x][1].length-y[x-1][1].length)==y[x-1][1]?(y[x][1]=y[x-1][1]+y[x][1].substring(0,y[x][1].length-y[x-1][1].length),y[x+1][1]=y[x-1][1]+y[x+1][1],y.splice(x-1,1),S=!0):y[x][1].substring(0,y[x+1][1].length)==y[x+1][1]&&(y[x-1][1]+=y[x+1][1],y[x][1]=y[x][1].substring(y[x+1][1].length)+y[x+1][1],y.splice(x+1,1),S=!0)),x++;S&&g(y)}var v=a;v.INSERT=o,v.DELETE=i,v.EQUAL=s,r.exports=v;function b(y,x){if(x===0)return[s,y];for(var O=0,k=0;k<y.length;k++){var E=y[k];if(E[0]===i||E[0]===s){var P=O+E[1].length;if(x===P)return[k+1,y];if(x<P){y=y.slice();var j=x-O,S=[E[0],E[1].slice(0,j)],N=[E[0],E[1].slice(j)];return y.splice(k,1,S,N),[k+1,y]}else O=P}}throw new Error("cursor_pos is out of bounds!")}function m(y,x){var O=b(y,x),k=O[1],E=O[0],P=k[E],j=k[E+1];if(P==null)return y;if(P[0]!==s)return y;if(j!=null&&P[1]+j[1]===j[1]+P[1])return k.splice(E,2,j,P),w(k,E,2);if(j!=null&&j[1].indexOf(P[1])===0){k.splice(E,2,[j[0],P[1]],[0,P[1]]);var S=j[1].slice(P[1].length);return S.length>0&&k.splice(E+2,0,[j[0],S]),w(k,E,3)}else return y}function h(y){for(var x=!1,O=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},k=function(j){return j.charCodeAt(j.length-1)>=55296&&j.charCodeAt(j.length-1)<=56319},E=2;E<y.length;E+=1)y[E-2][0]===s&&k(y[E-2][1])&&y[E-1][0]===i&&O(y[E-1][1])&&y[E][0]===o&&O(y[E][1])&&(x=!0,y[E-1][1]=y[E-2][1].slice(-1)+y[E-1][1],y[E][1]=y[E-2][1].slice(-1)+y[E][1],y[E-2][1]=y[E-2][1].slice(0,-1));if(!x)return y;for(var P=[],E=0;E<y.length;E+=1)y[E][1].length>0&&P.push(y[E]);return P}function w(y,x,O){for(var k=x+O-1;k>=0&&k>=x-1;k--)if(k+1<y.length){var E=y[k],P=y[k+1];E[0]===P[1]&&y.splice(k,2,[E[0],E[1]+P[1]])}return y}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?o:s,n.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}n.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,p,f){this.fn=u,this.context=p,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var p=[],f,c;if(this._eventsCount===0)return p;for(c in f=this._events)i.call(f,c)&&p.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},l.prototype.listeners=function(p,f){var c=o?o+p:p,d=this._events[c];if(f)return!!d;if(!d)return[];if(d.fn)return[d.fn];for(var g=0,v=d.length,b=new Array(v);g<v;g++)b[g]=d[g].fn;return b},l.prototype.emit=function(p,f,c,d,g,v){var b=o?o+p:p;if(!this._events[b])return!1;var m=this._events[b],h=arguments.length,w,y;if(m.fn){switch(m.once&&this.removeListener(p,m.fn,void 0,!0),h){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,c),!0;case 4:return m.fn.call(m.context,f,c,d),!0;case 5:return m.fn.call(m.context,f,c,d,g),!0;case 6:return m.fn.call(m.context,f,c,d,g,v),!0}for(y=1,w=new Array(h-1);y<h;y++)w[y-1]=arguments[y];m.fn.apply(m.context,w)}else{var x=m.length,O;for(y=0;y<x;y++)switch(m[y].once&&this.removeListener(p,m[y].fn,void 0,!0),h){case 1:m[y].fn.call(m[y].context);break;case 2:m[y].fn.call(m[y].context,f);break;case 3:m[y].fn.call(m[y].context,f,c);break;case 4:m[y].fn.call(m[y].context,f,c,d);break;default:if(!w)for(O=1,w=new Array(h-1);O<h;O++)w[O-1]=arguments[O];m[y].fn.apply(m[y].context,w)}}return!0},l.prototype.on=function(p,f,c){var d=new a(f,c||this),g=o?o+p:p;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},l.prototype.once=function(p,f,c){var d=new a(f,c||this,!0),g=o?o+p:p;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],d]:this._events[g].push(d):(this._events[g]=d,this._eventsCount++),this},l.prototype.removeListener=function(p,f,c,d){var g=o?o+p:p;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var v=this._events[g];if(v.fn)v.fn===f&&(!d||v.once)&&(!c||v.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var b=0,m=[],h=v.length;b<h;b++)(v[b].fn!==f||d&&!v[b].once||c&&v[b].context!==c)&&m.push(v[b]);m.length?this._events[g]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},l.prototype.removeAllListeners=function(p){var f;return p?(f=o?o+p:p,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(Y,Z){var ee=[],J=!0,ue=!1,ce=void 0;try{for(var fe=Y[Symbol.iterator](),_t;!(J=(_t=fe.next()).done)&&(ee.push(_t.value),!(Z&&ee.length===Z));J=!0);}catch(Wt){ue=!0,ce=Wt}finally{try{!J&&fe.return&&fe.return()}finally{if(ue)throw ce}}return ee}return function(Y,Z){if(Array.isArray(Y))return Y;if(Symbol.iterator in Object(Y))return G(Y,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(Y,Z){for(var ee=0;ee<Z.length;ee++){var J=Z[ee];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Y,J.key,J)}}return function(Y,Z,ee){return Z&&G(Y.prototype,Z),ee&&G(Y,ee),Y}}(),l=i(3),u=N(l),p=i(2),f=N(p),c=i(0),d=N(c),g=i(5),v=N(g),b=i(10),m=N(b),h=i(9),w=N(h),y=i(36),x=i(37),O=i(13),k=N(O),E=i(26),P=i(38),j=i(39),S=i(40);function N(G){return G&&G.__esModule?G:{default:G}}function A(G,Y,Z){return Y in G?Object.defineProperty(G,Y,{value:Z,enumerable:!0,configurable:!0,writable:!0}):G[Y]=Z,G}function C(G,Y){if(!(G instanceof Y))throw new TypeError("Cannot call a class as a function")}function R(G,Y){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y&&(typeof Y=="object"||typeof Y=="function")?Y:G}function q(G,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Y);G.prototype=Object.create(Y&&Y.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(G,Y):G.__proto__=Y)}var U=(0,m.default)("quill:clipboard"),W="__ql-matcher",M=[[Node.TEXT_NODE,Me],[Node.TEXT_NODE,he],["br",ne],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,nt],["li",le],["b",V.bind(V,"bold")],["i",V.bind(V,"italic")],["style",se]],L=[y.AlignAttribute,P.DirectionAttribute].reduce(function(G,Y){return G[Y.keyName]=Y,G},{}),T=[y.AlignStyle,x.BackgroundStyle,E.ColorStyle,P.DirectionStyle,j.FontStyle,S.SizeStyle].reduce(function(G,Y){return G[Y.keyName]=Y,G},{}),I=function(G){q(Y,G);function Y(Z,ee){C(this,Y);var J=R(this,(Y.__proto__||Object.getPrototypeOf(Y)).call(this,Z,ee));return J.quill.root.addEventListener("paste",J.onPaste.bind(J)),J.container=J.quill.addContainer("ql-clipboard"),J.container.setAttribute("contenteditable",!0),J.container.setAttribute("tabindex",-1),J.matchers=[],M.concat(J.options.matchers).forEach(function(ue){var ce=s(ue,2),fe=ce[0],_t=ce[1];!ee.matchVisual&&_t===ve||J.addMatcher(fe,_t)}),J}return a(Y,[{key:"addMatcher",value:function(ee,J){this.matchers.push([ee,J])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var J=this.quill.getFormat(this.quill.selection.savedRange.index);if(J[k.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ue,A({},k.default.blotName,J[k.default.blotName]))}var ce=this.prepareMatching(),fe=s(ce,2),_t=fe[0],Wt=fe[1],Oe=B(this.container,_t,Wt);return F(Oe,`
`)&&Oe.ops[Oe.ops.length-1].attributes==null&&(Oe=Oe.compose(new f.default().retain(Oe.length()-1).delete(1))),U.log("convert",this.container.innerHTML,Oe),this.container.innerHTML="",Oe}},{key:"dangerouslyPasteHTML",value:function(ee,J){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),J),this.quill.setSelection(0,v.default.sources.SILENT);else{var ce=this.convert(J);this.quill.updateContents(new f.default().retain(ee).concat(ce),ue),this.quill.setSelection(ee+ce.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var J=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ue=this.quill.getSelection(),ce=new f.default().retain(ue.index),fe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){ce=ce.concat(J.convert()).delete(ue.length),J.quill.updateContents(ce,v.default.sources.USER),J.quill.setSelection(ce.length()-ue.length,v.default.sources.SILENT),J.quill.scrollingContainer.scrollTop=fe,J.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,J=[],ue=[];return this.matchers.forEach(function(ce){var fe=s(ce,2),_t=fe[0],Wt=fe[1];switch(_t){case Node.TEXT_NODE:ue.push(Wt);break;case Node.ELEMENT_NODE:J.push(Wt);break;default:[].forEach.call(ee.container.querySelectorAll(_t),function(Oe){Oe[W]=Oe[W]||[],Oe[W].push(Wt)});break}}),[J,ue]}}]),Y}(w.default);I.DEFAULTS={matchers:[],matchVisual:!0};function $(G,Y,Z){return(typeof Y>"u"?"undefined":o(Y))==="object"?Object.keys(Y).reduce(function(ee,J){return $(ee,J,Y[J])},G):G.reduce(function(ee,J){return J.attributes&&J.attributes[Y]?ee.push(J):ee.insert(J.insert,(0,u.default)({},A({},Y,Z),J.attributes))},new f.default)}function z(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var Y="__ql-computed-style";return G[Y]||(G[Y]=window.getComputedStyle(G))}function F(G,Y){for(var Z="",ee=G.ops.length-1;ee>=0&&Z.length<Y.length;--ee){var J=G.ops[ee];if(typeof J.insert!="string")break;Z=J.insert+Z}return Z.slice(-1*Y.length)===Y}function D(G){if(G.childNodes.length===0)return!1;var Y=z(G);return["block","list-item"].indexOf(Y.display)>-1}function B(G,Y,Z){return G.nodeType===G.TEXT_NODE?Z.reduce(function(ee,J){return J(G,ee)},new f.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(ee,J){var ue=B(J,Y,Z);return J.nodeType===G.ELEMENT_NODE&&(ue=Y.reduce(function(ce,fe){return fe(J,ce)},ue),ue=(J[W]||[]).reduce(function(ce,fe){return fe(J,ce)},ue)),ee.concat(ue)},new f.default):new f.default}function V(G,Y,Z){return $(Z,G,!0)}function K(G,Y){var Z=d.default.Attributor.Attribute.keys(G),ee=d.default.Attributor.Class.keys(G),J=d.default.Attributor.Style.keys(G),ue={};return Z.concat(ee).concat(J).forEach(function(ce){var fe=d.default.query(ce,d.default.Scope.ATTRIBUTE);fe!=null&&(ue[fe.attrName]=fe.value(G),ue[fe.attrName])||(fe=L[ce],fe!=null&&(fe.attrName===ce||fe.keyName===ce)&&(ue[fe.attrName]=fe.value(G)||void 0),fe=T[ce],fe!=null&&(fe.attrName===ce||fe.keyName===ce)&&(fe=T[ce],ue[fe.attrName]=fe.value(G)||void 0))}),Object.keys(ue).length>0&&(Y=$(Y,ue)),Y}function Q(G,Y){var Z=d.default.query(G);if(Z==null)return Y;if(Z.prototype instanceof d.default.Embed){var ee={},J=Z.value(G);J!=null&&(ee[Z.blotName]=J,Y=new f.default().insert(ee,Z.formats(G)))}else typeof Z.formats=="function"&&(Y=$(Y,Z.blotName,Z.formats(G)));return Y}function ne(G,Y){return F(Y,`
`)||Y.insert(`
`),Y}function se(){return new f.default}function le(G,Y){var Z=d.default.query(G);if(Z==null||Z.blotName!=="list-item"||!F(Y,`
`))return Y;for(var ee=-1,J=G.parentNode;!J.classList.contains("ql-clipboard");)(d.default.query(J)||{}).blotName==="list"&&(ee+=1),J=J.parentNode;return ee<=0?Y:Y.compose(new f.default().retain(Y.length()-1).retain(1,{indent:ee}))}function he(G,Y){return F(Y,`
`)||(D(G)||Y.length()>0&&G.nextSibling&&D(G.nextSibling))&&Y.insert(`
`),Y}function ve(G,Y){if(D(G)&&G.nextElementSibling!=null&&!F(Y,`

`)){var Z=G.offsetHeight+parseFloat(z(G).marginTop)+parseFloat(z(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+Z*1.5&&Y.insert(`
`)}return Y}function nt(G,Y){var Z={},ee=G.style||{};return ee.fontStyle&&z(G).fontStyle==="italic"&&(Z.italic=!0),ee.fontWeight&&(z(G).fontWeight.startsWith("bold")||parseInt(z(G).fontWeight)>=700)&&(Z.bold=!0),Object.keys(Z).length>0&&(Y=$(Y,Z)),parseFloat(ee.textIndent||0)>0&&(Y=new f.default().insert("	").concat(Y)),Y}function Me(G,Y){var Z=G.data;if(G.parentNode.tagName==="O:P")return Y.insert(Z.trim());if(Z.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return Y;if(!z(G.parentNode).whiteSpace.startsWith("pre")){var ee=function(ue,ce){return ce=ce.replace(/[^\u00a0]/g,""),ce.length<1&&ue?" ":ce};Z=Z.replace(/\r\n/g," ").replace(/\n/g," "),Z=Z.replace(/\s\s+/g,ee.bind(ee,!0)),(G.previousSibling==null&&D(G.parentNode)||G.previousSibling!=null&&D(G.previousSibling))&&(Z=Z.replace(/^\s+/,ee.bind(ee,!1))),(G.nextSibling==null&&D(G.parentNode)||G.nextSibling!=null&&D(G.nextSibling))&&(Z=Z.replace(/\s+$/,ee.bind(ee,!1)))}return Y.insert(Z)}n.default=I,n.matchAttributor=K,n.matchBlot=Q,n.matchNewline=he,n.matchSpacing=ve,n.matchText=Me},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,b){for(var m=0;m<b.length;m++){var h=b[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,b,m){return b&&g(v.prototype,b),m&&g(v,m),v}}(),s=function g(v,b,m){v===null&&(v=Function.prototype);var h=Object.getOwnPropertyDescriptor(v,b);if(h===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,m)}else{if("value"in h)return h.value;var y=h.get;return y===void 0?void 0:y.call(m)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(){return p(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"optimize",value:function(m){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(l.default);d.blotName="bold",d.tagName=["STRONG","B"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var o=function(){function S(N,A){var C=[],R=!0,q=!1,U=void 0;try{for(var W=N[Symbol.iterator](),M;!(R=(M=W.next()).done)&&(C.push(M.value),!(A&&C.length===A));R=!0);}catch(L){q=!0,U=L}finally{try{!R&&W.return&&W.return()}finally{if(q)throw U}}return C}return function(N,A){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return S(N,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function S(N,A){for(var C=0;C<A.length;C++){var R=A[C];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(N,R.key,R)}}return function(N,A,C){return A&&S(N.prototype,A),C&&S(N,C),N}}(),a=i(2),l=m(a),u=i(0),p=m(u),f=i(5),c=m(f),d=i(10),g=m(d),v=i(9),b=m(v);function m(S){return S&&S.__esModule?S:{default:S}}function h(S,N,A){return N in S?Object.defineProperty(S,N,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[N]=A,S}function w(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function y(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function x(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var O=(0,g.default)("quill:toolbar"),k=function(S){x(N,S);function N(A,C){w(this,N);var R=y(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,A,C));if(Array.isArray(R.options.container)){var q=document.createElement("div");P(q,R.options.container),A.container.parentNode.insertBefore(q,A.container),R.container=q}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;if(!(R.container instanceof HTMLElement)){var U;return U=O.error("Container required for toolbar",R.options),y(R,U)}return R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(W){R.addHandler(W,R.options.handlers[W])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(W){R.attach(W)}),R.quill.on(c.default.events.EDITOR_CHANGE,function(W,M){W===c.default.events.SELECTION_CHANGE&&R.update(M)}),R.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var W=R.quill.selection.getRange(),M=o(W,1),L=M[0];R.update(L)}),R}return s(N,[{key:"addHandler",value:function(C,R){this.handlers[C]=R}},{key:"attach",value:function(C){var R=this,q=[].find.call(C.classList,function(W){return W.indexOf("ql-")===0});if(q){if(q=q.slice(3),C.tagName==="BUTTON"&&C.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null){O.warn("ignoring attaching to disabled format",q,C);return}if(p.default.query(q)==null){O.warn("ignoring attaching to nonexistent format",q,C);return}}var U=C.tagName==="SELECT"?"change":"click";C.addEventListener(U,function(W){var M=void 0;if(C.tagName==="SELECT"){if(C.selectedIndex<0)return;var L=C.options[C.selectedIndex];L.hasAttribute("selected")?M=!1:M=L.value||!1}else C.classList.contains("ql-active")?M=!1:M=C.value||!C.hasAttribute("value"),W.preventDefault();R.quill.focus();var T=R.quill.selection.getRange(),I=o(T,1),$=I[0];if(R.handlers[q]!=null)R.handlers[q].call(R,M);else if(p.default.query(q).prototype instanceof p.default.Embed){if(M=prompt("Enter "+q),!M)return;R.quill.updateContents(new l.default().retain($.index).delete($.length).insert(h({},q,M)),c.default.sources.USER)}else R.quill.format(q,M,c.default.sources.USER);R.update($)}),this.controls.push([q,C])}}},{key:"update",value:function(C){var R=C==null?{}:this.quill.getFormat(C);this.controls.forEach(function(q){var U=o(q,2),W=U[0],M=U[1];if(M.tagName==="SELECT"){var L=void 0;if(C==null)L=null;else if(R[W]==null)L=M.querySelector("option[selected]");else if(!Array.isArray(R[W])){var T=R[W];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),L=M.querySelector('option[value="'+T+'"]')}L==null?(M.value="",M.selectedIndex=-1):L.selected=!0}else if(C==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var I=R[W]===M.getAttribute("value")||R[W]!=null&&R[W].toString()===M.getAttribute("value")||R[W]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",I)}else M.classList.toggle("ql-active",R[W]!=null)})}}]),N}(b.default);k.DEFAULTS={};function E(S,N,A){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+N),A!=null&&(C.value=A),S.appendChild(C)}function P(S,N){Array.isArray(N[0])||(N=[N]),N.forEach(function(A){var C=document.createElement("span");C.classList.add("ql-formats"),A.forEach(function(R){if(typeof R=="string")E(C,R);else{var q=Object.keys(R)[0],U=R[q];Array.isArray(U)?j(C,q,U):E(C,q,U)}}),S.appendChild(C)})}function j(S,N,A){var C=document.createElement("select");C.classList.add("ql-"+N),A.forEach(function(R){var q=document.createElement("option");R!==!1?q.setAttribute("value",R):q.setAttribute("selected","selected"),C.appendChild(q)}),S.appendChild(C)}k.DEFAULTS={container:null,handlers:{clean:function(){var N=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var C=this.quill.getFormat();Object.keys(C).forEach(function(R){p.default.query(R,p.default.Scope.INLINE)!=null&&N.quill.format(R,!1)})}else this.quill.removeFormat(A,c.default.sources.USER)},direction:function(N){var A=this.quill.getFormat().align;N==="rtl"&&A==null?this.quill.format("align","right",c.default.sources.USER):!N&&A==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",N,c.default.sources.USER)},indent:function(N){var A=this.quill.getSelection(),C=this.quill.getFormat(A),R=parseInt(C.indent||0);if(N==="+1"||N==="-1"){var q=N==="+1"?1:-1;C.direction==="rtl"&&(q*=-1),this.quill.format("indent",R+q,c.default.sources.USER)}},link:function(N){N===!0&&(N=prompt("Enter link URL:")),this.quill.format("link",N,c.default.sources.USER)},list:function(N){var A=this.quill.getSelection(),C=this.quill.getFormat(A);N==="check"?C.list==="checked"||C.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",N,c.default.sources.USER)}}},n.default=k,n.addControls=P},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,b){for(var m=0;m<b.length;m++){var h=b[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,b,m){return b&&g(v.prototype,b),m&&g(v,m),v}}(),s=function g(v,b,m){v===null&&(v=Function.prototype);var h=Object.getOwnPropertyDescriptor(v,b);if(h===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,m)}else{if("value"in h)return h.value;var y=h.get;return y===void 0?void 0:y.call(m)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(b,m){p(this,v);var h=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return h.label.innerHTML=m,h.container.classList.add("ql-color-picker"),[].slice.call(h.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(w){w.classList.add("ql-primary")}),h}return o(v,[{key:"buildItem",value:function(m){var h=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,m);return h.style.backgroundColor=m.getAttribute("value")||"",h}},{key:"selectItem",value:function(m,h){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,h);var w=this.label.querySelector(".ql-color-label"),y=m&&m.getAttribute("data-value")||"";w&&(w.tagName==="line"?w.style.stroke=y:w.style.fill=y)}}]),v}(l.default);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,b){for(var m=0;m<b.length;m++){var h=b[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,b,m){return b&&g(v.prototype,b),m&&g(v,m),v}}(),s=function g(v,b,m){v===null&&(v=Function.prototype);var h=Object.getOwnPropertyDescriptor(v,b);if(h===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,m)}else{if("value"in h)return h.value;var y=h.get;return y===void 0?void 0:y.call(m)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(b,m){p(this,v);var h=f(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return h.container.classList.add("ql-icon-picker"),[].forEach.call(h.container.querySelectorAll(".ql-picker-item"),function(w){w.innerHTML=m[w.getAttribute("data-value")||""]}),h.defaultItem=h.container.querySelector(".ql-selected"),h.selectItem(h.defaultItem),h}return o(v,[{key:"selectItem",value:function(m,h){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,m,h),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),v}(l.default);n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function l(u,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,p,f){return p&&l(u.prototype,p),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,p){var f=this;s(this,l),this.quill=u,this.boundsContainer=p||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(p){var f=p.left+p.width/2-this.root.offsetWidth/2,c=p.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var d=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),v=0;if(g.right>d.right&&(v=d.right-g.right,this.root.style.left=f+v+"px"),g.left<d.left&&(v=d.left-g.left,this.root.style.left=f+v+"px"),g.bottom>d.bottom){var b=g.bottom-g.top,m=p.bottom-p.top+b;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=a},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function j(S,N){var A=[],C=!0,R=!1,q=void 0;try{for(var U=S[Symbol.iterator](),W;!(C=(W=U.next()).done)&&(A.push(W.value),!(N&&A.length===N));C=!0);}catch(M){R=!0,q=M}finally{try{!C&&U.return&&U.return()}finally{if(R)throw q}}return A}return function(S,N){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return j(S,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function j(S,N,A){S===null&&(S=Function.prototype);var C=Object.getOwnPropertyDescriptor(S,N);if(C===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:j(R,N,A)}else{if("value"in C)return C.value;var q=C.get;return q===void 0?void 0:q.call(A)}},a=function(){function j(S,N){for(var A=0;A<N.length;A++){var C=N[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(S,C.key,C)}}return function(S,N,A){return N&&j(S.prototype,N),A&&j(S,A),S}}(),l=i(3),u=w(l),p=i(8),f=w(p),c=i(43),d=w(c),g=i(27),v=w(g),b=i(15),m=i(41),h=w(m);function w(j){return j&&j.__esModule?j:{default:j}}function y(j,S){if(!(j instanceof S))throw new TypeError("Cannot call a class as a function")}function x(j,S){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:j}function O(j,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);j.prototype=Object.create(S&&S.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(j,S):j.__proto__=S)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(j){O(S,j);function S(N,A){y(this,S),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=k);var C=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,A));return C.quill.container.classList.add("ql-snow"),C}return a(S,[{key:"extendToolbar",value:function(A){A.container.classList.add("ql-snow"),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),h.default),this.tooltip=new P(this.quill,this.options.bounds),A.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,R){A.handlers.link.call(A,!R.format.link)})}}]),S}(d.default);E.DEFAULTS=(0,u.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(S){if(S){var N=this.quill.getSelection();if(N==null||N.length==0)return;var A=this.quill.getText(N);/^\S+@\S+\.\S+$/.test(A)&&A.indexOf("mailto:")!==0&&(A="mailto:"+A);var C=this.quill.theme.tooltip;C.edit("link",A)}else this.quill.format("link",!1)}}}}});var P=function(j){O(S,j);function S(N,A){y(this,S);var C=x(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,A));return C.preview=C.root.querySelector("a.ql-preview"),C}return a(S,[{key:"listen",value:function(){var A=this;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){A.root.classList.contains("ql-editing")?A.save():A.edit("link",A.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(A.linkRange!=null){var R=A.linkRange;A.restoreFocus(),A.quill.formatText(R,"link",!1,f.default.sources.USER),delete A.linkRange}C.preventDefault(),A.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(C,R,q){if(C!=null){if(C.length===0&&q===f.default.sources.USER){var U=A.quill.scroll.descendant(v.default,C.index),W=o(U,2),M=W[0],L=W[1];if(M!=null){A.linkRange=new b.Range(C.index-L,M.length());var T=v.default.formats(M.domNode);A.preview.textContent=T,A.preview.setAttribute("href",T),A.show(),A.position(A.quill.getBounds(A.linkRange));return}}else delete A.linkRange;A.hide()}})}},{key:"show",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),S}(c.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(29),s=J(o),a=i(36),l=i(38),u=i(64),p=i(65),f=J(p),c=i(66),d=J(c),g=i(67),v=J(g),b=i(37),m=i(26),h=i(39),w=i(40),y=i(56),x=J(y),O=i(68),k=J(O),E=i(27),P=J(E),j=i(69),S=J(j),N=i(70),A=J(N),C=i(71),R=J(C),q=i(72),U=J(q),W=i(73),M=J(W),L=i(13),T=J(L),I=i(74),$=J(I),z=i(75),F=J(z),D=i(57),B=J(D),V=i(41),K=J(V),Q=i(28),ne=J(Q),se=i(59),le=J(se),he=i(60),ve=J(he),nt=i(61),Me=J(nt),G=i(108),Y=J(G),Z=i(62),ee=J(Z);function J(ue){return ue&&ue.__esModule?ue:{default:ue}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":w.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":w.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":h.FontClass,"formats/size":w.SizeClass,"formats/blockquote":f.default,"formats/code-block":T.default,"formats/header":d.default,"formats/list":v.default,"formats/bold":x.default,"formats/code":L.Code,"formats/italic":k.default,"formats/link":P.default,"formats/script":S.default,"formats/strike":A.default,"formats/underline":R.default,"formats/image":U.default,"formats/video":M.default,"formats/list/item":g.ListItem,"modules/formula":$.default,"modules/syntax":F.default,"modules/toolbar":B.default,"themes/bubble":Y.default,"themes/snow":ee.default,"ui/icons":K.default,"ui/picker":ne.default,"ui/icon-picker":ve.default,"ui/color-picker":le.default,"ui/tooltip":Me.default},!0),n.default=s.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var o=function(){function v(b,m){for(var h=0;h<m.length;h++){var w=m[h];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(b,w.key,w)}}return function(b,m,h){return m&&v(b.prototype,m),h&&v(b,h),b}}(),s=function v(b,m,h){b===null&&(b=Function.prototype);var w=Object.getOwnPropertyDescriptor(b,m);if(w===void 0){var y=Object.getPrototypeOf(b);return y===null?void 0:v(y,m,h)}else{if("value"in w)return w.value;var x=w.get;return x===void 0?void 0:x.call(h)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function p(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function f(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function c(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var d=function(v){c(b,v);function b(){return p(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"add",value:function(h,w){if(w==="+1"||w==="-1"){var y=this.value(h)||0;w=w==="+1"?y+1:y-1}return w===0?(this.remove(h),!0):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,h,w)}},{key:"canAdd",value:function(h,w){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,h,w)||s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,h,parseInt(w))}},{key:"value",value:function(h){return parseInt(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,h))||void 0}}]),b}(l.default.Attributor.Class),g=new d("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function p(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){p(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function d(g,v){for(var b=0;b<v.length;b++){var m=v[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(g,m.key,m)}}return function(g,v,b){return v&&d(g.prototype,v),b&&d(g,b),g}}(),s=i(4),a=l(s);function l(d){return d&&d.__esModule?d:{default:d}}function u(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function p(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:d}function f(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}var c=function(d){f(g,d);function g(){return u(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),g}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],n.default=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var o=function(){function y(x,O){for(var k=0;k<O.length;k++){var E=O[k];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(x,E.key,E)}}return function(x,O,k){return O&&y(x.prototype,O),k&&y(x,k),x}}(),s=function y(x,O,k){x===null&&(x=Function.prototype);var E=Object.getOwnPropertyDescriptor(x,O);if(E===void 0){var P=Object.getPrototypeOf(x);return P===null?void 0:y(P,O,k)}else{if("value"in E)return E.value;var j=E.get;return j===void 0?void 0:j.call(k)}},a=i(0),l=d(a),u=i(4),p=d(u),f=i(25),c=d(f);function d(y){return y&&y.__esModule?y:{default:y}}function g(y,x,O){return x in y?Object.defineProperty(y,x,{value:O,enumerable:!0,configurable:!0,writable:!0}):y[x]=O,y}function v(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function b(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function m(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var h=function(y){m(x,y);function x(){return v(this,x),b(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,[{key:"format",value:function(k,E){k===w.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"format",this).call(this,k,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,E){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,E),this):(this.parent.unwrap(),s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,k,E))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:s(x.__proto__||Object.getPrototypeOf(x),"formats",this).call(this,k)}}]),x}(p.default);h.blotName="list-item",h.tagName="LI";var w=function(y){m(x,y),o(x,null,[{key:"create",value:function(k){var E=k==="ordered"?"OL":"UL",P=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,E);return(k==="checked"||k==="unchecked")&&P.setAttribute("data-checked",k==="checked"),P}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function x(O){v(this,x);var k=b(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,O)),E=function(j){if(j.target.parentNode===O){var S=k.statics.formats(O),N=l.default.find(j.target);S==="checked"?N.format("list","unchecked"):S==="unchecked"&&N.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),k}return o(x,[{key:"format",value:function(k,E){this.children.length>0&&this.children.tail.format(k,E)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,E){if(k instanceof h)s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"insertBefore",this).call(this,k,E);else{var P=E==null?this.length():E.offset(this),j=this.split(P);j.parent.insertBefore(k,j)}}},{key:"optimize",value:function(k){s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"optimize",this).call(this,k);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);k.moveChildren(E),this.appendChild(E)}s(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replace",this).call(this,k)}}]),x}(c.default);w.blotName="list",w.scope=l.default.Scope.BLOCK_BLOT,w.tagName=["OL","UL"],w.defaultChild="list-item",w.allowedChildren=[h],n.ListItem=h,n.default=w},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function p(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){p(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function g(v,b){for(var m=0;m<b.length;m++){var h=b[m];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,b,m){return b&&g(v.prototype,b),m&&g(v,m),v}}(),s=function g(v,b,m){v===null&&(v=Function.prototype);var h=Object.getOwnPropertyDescriptor(v,b);if(h===void 0){var w=Object.getPrototypeOf(v);return w===null?void 0:g(w,b,m)}else{if("value"in h)return h.value;var y=h.get;return y===void 0?void 0:y.call(m)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function p(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function f(g,v){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:g}function c(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(g,v):g.__proto__=v)}var d=function(g){c(v,g);function v(){return p(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),v}(l.default);d.blotName="script",d.tagName=["SUB","SUP"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function p(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){p(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function u(c,d){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d&&(typeof d=="object"||typeof d=="function")?d:c}function p(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(c,d):c.__proto__=d)}var f=function(c){p(d,c);function d(){return l(this,d),u(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return d}(s.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(m,h){for(var w=0;w<h.length;w++){var y=h[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,w){return h&&b(m.prototype,h),w&&b(m,w),m}}(),s=function b(m,h,w){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,h);if(y===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:b(x,h,w)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(w)}},a=i(0),l=p(a),u=i(27);function p(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function c(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function d(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var g=["alt","height","width"],v=function(b){d(m,b);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,y){g.indexOf(w)>-1?y?this.domNode.setAttribute(w,y):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,y)}}],[{key:"create",value:function(w){var y=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return typeof w=="string"&&y.setAttribute("src",this.sanitize(w)),y}},{key:"formats",value:function(w){return g.reduce(function(y,x){return w.hasAttribute(x)&&(y[x]=w.getAttribute(x)),y},{})}},{key:"match",value:function(w){return/\.(jpe?g|gif|png)$/.test(w)||/^data:image\/.+;base64/.test(w)}},{key:"sanitize",value:function(w){return(0,u.sanitize)(w,["http","https","data"])?w:"//:0"}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(l.default.Embed);v.blotName="image",v.tagName="IMG",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function b(m,h){for(var w=0;w<h.length;w++){var y=h[w];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(m,y.key,y)}}return function(m,h,w){return h&&b(m.prototype,h),w&&b(m,w),m}}(),s=function b(m,h,w){m===null&&(m=Function.prototype);var y=Object.getOwnPropertyDescriptor(m,h);if(y===void 0){var x=Object.getPrototypeOf(m);return x===null?void 0:b(x,h,w)}else{if("value"in y)return y.value;var O=y.get;return O===void 0?void 0:O.call(w)}},a=i(4),l=i(27),u=p(l);function p(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function c(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function d(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var g=["height","width"],v=function(b){d(m,b);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(w,y){g.indexOf(w)>-1?y?this.domNode.setAttribute(w,y):this.domNode.removeAttribute(w):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,w,y)}}],[{key:"create",value:function(w){var y=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,w);return y.setAttribute("frameborder","0"),y.setAttribute("allowfullscreen",!0),y.setAttribute("src",this.sanitize(w)),y}},{key:"formats",value:function(w){return g.reduce(function(y,x){return w.hasAttribute(x)&&(y[x]=w.getAttribute(x)),y},{})}},{key:"sanitize",value:function(w){return u.default.sanitize(w)}},{key:"value",value:function(w){return w.getAttribute("src")}}]),m}(a.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",n.default=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var o=function(){function w(y,x){for(var O=0;O<x.length;O++){var k=x[O];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(y,k.key,k)}}return function(y,x,O){return x&&w(y.prototype,x),O&&w(y,O),y}}(),s=function w(y,x,O){y===null&&(y=Function.prototype);var k=Object.getOwnPropertyDescriptor(y,x);if(k===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:w(E,x,O)}else{if("value"in k)return k.value;var P=k.get;return P===void 0?void 0:P.call(O)}},a=i(35),l=d(a),u=i(5),p=d(u),f=i(9),c=d(f);function d(w){return w&&w.__esModule?w:{default:w}}function g(w,y){if(!(w instanceof y))throw new TypeError("Cannot call a class as a function")}function v(w,y){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:w}function b(w,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);w.prototype=Object.create(y&&y.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(w,y):w.__proto__=y)}var m=function(w){b(y,w);function y(){return g(this,y),v(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(O){var k=s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",O)),k}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),y}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var h=function(w){b(y,w),o(y,null,[{key:"register",value:function(){p.default.register(m,!0)}}]);function y(){g(this,y);var x=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return x}return y}(c.default);n.FormulaBlot=m,n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var o=function(){function O(k,E){for(var P=0;P<E.length;P++){var j=E[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,j.key,j)}}return function(k,E,P){return E&&O(k.prototype,E),P&&O(k,P),k}}(),s=function O(k,E,P){k===null&&(k=Function.prototype);var j=Object.getOwnPropertyDescriptor(k,E);if(j===void 0){var S=Object.getPrototypeOf(k);return S===null?void 0:O(S,E,P)}else{if("value"in j)return j.value;var N=j.get;return N===void 0?void 0:N.call(P)}},a=i(0),l=v(a),u=i(5),p=v(u),f=i(9),c=v(f),d=i(13),g=v(d);function v(O){return O&&O.__esModule?O:{default:O}}function b(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function m(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:O}function h(O,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var w=function(O){h(k,O);function k(){return b(this,k),m(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return o(k,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var j=this.domNode.textContent;this.cachedText!==j&&((j.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(j),this.domNode.normalize(),this.attach()),this.cachedText=j)}}]),k}(g.default);w.className="ql-syntax";var y=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),x=function(O){h(k,O),o(k,null,[{key:"register",value:function(){p.default.register(y,!0),p.default.register(w,!0)}}]);function k(E,P){b(this,k);var j=m(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,E,P));if(typeof j.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var S=null;return j.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(S),S=setTimeout(function(){j.highlight(),S=null},j.options.interval)}),j.highlight(),j}return o(k,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(p.default.sources.USER);var j=this.quill.getSelection();this.quill.scroll.descendants(w).forEach(function(S){S.highlight(P.options.highlight)}),this.quill.update(p.default.sources.SILENT),j!=null&&this.quill.setSelection(j,p.default.sources.SILENT)}}}]),k}(c.default);x.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var k=window.hljs.highlightAuto(O);return k.value}}(),interval:1e3},n.CodeBlock=w,n.CodeToken=y,n.default=x},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var o=function k(E,P,j){E===null&&(E=Function.prototype);var S=Object.getOwnPropertyDescriptor(E,P);if(S===void 0){var N=Object.getPrototypeOf(E);return N===null?void 0:k(N,P,j)}else{if("value"in S)return S.value;var A=S.get;return A===void 0?void 0:A.call(j)}},s=function(){function k(E,P){for(var j=0;j<P.length;j++){var S=P[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(E,S.key,S)}}return function(E,P,j){return P&&k(E.prototype,P),j&&k(E,j),E}}(),a=i(3),l=b(a),u=i(8),p=b(u),f=i(43),c=b(f),d=i(15),g=i(41),v=b(g);function b(k){return k&&k.__esModule?k:{default:k}}function m(k,E){if(!(k instanceof E))throw new TypeError("Cannot call a class as a function")}function h(k,E){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:k}function w(k,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);k.prototype=Object.create(E&&E.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(k,E):k.__proto__=E)}var y=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],x=function(k){w(E,k);function E(P,j){m(this,E),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=y);var S=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,j));return S.quill.container.classList.add("ql-bubble"),S}return s(E,[{key:"extendToolbar",value:function(j){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(j.container),this.buildButtons([].slice.call(j.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(j.container.querySelectorAll("select")),v.default)}}]),E}(c.default);x.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(k){w(E,k);function E(P,j){m(this,E);var S=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,P,j));return S.quill.on(p.default.events.EDITOR_CHANGE,function(N,A,C,R){if(N===p.default.events.SELECTION_CHANGE)if(A!=null&&A.length>0&&R===p.default.sources.USER){S.show(),S.root.style.left="0px",S.root.style.width="",S.root.style.width=S.root.offsetWidth+"px";var q=S.quill.getLines(A.index,A.length);if(q.length===1)S.position(S.quill.getBounds(A));else{var U=q[q.length-1],W=S.quill.getIndex(U),M=Math.min(U.length()-1,A.index+A.length-W),L=S.quill.getBounds(new d.Range(W,M));S.position(L)}}else document.activeElement!==S.textbox&&S.quill.hasFocus()&&S.hide()}),S}return s(E,[{key:"listen",value:function(){var j=this;o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){j.root.classList.remove("ql-editing")}),this.quill.on(p.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!j.root.classList.contains("ql-hidden")){var S=j.quill.getSelection();S!=null&&j.position(j.quill.getBounds(S))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(j){var S=o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,j),N=this.root.querySelector(".ql-tooltip-arrow");if(N.style.marginLeft="",S===0)return S;N.style.marginLeft=-1*S-N.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=x},function(r,n,i){r.exports=i(63)}]).default})})(vg);var dT=vg.exports,hT=mt&&mt.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])},e(t,r)};return function(t,r){e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bs=mt&&mt.__assign||function(){return Bs=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bs.apply(this,arguments)},pT=mt&&mt.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},ma=mt&&mt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qt=ma(H),mT=ma(Am),vi=ma(fT),mh=ma(dT),vT=function(e){hT(t,e);function t(r){var n=e.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(o,s,a,l){var u,p,f,c;o==="text-change"?(p=(u=n).onEditorChangeText)===null||p===void 0||p.call(u,n.editor.root.innerHTML,s,l,n.unprivilegedEditor):o==="selection-change"&&((c=(f=n).onEditorChangeSelection)===null||c===void 0||c.call(f,s,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i??"",n}return t.prototype.validateProps=function(r){var n;if(qt.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(qt.default.Children.count(r.children)){var i=qt.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(r,n){var i=this,o;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var s=this.getEditorContents(),a=(o=r.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),pT(this.cleanProps,this.dirtyProps).some(function(l){return!vi.default(r[l],i.props[l])})},t.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!vi.default(r[i],n.props[i])})},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),vh(function(){return i.setEditorSelection(u,l)})}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(r,n){var i=new mh.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},t.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(r){return r&&r.ops},t.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?vi.default(r.ops,n.ops):vi.default(r,n)},t.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var o=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),vh(function(){return i.setEditorSelection(r,o)})},t.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},t.prototype.setEditorTabIndex=function(r,n){var i,o;!((o=(i=r)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(r.scroll.domNode.tabIndex=n)},t.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},t.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=mT.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},t.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,o=n.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){r.editingArea=l}};return qt.default.Children.count(i)?qt.default.cloneElement(qt.default.Children.only(i),a):o?qt.default.createElement("pre",Bs({},a)):qt.default.createElement("div",Bs({},a))},t.prototype.render=function(){var r;return qt.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(r,n,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,r,n,i,o))}},t.prototype.onEditorChangeSelection=function(r,n,i){var o,s,a,l,u,p;if(this.editor){var f=this.getEditorSelection(),c=!f&&r,d=f&&!r;vi.default(r,f)||(this.selection=r,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,r,n,i),c?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,r,n,i):d&&((p=(u=this.props).onBlur)===null||p===void 0||p.call(u,f,n,i)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=mh.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(qt.default.Component);function vh(e){Promise.resolve().then(e)}var gT=vT;const yT=_u(gT);function gh(){const{id:e}=_c(),t=uo(),{user:r}=rt(),[n,i]=H.useState(""),[o,s]=H.useState(""),[a,l]=H.useState(""),[u,p]=H.useState(""),[f,c]=H.useState([]),[d,g]=H.useState(""),[v,b]=H.useState([]),[m,h]=H.useState([]),[w,y]=H.useState(!1),[x,O]=H.useState(!1);H.useEffect(()=>{e&&k()},[e]);const k=async()=>{try{const{data:R,error:q}=await re.from("posts").select("*").eq("id",e).single();if(q)throw q;if(R.author_id!==(r==null?void 0:r.id)){t("/feed");return}i(R.title),s(R.content),l(R.excerpt||""),p(R.cover_image||""),c(R.tags||[]),b(R.communities||[]),h(R.topics||[])}catch(R){console.error("Error fetching post:",R)}},E=()=>{d.trim()&&!f.includes(d.trim())&&(c([...f,d.trim()]),g(""))},P=R=>{c(f.filter(q=>q!==R))},j=R=>{b(q=>q.includes(R)?q.filter(U=>U!==R):[...q,R])},S=R=>{h(q=>q.includes(R)?q.filter(U=>U!==R):[...q,R])},N=async()=>{if(!(!r||!n.trim())){O(!0);try{const R=Fd(o),q={author_id:r.id,title:n.trim(),content:o,excerpt:a.trim()||null,cover_image:u.trim()||null,tags:f,communities:v,topics:m,reading_time:R,is_published:!1};if(e){const{error:U}=await re.from("posts").update(q).eq("id",e);if(U)throw U}else{const{data:U,error:W}=await re.from("posts").insert(q).select().single();if(W)throw W;t(`/write/${U.id}`,{replace:!0})}alert("Draft saved!")}catch(R){console.error("Error saving draft:",R),alert("Failed to save draft")}finally{O(!1)}}},A=async()=>{if(!r||!n.trim()||!o.trim()){alert("Please fill in title and content");return}y(!0);try{const R=Fd(o),q={author_id:r.id,title:n.trim(),content:o,excerpt:a.trim()||o.substring(0,200),cover_image:u.trim()||null,tags:f,communities:v,topics:m,reading_time:R,is_published:!0,published_at:new Date().toISOString()};if(e){const{error:U}=await re.from("posts").update(q).eq("id",e);if(U)throw U;t(`/post/${e}`)}else{const{data:U,error:W}=await re.from("posts").insert(q).select().single();if(W)throw W;t(`/post/${U.id}`)}}catch(R){console.error("Error publishing post:",R),alert("Failed to publish post")}finally{y(!1)}},C={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],["blockquote","code-block"],["link"],["clean"]]};return _.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsx("h1",{className:"text-3xl font-bold gradient-text",children:e?"Edit Post":"Write a New Post"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{onClick:N,disabled:x||!n.trim(),className:"btn btn-secondary flex items-center gap-2",children:[_.jsx(ax,{className:"w-5 h-5"}),x?"Saving...":"Save Draft"]}),_.jsxs("button",{onClick:A,disabled:w||!n.trim()||!o.trim(),className:"btn btn-primary flex items-center gap-2",children:[_.jsx(Ac,{className:"w-5 h-5"}),w?"Publishing...":"Publish"]})]})]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"card p-6",children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_.jsx(nx,{className:"w-5 h-5 inline mr-2"}),"Cover Image URL"]}),_.jsx("input",{type:"url",value:u,onChange:R=>p(R.target.value),placeholder:"https://example.com/image.jpg",className:"input"}),u&&_.jsx("img",{src:u,alt:"Cover preview",className:"mt-4 w-full h-64 object-cover rounded-lg"})]}),_.jsx("div",{className:"card p-6",children:_.jsx("input",{type:"text",value:n,onChange:R=>i(R.target.value),placeholder:"Your amazing title...",className:"w-full text-4xl font-bold outline-none border-none p-0"})}),_.jsxs("div",{className:"card p-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Excerpt (optional)"}),_.jsx("textarea",{value:a,onChange:R=>l(R.target.value),placeholder:"A brief summary of your post...",rows:3,className:"input resize-none"})]}),_.jsxs("div",{className:"card p-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),_.jsx(yT,{theme:"snow",value:o,onChange:s,modules:C,placeholder:"Tell your story..."})]}),_.jsxs("div",{className:"card p-6",children:[_.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_.jsx(lx,{className:"w-5 h-5 inline mr-2"}),"Tags"]}),_.jsxs("div",{className:"flex gap-2 mb-3",children:[_.jsx("input",{type:"text",value:d,onChange:R=>g(R.target.value),onKeyPress:R=>R.key==="Enter"&&(R.preventDefault(),E()),placeholder:"Add a tag...",className:"input flex-1"}),_.jsx("button",{onClick:E,className:"btn btn-primary",children:"Add"})]}),_.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(R=>_.jsxs("span",{className:"badge badge-primary flex items-center gap-1",children:["#",R,_.jsx("button",{onClick:()=>P(R),className:"ml-1 hover:text-red-600",children:""})]},R))})]}),_.jsxs("div",{className:"card p-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Communities (select at least 1)"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:Lc.map(R=>_.jsxs("button",{onClick:()=>j(R.value),className:`badge ${v.includes(R.value)?"badge-primary":"bg-gray-100 text-gray-600"}`,children:[R.icon," ",R.label]},R.value))})]}),_.jsxs("div",{className:"card p-6",children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Topics (select at least 1)"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:la.map(R=>_.jsxs("button",{onClick:()=>S(R.value),className:`badge ${m.includes(R.value)?"badge-cyan":"bg-gray-100 text-gray-600"}`,children:[R.icon," ",R.label]},R.value))})]})]})]})})}function gg({comment:e,postId:t,onUpdate:r,depth:n=0}){var m,h,w,y,x,O;const{user:i}=rt(),[o,s]=H.useState(!1),[a,l]=H.useState(""),[u,p]=H.useState([]),[f,c]=H.useState(!1);H.useEffect(()=>{d()},[e.id]);const d=async()=>{try{const{data:k,error:E}=await re.from("comments").select(`
          *,
          author:profiles!comments_author_id_fkey(*)
        `).eq("parent_id",e.id).order("created_at",{ascending:!0});if(E)throw E;p(k||[])}catch(k){console.error("Error fetching replies:",k)}},g=async k=>{if(k.preventDefault(),!(!i||!a.trim()||f)){c(!0);try{const{error:E}=await re.from("comments").insert({post_id:t,author_id:i.id,parent_id:e.id,content:a.trim()});if(E)throw E;l(""),s(!1),d(),r()}catch(E){console.error("Error submitting reply:",E),alert("Failed to submit reply")}finally{c(!1)}}},v=3,b=Math.min(n,v)*24;return _.jsxs("div",{className:`${n>0?"mt-4":""}`,style:{marginLeft:`${b}px`},children:[_.jsxs("div",{className:"card p-4",children:[_.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[_.jsx(Te,{to:`/profile/${(m=e.author)==null?void 0:m.username}`,children:(h=e.author)!=null&&h.avatar_url?_.jsx("img",{src:e.author.avatar_url,alt:e.author.username,className:"w-10 h-10 rounded-full object-cover"}):_.jsx("div",{className:"w-10 h-10 rounded-full gradient-bg flex items-center justify-center text-white font-semibold",children:(w=e.author)==null?void 0:w.username[0].toUpperCase()})}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx(Te,{to:`/profile/${(y=e.author)==null?void 0:y.username}`,className:"font-semibold text-gray-900 hover:text-blue-600",children:((x=e.author)==null?void 0:x.full_name)||((O=e.author)==null?void 0:O.username)}),_.jsx("span",{className:"text-sm text-gray-500",children:mo(e.created_at)})]}),_.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.content}),n<v&&_.jsxs("button",{onClick:()=>s(!o),className:"mt-2 text-sm text-blue-600 hover:text-blue-700 font-medium flex items-center gap-1",children:[_.jsx(ho,{className:"w-4 h-4"}),"Reply"]})]})]}),o&&_.jsxs("form",{onSubmit:g,className:"mt-4 ml-13",children:[_.jsx("textarea",{value:a,onChange:k=>l(k.target.value),placeholder:"Write a reply...",rows:2,className:"input resize-none mb-2 text-sm",autoFocus:!0}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{type:"submit",disabled:!a.trim()||f,className:"btn btn-primary text-sm py-1.5 px-3 flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[_.jsx(Rc,{className:"w-4 h-4"}),f?"Posting...":"Post Reply"]}),_.jsx("button",{type:"button",onClick:()=>{s(!1),l("")},className:"btn btn-secondary text-sm py-1.5 px-3",children:"Cancel"})]})]})]}),u.length>0&&_.jsx("div",{className:"mt-2",children:u.map(k=>_.jsx(gg,{comment:k,postId:t,onUpdate:r,depth:n+1},k.id))})]})}function wT(){var w,y,x,O,k;const{id:e}=_c(),{user:t}=rt(),[r,n]=H.useState(null),[i,o]=H.useState([]),[s,a]=H.useState(!0),[l,u]=H.useState(""),[p,f]=H.useState(!1);H.useEffect(()=>{e&&(c(),d(),g())},[e]);const c=async()=>{try{const{data:E,error:P}=await re.from("posts").select(`
          *,
          author:profiles!posts_author_id_fkey(*)
        `).eq("id",e).single();if(P)throw P;const{count:j}=await re.from("likes").select("*",{count:"exact",head:!0}).eq("post_id",e),{count:S}=await re.from("comments").select("*",{count:"exact",head:!0}).eq("post_id",e);let N=!1,A=!1;if(t){const{data:C}=await re.from("likes").select("id").eq("user_id",t.id).eq("post_id",e).single(),{data:R}=await re.from("bookmarks").select("id").eq("user_id",t.id).eq("post_id",e).single();N=!!C,A=!!R}n({...E,likes_count:j||0,comments_count:S||0,is_liked:N,is_bookmarked:A})}catch(E){console.error("Error fetching post:",E)}finally{a(!1)}},d=async()=>{try{const{data:E,error:P}=await re.from("comments").select(`
          *,
          author:profiles!comments_author_id_fkey(*)
        `).eq("post_id",e).is("parent_id",null).order("created_at",{ascending:!1});if(P)throw P;o(E||[])}catch(E){console.error("Error fetching comments:",E)}},g=async()=>{try{await re.rpc("increment",{row_id:e,x:1,table_name:"posts",column_name:"views"})}catch{}},v=async()=>{!t||!r||(r.is_liked?(await re.from("likes").delete().match({user_id:t.id,post_id:r.id}),n({...r,is_liked:!1,likes_count:(r.likes_count||0)-1})):(await re.from("likes").insert({user_id:t.id,post_id:r.id}),n({...r,is_liked:!0,likes_count:(r.likes_count||0)+1})))},b=async()=>{!t||!r||(r.is_bookmarked?(await re.from("bookmarks").delete().match({user_id:t.id,post_id:r.id}),n({...r,is_bookmarked:!1})):(await re.from("bookmarks").insert({user_id:t.id,post_id:r.id}),n({...r,is_bookmarked:!0})))},m=async()=>{const E=window.location.href;navigator.share?await navigator.share({title:r==null?void 0:r.title,url:E}):(await navigator.clipboard.writeText(E),alert("Link copied to clipboard!"))},h=async E=>{if(E.preventDefault(),!(!t||!l.trim()||p)){f(!0);try{const{error:P}=await re.from("comments").insert({post_id:e,author_id:t.id,content:l.trim()});if(P)throw P;u(""),d(),r&&n({...r,comments_count:(r.comments_count||0)+1})}catch(P){console.error("Error submitting comment:",P),alert("Failed to submit comment")}finally{f(!1)}}};return s?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):r?_.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-8",children:[r.cover_image&&_.jsx("img",{src:r.cover_image,alt:r.title,className:"w-full h-96 object-cover rounded-2xl mb-8 shadow-lg"}),_.jsxs("header",{className:"mb-8",children:[_.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:r.title}),r.excerpt&&_.jsx("p",{className:"text-xl text-gray-600 mb-6",children:r.excerpt}),_.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[_.jsxs(Te,{to:`/profile/${(w=r.author)==null?void 0:w.username}`,className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[(y=r.author)!=null&&y.avatar_url?_.jsx("img",{src:r.author.avatar_url,alt:r.author.username,className:"w-12 h-12 rounded-full object-cover"}):_.jsx("div",{className:"w-12 h-12 rounded-full gradient-bg flex items-center justify-center text-white font-semibold text-lg",children:(x=r.author)==null?void 0:x.username[0].toUpperCase()}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold text-gray-900",children:((O=r.author)==null?void 0:O.full_name)||((k=r.author)==null?void 0:k.username)}),_.jsx("p",{className:"text-sm text-gray-500",children:eg(r.published_at||r.created_at)})]})]}),_.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[r.reading_time&&_.jsx("span",{children:tg(r.reading_time)}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Ac,{className:"w-4 h-4"}),r.views]})]})]})]}),r.tags&&r.tags.length>0&&_.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:r.tags.map(E=>_.jsxs("span",{className:"badge badge-primary",children:["#",E]},E))}),_.jsx("div",{className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:r.content}}),_.jsxs("div",{className:"flex items-center justify-between py-6 border-y border-gray-200 mb-12",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("button",{onClick:v,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${r.is_liked?"bg-red-50 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[_.jsx(fo,{className:`w-6 h-6 ${r.is_liked?"fill-current":""}`}),_.jsx("span",{className:"font-medium",children:r.likes_count})]}),_.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:[_.jsx(ho,{className:"w-6 h-6"}),_.jsx("span",{className:"font-medium",children:r.comments_count})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:b,className:`p-2 rounded-lg transition-colors ${r.is_bookmarked?"bg-blue-50 text-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:_.jsx(aa,{className:`w-6 h-6 ${r.is_bookmarked?"fill-current":""}`})}),_.jsx("button",{onClick:m,className:"p-2 rounded-lg bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:_.jsx(Vv,{className:"w-6 h-6"})})]})]}),_.jsxs("section",{children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:["Comments (",r.comments_count,")"]}),_.jsxs("form",{onSubmit:h,className:"mb-8 card p-6",children:[_.jsx("textarea",{value:l,onChange:E=>u(E.target.value),placeholder:"Share your thoughts...",rows:3,className:"input resize-none mb-3"}),_.jsxs("button",{type:"submit",disabled:!l.trim()||p,className:"btn btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[_.jsx(Rc,{className:"w-5 h-5"}),p?"Posting...":"Post Comment"]})]}),_.jsx("div",{className:"space-y-6",children:i.map(E=>_.jsx(gg,{comment:E,postId:e,onUpdate:d},E.id))}),i.length===0&&_.jsx("p",{className:"text-center text-gray-500 py-8",children:"No comments yet. Be the first to share your thoughts!"})]})]})}):_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Post not found"}),_.jsx(Te,{to:"/feed",className:"text-blue-600 hover:text-blue-700",children:"Go back to feed"})]})})}function bT(){const{username:e}=_c(),{user:t,signOut:r}=rt(),[n,i]=H.useState(null),[o,s]=H.useState([]),[a,l]=H.useState(!0),[u,p]=H.useState(0),[f,c]=H.useState(0),[d,g]=H.useState(!1),[v,b]=H.useState("posts"),m=(t==null?void 0:t.username)===e;H.useEffect(()=>{h()},[e]);const h=async()=>{try{const{data:x,error:O}=await re.from("profiles").select("*").eq("username",e).single();if(O)throw O;i(x);const{count:k}=await re.from("follows").select("*",{count:"exact",head:!0}).eq("following_id",x.id),{count:E}=await re.from("follows").select("*",{count:"exact",head:!0}).eq("follower_id",x.id);if(p(k||0),c(E||0),t&&!m){const{data:P}=await re.from("follows").select("id").eq("follower_id",t.id).eq("following_id",x.id).single();g(!!P)}await w(x.id)}catch(x){console.error("Error fetching profile:",x)}finally{l(!1)}},w=async x=>{try{let O=re.from("posts").select(`
          *,
          author:profiles!posts_author_id_fkey(*),
          likes_count:likes(count),
          comments_count:comments(count)
        `).eq("author_id",x);v==="posts"?O=O.eq("is_published",!0):O=O.eq("is_published",!1);const{data:k,error:E}=await O.order("created_at",{ascending:!1});if(E)throw E;if(t&&k){const P=await Promise.all(k.map(async j=>{var A,C,R,q;const{data:S}=await re.from("likes").select("id").eq("user_id",t.id).eq("post_id",j.id).single(),{data:N}=await re.from("bookmarks").select("id").eq("user_id",t.id).eq("post_id",j.id).single();return{...j,is_liked:!!S,is_bookmarked:!!N,likes_count:((C=(A=j.likes_count)==null?void 0:A[0])==null?void 0:C.count)||0,comments_count:((q=(R=j.comments_count)==null?void 0:R[0])==null?void 0:q.count)||0}}));s(P)}else{const P=k==null?void 0:k.map(j=>{var S,N,A,C;return{...j,likes_count:((N=(S=j.likes_count)==null?void 0:S[0])==null?void 0:N.count)||0,comments_count:((C=(A=j.comments_count)==null?void 0:A[0])==null?void 0:C.count)||0}});s(P)}}catch(O){console.error("Error fetching posts:",O)}},y=async()=>{if(!(!t||!n))try{d?(await re.from("follows").delete().match({follower_id:t.id,following_id:n.id}),g(!1),p(x=>x-1)):(await re.from("follows").insert({follower_id:t.id,following_id:n.id}),g(!0),p(x=>x+1))}catch(x){console.error("Error toggling follow:",x)}};return a?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):n?_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsx("div",{className:"gradient-bg text-white",children:_.jsx("div",{className:"max-w-5xl mx-auto px-4 py-12",children:_.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[n.avatar_url?_.jsx("img",{src:n.avatar_url,alt:n.username,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}):_.jsx("div",{className:"w-32 h-32 rounded-full bg-white flex items-center justify-center text-blue-600 text-5xl font-bold border-4 border-white shadow-lg",children:n.username[0].toUpperCase()}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h1",{className:"text-4xl font-bold mb-2",children:n.full_name||n.username}),_.jsxs("p",{className:"text-white/80 text-lg mb-4",children:["@",n.username]}),n.bio&&_.jsx("p",{className:"text-white/90 mb-4 max-w-2xl",children:n.bio}),_.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-white/80",children:[n.website&&_.jsxs("a",{href:n.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-white",children:[_.jsx(ix,{className:"w-4 h-4"}),n.website.replace(/^https?:\/\//,"")]}),_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsx(Y_,{className:"w-4 h-4"}),"Joined ",eg(n.created_at)]})]}),_.jsxs("div",{className:"flex items-center gap-6 mt-4",children:[_.jsxs("div",{children:[_.jsx("span",{className:"font-bold text-2xl",children:u}),_.jsx("span",{className:"text-white/80 ml-2",children:"Followers"})]}),_.jsxs("div",{children:[_.jsx("span",{className:"font-bold text-2xl",children:f}),_.jsx("span",{className:"text-white/80 ml-2",children:"Following"})]})]})]}),_.jsx("div",{className:"flex flex-col gap-2",children:m?_.jsxs(_.Fragment,{children:[_.jsxs(Te,{to:"/write",className:"btn bg-white text-blue-600 hover:bg-gray-100 flex items-center gap-2",children:[_.jsx(Cc,{className:"w-5 h-5"}),"Edit Profile"]}),_.jsxs("button",{onClick:r,className:"btn bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 flex items-center gap-2",children:[_.jsx(ox,{className:"w-5 h-5"}),"Sign Out"]})]}):_.jsxs("button",{onClick:y,className:`btn flex items-center gap-2 ${d?"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30":"bg-white text-blue-600 hover:bg-gray-100"}`,children:[_.jsx(en,{className:"w-5 h-5"}),d?"Following":"Follow"]})})]})})}),_.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[m&&_.jsxs("div",{className:"flex gap-4 mb-8 border-b border-gray-200",children:[_.jsx("button",{onClick:()=>{b("posts"),n&&w(n.id)},className:`pb-3 px-1 font-semibold transition-colors ${v==="posts"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Published Posts"}),_.jsx("button",{onClick:()=>{b("drafts"),n&&w(n.id)},className:`pb-3 px-1 font-semibold transition-colors ${v==="drafts"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600 hover:text-gray-900"}`,children:"Drafts"})]}),_.jsx("div",{className:"space-y-6",children:o.map(x=>_.jsx(Ic,{post:x,onUpdate:()=>w(n.id)},x.id))}),o.length===0&&_.jsx("div",{className:"text-center py-12",children:_.jsx("p",{className:"text-gray-500",children:v==="posts"?"No published posts yet.":"No drafts yet."})})]})]}):_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile not found"}),_.jsx(Te,{to:"/feed",className:"text-blue-600 hover:text-blue-700",children:"Go back to feed"})]})})}function _T(){const{user:e}=rt(),[t,r]=H.useState([]),[n,i]=H.useState(!0);H.useEffect(()=>{o()},[]);const o=async()=>{if(e)try{const{data:f,error:c}=await re.from("notifications").select(`
          *,
          actor:profiles!notifications_actor_id_fkey(*),
          post:posts(title)
        `).eq("user_id",e.id).order("created_at",{ascending:!1}).limit(50);if(c)throw c;r(f||[])}catch(f){console.error("Error fetching notifications:",f)}finally{i(!1)}},s=async f=>{try{await re.from("notifications").update({is_read:!0}).eq("id",f),r(c=>c.map(d=>d.id===f?{...d,is_read:!0}:d))}catch(c){console.error("Error marking notification as read:",c)}},a=async()=>{if(e)try{await re.from("notifications").update({is_read:!0}).eq("user_id",e.id).eq("is_read",!1),r(f=>f.map(c=>({...c,is_read:!0})))}catch(f){console.error("Error marking all as read:",f)}},l=f=>{switch(f){case"like":return _.jsx(fo,{className:"w-5 h-5 text-red-600"});case"comment":return _.jsx(ho,{className:"w-5 h-5 text-blue-600"});case"follow":return _.jsx(ux,{className:"w-5 h-5 text-green-600"});default:return _.jsx(du,{className:"w-5 h-5 text-gray-600"})}},u=f=>{var d,g;const c=((d=f.actor)==null?void 0:d.full_name)||((g=f.actor)==null?void 0:g.username);switch(f.type){case"like":return`${c} liked your post`;case"comment":return`${c} commented on your post`;case"follow":return`${c} started following you`;case"mention":return`${c} mentioned you in a post`;default:return"New notification"}},p=f=>{var c;return f.post_id?`/post/${f.post_id}`:f.type==="follow"?`/profile/${(c=f.actor)==null?void 0:c.username}`:"#"};return n?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):_.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Notifications"}),_.jsx("p",{className:"text-gray-600",children:"Stay updated with your activity"})]}),t.some(f=>!f.is_read)&&_.jsxs("button",{onClick:a,className:"btn btn-secondary flex items-center gap-2",children:[_.jsx(Q_,{className:"w-5 h-5"}),"Mark all as read"]})]}),_.jsx("div",{className:"space-y-3",children:t.map(f=>{var c,d;return _.jsxs(Te,{to:p(f),onClick:()=>!f.is_read&&s(f.id),className:`card p-4 flex items-start gap-4 hover:shadow-lg transition-shadow ${f.is_read?"":"bg-blue-50 border-l-4 border-blue-600"}`,children:[(c=f.actor)!=null&&c.avatar_url?_.jsx("img",{src:f.actor.avatar_url,alt:f.actor.username,className:"w-12 h-12 rounded-full object-cover"}):_.jsx("div",{className:"w-12 h-12 rounded-full gradient-bg flex items-center justify-center text-white font-semibold",children:(d=f.actor)==null?void 0:d.username[0].toUpperCase()}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[_.jsx("div",{className:"mt-1",children:l(f.type)}),_.jsx("p",{className:"text-gray-900 font-medium",children:u(f)})]}),f.post&&_.jsxs("p",{className:"text-sm text-gray-600 line-clamp-1",children:['"',f.post.title,'"']}),_.jsx("p",{className:"text-sm text-gray-500 mt-1",children:mo(f.created_at)})]}),!f.is_read&&_.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600 flex-shrink-0 mt-2"})]},f.id)})}),t.length===0&&_.jsxs("div",{className:"text-center py-12 card",children:[_.jsx(du,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No notifications yet"}),_.jsx("p",{className:"text-gray-600",children:"When people interact with your posts, you'll see it here"})]})]})})}function xT(){const{user:e}=rt(),[t,r]=H.useState([]),[n,i]=H.useState(!0);H.useEffect(()=>{o()},[]);const o=async()=>{if(e)try{const{data:s,error:a}=await re.from("bookmarks").select(`
          *,
          post:posts(
            *,
            author:profiles!posts_author_id_fkey(*),
            likes_count:likes(count),
            comments_count:comments(count)
          )
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(a)throw a;const l=await Promise.all((s==null?void 0:s.map(async u=>{var c,d,g,v;const p=u.post,{data:f}=await re.from("likes").select("id").eq("user_id",e.id).eq("post_id",p.id).single();return{...p,is_liked:!!f,is_bookmarked:!0,likes_count:((d=(c=p.likes_count)==null?void 0:c[0])==null?void 0:d.count)||0,comments_count:((v=(g=p.comments_count)==null?void 0:g[0])==null?void 0:v.count)||0}}))||[]);r(l)}catch(s){console.error("Error fetching bookmarks:",s)}finally{i(!1)}};return n?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):_.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Bookmarks"}),_.jsx("p",{className:"text-gray-600",children:"Your saved posts for later reading"})]}),_.jsx("div",{className:"space-y-6",children:t.map(s=>_.jsx(Ic,{post:s,onUpdate:o},s.id))}),t.length===0&&_.jsxs("div",{className:"text-center py-12 card",children:[_.jsx(aa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No bookmarks yet"}),_.jsx("p",{className:"text-gray-600",children:"Save posts you want to read later by clicking the bookmark icon"})]})]})})}function kT(){const{user:e}=rt(),[t,r]=H.useState([]),[n,i]=H.useState(!0),[o,s]=H.useState(!1),[a,l]=H.useState({title:"",description:"",isPublic:!0});H.useEffect(()=>{u()},[]);const u=async()=>{if(e)try{const{data:f,error:c}=await re.from("collaborative_spaces").select(`
          *,
          creator:profiles!collaborative_spaces_creator_id_fkey(*),
          collaborators:space_collaborators(count)
        `).or(`creator_id.eq.${e.id},is_public.eq.true`).order("created_at",{ascending:!1});if(c)throw c;const d=f==null?void 0:f.map(g=>{var v,b;return{...g,collaborator_count:((b=(v=g.collaborators)==null?void 0:v[0])==null?void 0:b.count)||0}});r(d||[])}catch(f){console.error("Error fetching spaces:",f)}finally{i(!1)}},p=async f=>{if(f.preventDefault(),!(!e||!a.title.trim()))try{const{error:c}=await re.from("collaborative_spaces").insert({creator_id:e.id,title:a.title.trim(),description:a.description.trim()||null,is_public:a.isPublic});if(c)throw c;s(!1),l({title:"",description:"",isPublic:!0}),u()}catch(c){console.error("Error creating space:",c),alert("Failed to create space")}};return n?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-4xl font-bold gradient-text mb-2",children:"Collaborative Spaces"}),_.jsx("p",{className:"text-gray-600",children:"Write together in real-time"})]}),_.jsxs("button",{onClick:()=>s(!0),className:"btn btn-primary flex items-center gap-2",children:[_.jsx(Ls,{className:"w-5 h-5"}),"Create Space"]})]}),_.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(f=>{var c,d,g;return _.jsxs("div",{className:"card p-6 hover:shadow-lg transition-shadow",children:[_.jsxs("div",{className:"flex items-start justify-between mb-4",children:[_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:f.title}),f.description&&_.jsx("p",{className:"text-gray-600 text-sm line-clamp-2",children:f.description})]}),f.is_public?_.jsx(tx,{className:"w-5 h-5 text-green-600"}):_.jsx(Hv,{className:"w-5 h-5 text-gray-600"})]}),_.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4",children:[_.jsx(en,{className:"w-4 h-4"}),_.jsxs("span",{children:[f.collaborator_count," collaborators"]})]}),_.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[(c=f.creator)!=null&&c.avatar_url?_.jsx("img",{src:f.creator.avatar_url,alt:f.creator.username,className:"w-8 h-8 rounded-full object-cover"}):_.jsx("div",{className:"w-8 h-8 rounded-full gradient-bg flex items-center justify-center text-white text-sm font-semibold",children:(d=f.creator)==null?void 0:d.username[0].toUpperCase()}),_.jsx("span",{className:"text-sm text-gray-600",children:(g=f.creator)==null?void 0:g.username})]}),_.jsx("button",{className:"btn btn-primary text-sm",children:"Open"})]})]},f.id)})}),t.length===0&&_.jsxs("div",{className:"text-center py-12 card",children:[_.jsx(en,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),_.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No collaborative spaces yet"}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Create a space to start writing with others in real-time"}),_.jsxs("button",{onClick:()=>s(!0),className:"btn btn-primary inline-flex items-center gap-2",children:[_.jsx(Ls,{className:"w-5 h-5"}),"Create Your First Space"]})]})]}),o&&_.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full",children:[_.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create Collaborative Space"}),_.jsxs("form",{onSubmit:p,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),_.jsx("input",{type:"text",required:!0,value:a.title,onChange:f=>l({...a,title:f.target.value}),placeholder:"My Awesome Space",className:"input"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),_.jsx("textarea",{value:a.description,onChange:f=>l({...a,description:f.target.value}),placeholder:"What's this space about?",rows:3,className:"input resize-none"})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("input",{type:"checkbox",id:"isPublic",checked:a.isPublic,onChange:f=>l({...a,isPublic:f.target.checked}),className:"w-5 h-5 text-blue-600"}),_.jsx("label",{htmlFor:"isPublic",className:"text-sm font-medium text-gray-700",children:"Make this space public"})]}),_.jsxs("div",{className:"flex gap-3 pt-4",children:[_.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 btn btn-secondary",children:"Cancel"}),_.jsx("button",{type:"submit",className:"flex-1 btn btn-primary",children:"Create Space"})]})]})]})})]})}function ET(){const{user:e}=rt(),[t,r]=H.useState([]),[n,i]=H.useState(!0),[o,s]=H.useState("active");H.useEffect(()=>{a()},[o]);const a=async()=>{try{const{data:u,error:p}=await re.from("debates").select(`
          *,
          post_a:posts!debates_post_a_id_fkey(id, title, author:profiles(username)),
          post_b:posts!debates_post_b_id_fkey(id, title, author:profiles(username)),
          creator:profiles!debates_creator_id_fkey(username),
          votes:debate_votes(count)
        `).eq("status",o).order("created_at",{ascending:!1});if(p)throw p;const f=await Promise.all((u==null?void 0:u.map(async c=>{const{count:d}=await re.from("debate_votes").select("*",{count:"exact",head:!0}).eq("debate_id",c.id).eq("voted_for_post_id",c.post_a_id),{count:g}=await re.from("debate_votes").select("*",{count:"exact",head:!0}).eq("debate_id",c.id).eq("voted_for_post_id",c.post_b_id);let v=null;if(e){const{data:b}=await re.from("debate_votes").select("voted_for_post_id").eq("debate_id",c.id).eq("user_id",e.id).single();v=(b==null?void 0:b.voted_for_post_id)||null}return{...c,votes_a:d||0,votes_b:g||0,user_vote:v}}))||[]);r(f)}catch(u){console.error("Error fetching debates:",u)}finally{i(!1)}},l=async(u,p)=>{if(e)try{const{data:f}=await re.from("debate_votes").select("id").eq("debate_id",u).eq("user_id",e.id).single();if(f){alert("You have already voted in this debate");return}const{error:c}=await re.from("debate_votes").insert({debate_id:u,user_id:e.id,voted_for_post_id:p});if(c)throw c;a()}catch(f){console.error("Error voting:",f),alert("Failed to vote")}};return n?_.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):_.jsx("div",{className:"min-h-screen bg-gray-50",children:_.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[_.jsxs("div",{className:"flex items-center justify-between mb-8",children:[_.jsxs("div",{children:[_.jsxs("h1",{className:"text-4xl font-bold gradient-text mb-2 flex items-center gap-3",children:[_.jsx(hu,{className:"w-10 h-10"}),"Post Debates"]}),_.jsx("p",{className:"text-gray-600",children:"Vote on the best arguments and ideas"})]}),_.jsxs("button",{className:"btn btn-primary flex items-center gap-2",children:[_.jsx(Ls,{className:"w-5 h-5"}),"Create Debate"]})]}),_.jsxs("div",{className:"flex gap-3 mb-8",children:[_.jsx("button",{onClick:()=>s("active"),className:`btn ${o==="active"?"btn-primary":"btn-secondary"}`,children:"Active"}),_.jsx("button",{onClick:()=>s("voting"),className:`btn ${o==="voting"?"btn-primary":"btn-secondary"}`,children:"Voting"}),_.jsx("button",{onClick:()=>s("concluded"),className:`btn ${o==="concluded"?"btn-primary":"btn-secondary"}`,children:"Concluded"})]}),_.jsx("div",{className:"space-y-6",children:t.map(u=>{var p,f,c,d,g,v,b,m,h;return _.jsxs("div",{className:"card p-6",children:[_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:"flex items-start justify-between mb-2",children:[_.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:u.title}),u.status==="concluded"&&_.jsxs("span",{className:"badge bg-green-100 text-green-800 flex items-center gap-1",children:[_.jsx(J_,{className:"w-4 h-4"}),"Concluded"]})]}),u.description&&_.jsx("p",{className:"text-gray-600",children:u.description}),_.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Created by @",(p=u.creator)==null?void 0:p.username,"  ",mo(u.created_at)]})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${u.user_vote===u.post_a_id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:[_.jsxs(Te,{to:`/post/${(f=u.post_a)==null?void 0:f.id}`,className:"block mb-4 hover:opacity-80 transition-opacity",children:[_.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:(c=u.post_a)==null?void 0:c.title}),_.jsxs("p",{className:"text-sm text-gray-600",children:["by @",(g=(d=u.post_a)==null?void 0:d.author)==null?void 0:g.username]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(ro,{className:"w-5 h-5 text-blue-600"}),_.jsxs("span",{className:"font-bold text-gray-900",children:[u.votes_a," votes"]})]}),u.status!=="concluded"&&!u.user_vote&&_.jsx("button",{onClick:()=>l(u.id,u.post_a_id),className:"btn btn-primary text-sm",children:"Vote"}),u.user_vote===u.post_a_id&&_.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Your vote"})]}),_.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-blue-600 to-cyan-600 transition-all",style:{width:`${(u.votes_a??0)+(u.votes_b??0)>0?(u.votes_a??0)/((u.votes_a??0)+(u.votes_b??0))*100:50}%`}})})]}),_.jsxs("div",{className:`p-6 rounded-xl border-2 transition-all ${u.user_vote===u.post_b_id?"border-cyan-600 bg-cyan-50":"border-gray-200 hover:border-cyan-300"}`,children:[_.jsxs(Te,{to:`/post/${(v=u.post_b)==null?void 0:v.id}`,className:"block mb-4 hover:opacity-80 transition-opacity",children:[_.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2",children:(b=u.post_b)==null?void 0:b.title}),_.jsxs("p",{className:"text-sm text-gray-600",children:["by @",(h=(m=u.post_b)==null?void 0:m.author)==null?void 0:h.username]})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(ro,{className:"w-5 h-5 text-cyan-600"}),_.jsxs("span",{className:"font-bold text-gray-900",children:[u.votes_b," votes"]})]}),u.status!=="concluded"&&!u.user_vote&&_.jsx("button",{onClick:()=>l(u.id,u.post_b_id),className:"btn bg-gradient-to-r from-cyan-600 to-blue-600 text-white text-sm",children:"Vote"}),u.user_vote===u.post_b_id&&_.jsx("span",{className:"text-sm font-medium text-cyan-600",children:"Your vote"})]}),_.jsx("div",{className:"mt-4 h-2 bg-gray-200 rounded-full overflow-hidden",children:_.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-600 to-blue-600 transition-all",style:{width:`${(u.votes_a??0)+(u.votes_b??0)>0?(u.votes_b??0)/((u.votes_a??0)+(u.votes_b??0))*100:50}%`}})})]})]}),_.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:["Total votes: ",(u.votes_a??0)+(u.votes_b??0)]})]},u.id)})}),t.length===0&&_.jsxs("div",{className:"text-center py-12 card",children:[_.jsx(hu,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),_.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:["No ",o," debates"]}),_.jsx("p",{className:"text-gray-600 mb-6",children:"Create a debate to pit two great posts against each other"}),_.jsxs("button",{className:"btn btn-primary inline-flex items-center gap-2",children:[_.jsx(Ls,{className:"w-5 h-5"}),"Create Debate"]})]})]})})}function ST(){const e=Gn(),{user:t}=rt(),r=i=>e.pathname===i,n=[{path:"/feed",icon:rx,label:"Feed"},{path:"/explore",icon:Z_,label:"Explore"},{path:"/write",icon:Cc,label:"Write"},{path:"/spaces",icon:en,label:"Spaces"},{path:"/debates",icon:hu,label:"Debates"},{path:"/bookmarks",icon:aa,label:"Bookmarks"},{path:"/notifications",icon:du,label:"Notifications"}];return _.jsx("nav",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"flex items-center justify-between h-16",children:[_.jsxs(Te,{to:"/feed",className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-8 h-8 gradient-bg rounded-lg flex items-center justify-center",children:_.jsx("span",{className:"text-white font-bold text-xl",children:"A"})}),_.jsx("span",{className:"text-xl font-bold gradient-text hidden sm:inline",children:"Aesop Blog"})]}),_.jsx("div",{className:"hidden md:flex items-center gap-1",children:n.map(({path:i,icon:o,label:s})=>_.jsxs(Te,{to:i,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${r(i)?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:[_.jsx(o,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-medium",children:s})]},i))}),_.jsxs(Te,{to:`/profile/${t==null?void 0:t.username}`,className:"flex items-center gap-2 hover:bg-gray-100 rounded-lg px-3 py-2 transition-colors",children:[t!=null&&t.avatar_url?_.jsx("img",{src:t.avatar_url,alt:t.full_name||t.username,className:"w-8 h-8 rounded-full object-cover"}):_.jsx("div",{className:"w-8 h-8 rounded-full gradient-bg flex items-center justify-center",children:_.jsx(pu,{className:"w-5 h-5 text-white"})}),_.jsx("span",{className:"hidden sm:inline font-medium text-gray-900",children:t==null?void 0:t.username})]})]}),_.jsx("div",{className:"md:hidden border-t border-gray-200 -mx-4 px-4 py-2",children:_.jsx("div",{className:"flex items-center justify-around",children:n.slice(0,5).map(({path:i,icon:o})=>_.jsx(Te,{to:i,className:`p-2 rounded-lg transition-all ${r(i)?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:_.jsx(o,{className:"w-6 h-6"})},i))})})]})})}function OT(){return _.jsx("div",{className:"min-h-screen flex items-center justify-center gradient-bg",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent"}),_.jsx("h1",{className:"mt-4 text-3xl font-bold text-white",children:"Aesop Blog"}),_.jsx("p",{className:"mt-2 text-white/80",children:"Loading..."})]})})}function jT(){var i,o;const{user:e,loading:t,fetchUser:r,setUser:n}=rt();return H.useEffect(()=>{r();const{data:{subscription:s}}=re.auth.onAuthStateChange(async(a,l)=>{a==="SIGNED_IN"&&(l!=null&&l.user)?r():a==="SIGNED_OUT"&&n(null)});return()=>{s.unsubscribe()}},[]),t?_.jsx(OT,{}):_.jsx(z1,{children:_.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e&&_.jsx(ST,{}),_.jsxs(D1,{children:[_.jsx(Je,{path:"/",element:e?_.jsx(it,{to:"/feed"}):_.jsx(cx,{})}),_.jsx(Je,{path:"/auth",element:e?_.jsx(it,{to:"/feed"}):_.jsx(fx,{})}),_.jsx(Je,{path:"/onboarding",element:e&&(!((i=e.communities)!=null&&i.length)||!((o=e.topics)!=null&&o.length))?_.jsx(dx,{}):_.jsx(it,{to:"/feed"})}),_.jsx(Je,{path:"/feed",element:e?_.jsx($k,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/explore",element:e?_.jsx(Mk,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/write",element:e?_.jsx(gh,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/write/:id",element:e?_.jsx(gh,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/post/:id",element:e?_.jsx(wT,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/profile/:username",element:e?_.jsx(bT,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/notifications",element:e?_.jsx(_T,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/bookmarks",element:e?_.jsx(xT,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/spaces",element:e?_.jsx(kT,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"/debates",element:e?_.jsx(ET,{}):_.jsx(it,{to:"/auth"})}),_.jsx(Je,{path:"*",element:_.jsx(it,{to:"/"})})]})]})})}nl.createRoot(document.getElementById("root")).render(_.jsx(Ou.StrictMode,{children:_.jsx(jT,{})}));
